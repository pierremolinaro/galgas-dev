semantics testsuite_category_readers :

abstract class @A_A {}

class @B_B extends @A_A {}

abstract reader @A_A aReader ?@uint inA ??@string inB -> @string outResult ;

override reader @B_B aReader ?@uint inA ??@string inB -> @string outResult
:
  inA ++ ;
  outResult := inB . inA ;
end reader ;

reader @B_B otherReader ?@uint inA ??@string inB -> @string outResult
:
  inA ++ ;
  outResult := inB . inA . [selfcopy aReader !inA !inB] . [selfcopy aReader !inA !inB] ;
end reader ;

abstract class @C_C extends @B_B {}

override abstract reader @C_C aReader ?@uint inA ??@string inB -> @string outResult ;

routine testsuite_category_readers :
  message "*************************************** begin of category reader test\n" ;
  @B_B b := [@B_B new] ;
  @string s := [b otherReader !2 !"-"] ;
  log s ;
end routine ;

end semantics ;
