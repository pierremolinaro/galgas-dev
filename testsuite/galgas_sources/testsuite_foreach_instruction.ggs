semantics testsuite_foreach_instruction :

routine testsuite_foreach_instruction :
  @stringlist strList [emptyList] ;
  strList += !"a" ;
  strList += !"b" ;
  strList += !"c" ;
  strList += !"d" ;
  message "--- begin of foreach instruction test 1\n" ;
  foreach < strList (@string s)
  before
    message "  before\n" ;
  do
    message "  do '" . s . "'\n" ;
  between
    message "  between\n" ;
  after
    message "  after\n" ;
  end foreach ;
  message "--- begin of foreach instruction test 2\n" ;
  foreach < strList (@string s)
  while false
  before
    message "  before\n" ;
  do
    message "  do '" . s . "'\n" ;
  between
    message "  between\n" ;
  after
    message "  after\n" ;
  end foreach ;
  message "--- begin of foreach instruction test 3\n" ;
  @uint n := 0 ;
  foreach < strList (@string s)
  while n < 2
  before
    message "  before\n" ;
  do
    message "  do '" . s . "', n: " . [n string] . "\n" ;
    n ++ ;
  between
    message "  between\n" ;
  after
    message "  after\n" ;
  end foreach ;
  message "--- begin of foreach instruction test 4\n" ;
  foreach < strList (@string s)
  while s != "c"
  before
    message "  before\n" ;
  do
    message "  do '" . s . "'\n" ;
  between
    message "  between\n" ;
  after
    message "  after\n" ;
  end foreach ;
  message "--- begin of foreach instruction test 5\n" ;
  foreach < strList (@string s)
  :index
  before
    message "  before (index: " . [index string] . ")\n" ;
  do
    message "  do '" . s . "' (index: " . [index string] . ")\n" ;
  between
    message "  between (index: " . [index string] . ")\n" ;
  after
    message "  after (index: " . [index string] . ")\n" ;
  end foreach ;
  message "--- begin of foreach instruction test 6\n" ;
  foreach < strList (@string s)
  :index
  do
    message "  do '" . s . "' (index: " . [index string] . ")\n" ;
  end foreach ;
end routine ;

end semantics ;
