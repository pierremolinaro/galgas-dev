//---------------------------------------------------------------------------*
//                                                                           *
//                          File 'cocoaGalgas.mm'                            *
//                 Generated by version GALGAS_BETA_VERSION                  *
//                        july 1st, 2009, at 16h2'5"                         *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "version_libpm.h"
#if LIBPM_VERSION != THE_LIBPM_VERSION
  #error "This file has been compiled with a version of GALGAS different than the version of libpm"
#endif

//---------------------------------------------------------------------------*

#import "OC_Token.h"
#import "galgas_scanner-cocoa.m"
#import "F_CocoaWrapperForGalgas.h"
#import "GGSUpdateCocoaGalgas.h"
#ifdef USER_DEFAULT_COLORS_DEFINED
  #import "user_default_colors.h"
#endif

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2

#pragma mark Boolean Command Line Options

//---------------------------------------------------------------------------*
//                                                                           *
//                       Boolean Command Line Options                        *
//                                                                           *
//---------------------------------------------------------------------------*

#define kBoolOptionCount (14)

static const char gBoolOptionChar [kBoolOptionCount] = {
  '\0',
  '\0',
  '\0',
  '\0',
  'v',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
  '\0',
} ;

static const char * gBoolOptionString [kBoolOptionCount] = {
  "help",
  "version",
  "lexical-analysis-only",
  "parse-only",
  "verbose",
  "log-file-read",
  "no-file-generation",
  "Werror",
  "detailled-error-messages",
  "do-not-generate-xcode-project",
  "generate_debug",
  "output-html-grammar-file",
  "print-predefined-lexical-actions",
  "shadow",
} ;

static const char * gBoolOptionDescription [kBoolOptionCount] = {
  "Display help information",
  "Display version",
  "Perform only lexical analysis on input files",
  "Parse only input files",
  "Verbose Output",
  "Log every file read",
  "Do not generate any file",
  "Treat warnings as errors",
  "Print detailled error messages",
  "Prevent Generation of the corresponding Xcode project",
  "Generate Debug Information on terminals and non-terminals symbols",
  "Output a HTML file for every grammar component",
  "Print the list of predefined lexical routines and functions",
  "Warn on declarations that shadow a previously declared object",
} ;

static bool gBoolOptionValue [kBoolOptionCount] ;

unsigned getBoolOptionsCount (void) {
  return kBoolOptionCount ;
}

bool getBoolOptionValue (const unsigned inIndex) {
  return gBoolOptionValue [inIndex] ;
}

void setBoolOptionValue (const unsigned inIndex, const bool inValue) {
  gBoolOptionValue [inIndex] = inValue ;
}

char getBoolOptionChar (const unsigned inIndex)  {
  return gBoolOptionChar [inIndex] ;
}

const char * getBoolOptionString (const unsigned inIndex) {
  return gBoolOptionString [inIndex] ;
}

const char * getBoolOptionDescription (const unsigned inIndex) {
  return gBoolOptionDescription [inIndex] ;
}

//---------------------------------------------------------------------------*

#pragma mark Unsigned Command Line Options

//---------------------------------------------------------------------------*
//                                                                           *
//                      Unsigned Command Line Options                        *
//                                                                           *
//---------------------------------------------------------------------------*

#define kUIntOptionCount (2)

static const char gUIntOptionChar [kUIntOptionCount] = {
  '\0',
  '\0',
} ;

static const char * gUIntOptionString [kUIntOptionCount] = {
  "max-errors",
  "max-warnings",
} ;

static const char * gUIntOptionDescription [kUIntOptionCount] = {
  "Stop after the given number of errors has been reached (by default: 100)",
  "Stop after the given number of warnings has been reached (by default: 100)",
} ;

static unsigned gUintOptionValue [kUIntOptionCount] ;


unsigned getUIntOptionsCount (void) {
  return kUIntOptionCount ;
}

unsigned getUIntOptionValue (const unsigned inIndex) {
  return gUintOptionValue [inIndex] ;
}

void setUIntOptionValue (const unsigned inIndex, const unsigned inValue) {
  gUintOptionValue [inIndex] = inValue ;
}

char getUIntOptionChar (const unsigned inIndex)  {
  return gUIntOptionChar [inIndex] ;
}

const char * getUIntOptionString (const unsigned inIndex) {
  return gUIntOptionString [inIndex] ;
}

const char * getUIntOptionDescription (const unsigned inIndex) {
  return gUIntOptionDescription [inIndex] ;
}

//---------------------------------------------------------------------------*

#pragma mark String Command Line Options

//---------------------------------------------------------------------------*
//                                                                           *
//                       String Command Line Options                         *
//                                                                           *
//---------------------------------------------------------------------------*

#define kStringOptionCount (1)

static const char gStringOptionChar [kStringOptionCount] = {
  '\0',
} ;

static const char * gStringOptionString [kStringOptionCount] = {
  "create-project",
} ;

static const char * gStringOptionDescription [kStringOptionCount] = {
  "Create a new GALGAS Project",
} ;

static NSString * gStringOptionValue [kStringOptionCount] ;

unsigned getStringOptionsCount (void) {
  return kStringOptionCount ;
}

NSString * getStringOptionValue (const unsigned inIndex) {
  return gStringOptionValue [inIndex] ;
}

void setStringOptionValue (const unsigned inIndex, NSString * inValue) {
  gStringOptionValue [inIndex] = inValue ;
}

char getStringOptionChar (const unsigned inIndex)  {
  return gStringOptionChar [inIndex] ;
}

const char * getStringOptionString (const unsigned inIndex) {
  return gStringOptionString [inIndex] ;
}

const char * getStringOptionDescription (const unsigned inIndex) {
  return gStringOptionDescription [inIndex] ;
}

//---------------------------------------------------------------------------*

#pragma mark Popup List Data

//---------------------------------------------------------------------------*
//                                                                           *
//                     P O P U P    L I S T    D A T A                       *
//                                                                           *
//---------------------------------------------------------------------------*

static uint16 kPopUpListData_7 [] = {99, 0} ;

//---------------------------------------------------------------------------*

static uint16 kPopUpListData_20 [] = {99, 0} ;

//---------------------------------------------------------------------------*

static uint16 kPopUpListData_41 [] = {99, 0} ;

//---------------------------------------------------------------------------*

static uint16 kPopUpListData_45 [] = {99, 0} ;

//---------------------------------------------------------------------------*

static uint16 kPopUpListData_49 [] = {99, 0} ;

//---------------------------------------------------------------------------*

static uint16 kPopUpListData_52 [] = {141, 0} ;

//---------------------------------------------------------------------------*

static uint16 kPopUpListData_62 [] = {99, 0} ;

//---------------------------------------------------------------------------*

static uint16 kPopUpListData_68 [] = {1, 0} ;

//---------------------------------------------------------------------------*

static uint16 kPopUpListData_69 [] = {141, 0} ;

//---------------------------------------------------------------------------*

static uint16 kPopUpListData_75 [] = {99, 0} ;

//---------------------------------------------------------------------------*

static const uint16 * kPopUpListData [144] = {
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  kPopUpListData_7,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  kPopUpListData_20,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  kPopUpListData_41,
  NULL,
  NULL,
  NULL,
  kPopUpListData_45,
  NULL,
  NULL,
  NULL,
  kPopUpListData_49,
  NULL,
  NULL,
  kPopUpListData_52,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  kPopUpListData_62,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  kPopUpListData_68,
  kPopUpListData_69,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  kPopUpListData_75,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL,
  NULL} ;

//---------------------------------------------------------------------------*

#pragma mark Nibs

//---------------------------------------------------------------------------*
//                                                                           *
//          N I B S   A N D   T H E I R   M A I N   C L A S S E S            *
//                                                                           *
//---------------------------------------------------------------------------*

NSArray * nibsAndClasses (void) {
  return [NSArray arrayWithObjects:
    [NSArray arrayWithObjects:@"galgasUpdate", [GGSUpdateCocoaGalgas class], nil],
    nil
  ] ;
}

//---------------------------------------------------------------------------*

#pragma mark Lexique interface

//---------------------------------------------------------------------------*
//                                                                           *
//                            Lexique interface                              *
//                                                                           *
//---------------------------------------------------------------------------*

@interface OC_Tokenizer_galgas_scanner : OC_Lexique_galgas_scanner {
}

@end

//---------------------------------------------------------------------------*

@implementation OC_Tokenizer_galgas_scanner

//---------------------------------------------------------------------------*

- (NSString *) blockComment {
  return @"#" ;
}

//---------------------------------------------------------------------------*

- (UInt32) textMacroCount {
  return 7 ;
}

//---------------------------------------------------------------------------*

- (NSString *) textMacroTitleAtIndex: (const UInt32) inIndex {
  static NSString * kTextMacroTitle [8] = {
    @"Types/Class",
    @"Types/Enum",
    @"Types/List",
    @"Types/List Map",
    @"Types/Map",
    @"Types/Sorted List",
    @"Types/Struct",
    NULL
  } ;
  return kTextMacroTitle [inIndex] ;
}

//---------------------------------------------------------------------------*

- (NSString *) textMacroContentAtIndex: (const UInt32) inIndex {
  static NSString * kTextMacroContent [8] = {
    @"class @aClassName : extends @superClassNane {\n"
    "  @aType mAnAttribute ;\n"
    "  override method myMethod !@string outResult :\n"
    "    outResult := \"a string\" ;\n"
    "  end method ;\n"
    "}\n",
    @"enum @aType {\n"
    "  constructor constant1 ;\n"
    "  constructor constant2 ;\n"
    "}{\n"
    "  reader actualArgumentMessage :\n"
    "    constant1 -> \"message for constant1\" ;\n"
    "    constant2 -> \"message for constant2\" ;\n"
    "  end reader ;\n"
    "}\n",
    @"list @type {\n"
    "  @aType mAnAttribute ;\n"
    "}\n",
    @"list @type {\n"
    "  @aType mAnAttribute ;\n"
    "}\n"
    "listmap @myListMap (@aList) ;\n",
    @"map @type {\n"
    "  @aType mAnAttribute ;\n"
    "  insert insertKey error message \"the '%K' key is already declared in %L\" ;\n"
    "  search searchKey error message \"there is no '%K' key\" ;\n"
    "}\n",
    @"sortedlist @type {\n"
    "  @string mFirstAttribute ;\n"
    "  @bool mSecondAttribute ;\n"
    "}{\n"
    "mFirstAttribute >, mSecondAttribute <\n"
    "}\n",
    @"struct @type {\n"
    "  @aType mAnAttribute ;\n"
    "}\n",
    NULL
  } ;
  return kTextMacroContent [inIndex] ;
}

//---------------------------------------------------------------------------*

- (const UInt16 **) popupListData {
  return kPopUpListData ;
}

//---------------------------------------------------------------------------*

@end

//---------------------------------------------------------------------------*

NSObject <OCP_TokenizerProtocol> * tokenizerForExtension (const NSString * inExtension) {
  return [[OC_Tokenizer_galgas_scanner alloc] init] ;
}

//---------------------------------------------------------------------------*

NSArray * tokenizers (void) {
  return [NSArray arrayWithObjects:
    [[[OC_Tokenizer_galgas_scanner alloc] init] autorelease],
    nil
  ] ;
}

//---------------------------------------------------------------------------*

