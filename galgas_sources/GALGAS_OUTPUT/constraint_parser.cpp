//---------------------------------------------------------------------------*
//                                                                           *
//                       File 'constraint_parser.cpp'                        *
//         Generated by version GALGAS_BETA_VERSION (LL(1) grammar)          *
//                      april 23th, 2006, at 19h5'35"                        *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "utilities/MF_MemoryControl.h"
#include "files/C_TextFileWrite.h"
#include "constraint_parser.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  static const char gGGSsourceFile [] = "constraint_parser.ggs" ;
  #define SOURCE_FILE_AT_LINE(line) , gGGSsourceFile, line
#else
  #define SOURCE_FILE_AT_LINE(line) 
#endif


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2

//---------------------------------------------------------------------------*
//                                                                           *
//           Implementation of production rule 'galgas_component'            *
//                                                                           *
//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_galgas_component_constraint_parser_131_24_ (galgas_scanner & _inLexique,
                                GGS_M_lexiqueComponents  &/* var_cas_ioLexiqueMapForUse */,
                                GGS_M_semanticsComponents  &/* var_cas_ioSemanticsComponentsMap */,
                                GGS_M_syntaxComponents  &/* var_cas_ioSyntaxComponentsMap */,
                                GGS_M_grammarComponents  &/* var_cas_ioGrammarComponentsMap */,
                                GGS_M_optionComponents  &/* var_cas_ioOptionsComponentsMap */,
                                GGS_M_metamodelsComponents  &var_cas_ioMetamodelComponentMap,
                                GGS_M_constraintComponents  &var_cas_ioConstraintComponentMap) {
  nt_parse_constraint_document_ (_inLexique, var_cas_ioMetamodelComponentMap, var_cas_ioConstraintComponentMap) ;
}

//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_galgas_component_constraint_parser_131_24_importLexique (galgas_scanner & _inLexique,
                                GGS_M_lexiqueComponents  &/* var_cas_ioLexiqueMapForUse */) {
  nt_parse_constraint_document_parse (_inLexique) ;
}

//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_galgas_component_constraint_parser_131_24_importSyntax (galgas_scanner & _inLexique,
                                GGS_M_syntaxComponents  &/* var_cas_ioSyntaxComponentsMap */,
                                GGS_M_metamodelsComponents  &var_cas_ioMetamodelComponentMap) {
  GGS_M_constraintComponents  var_cas_constraintComponentMap ;
  var_cas_constraintComponentMap = GGS_M_constraintComponents::constructor_empty (HERE) ;
  nt_parse_constraint_document_ (_inLexique, var_cas_ioMetamodelComponentMap, var_cas_constraintComponentMap) ;
}

//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_galgas_component_constraint_parser_131_24_importSemantics (galgas_scanner & _inLexique,
                                GGS_M_semanticsComponents  &/* var_cas_ioSemanticsComponentsMap */,
                                GGS_M_metamodelsComponents  &var_cas_ioMetamodelComponentMap,
                                GGS_M_constraintComponents  &var_cas_ioConstraintComponentMap) {
  nt_parse_constraint_document_ (_inLexique, var_cas_ioMetamodelComponentMap, var_cas_ioConstraintComponentMap) ;
}

//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_galgas_component_constraint_parser_131_24_importGrammarForSemantics (galgas_scanner & _inLexique,
                                GGS_M_grammarComponents  &/* var_cas_ioGrammarComponentsMap */,
                                GGS_M_metamodelsComponents  &var_cas_ioMetamodelComponentMap,
                                GGS_M_constraintComponents  &var_cas_ioConstraintComponentMap) {
  nt_parse_constraint_document_ (_inLexique, var_cas_ioMetamodelComponentMap, var_cas_ioConstraintComponentMap) ;
}

//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_galgas_component_constraint_parser_131_24_importOptions (galgas_scanner & _inLexique,
                                GGS_M_optionComponents  &/* var_cas_ioOptionsComponentsMap */) {
  nt_parse_constraint_document_parse (_inLexique) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//      Implementation of production rule 'parse_constraint_document'        *
//                                                                           *
//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_parse_constraint_document_constraint_parser_183_33_ (galgas_scanner & _inLexique,
                                GGS_M_metamodelsComponents  &/* var_cas_ioMetamodelComponentMap */,
                                GGS_M_constraintComponents  &var_cas_ioConstraintComponentMap) {
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_constraint) ;
  GGS_lstring  var_cas_constraintName ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
  var_cas_constraintName.defineAttribute (_inLexique.tokenString, _inLexique) ;
  GGS_passMap  var_cas_passMap ;
  var_cas_passMap = GGS_passMap::constructor_empty (HERE) ;
  switch (select_constraint_parser_0 (_inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__28) ;
      { bool syntaxRepeat = true ;
        while (syntaxRepeat) {
            GGS_lstring  var_cas_passName ;
            _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
            var_cas_passName.defineAttribute (_inLexique.tokenString, _inLexique) ;
            var_cas_passMap.methode_insertKey (_inLexique, var_cas_passName SOURCE_FILE_AT_LINE (199)) ;
          switch (select_repeat_constraint_parser_1 (_inLexique)) {
            case 2 : {
              _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__2C) ;
              } break ;
            default :
              syntaxRepeat = false ;
              break ;
          }
        }
      }
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__29) ;
      } break ;
    default :
      break ;
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3A) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_import) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_metamodel) ;
  GGS_lstring  var_cas_metamodelName ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
  var_cas_metamodelName.defineAttribute (_inLexique.tokenString, _inLexique) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_in) ;
  GGS_lstring  var_cas_fileName ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_literal_5Fstring) ;
  var_cas_fileName.defineAttribute (_inLexique.tokenString, _inLexique) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
  GGS_M_semanticsComponents  var_cas_unusedSemanticsMapForUse ;
  var_cas_unusedSemanticsMapForUse = GGS_M_semanticsComponents::constructor_empty (HERE) ;
  GGS_M_metamodelsComponents  var_cas_metamodelComponentMap ;
  var_cas_metamodelComponentMap = GGS_M_metamodelsComponents::constructor_empty (HERE) ;
  nt_parse_semantics_component_for_importing_ (_inLexique, var_cas_fileName, var_cas_unusedSemanticsMapForUse, var_cas_metamodelComponentMap, var_cas_ioConstraintComponentMap) ;
  GGS_lstring  var_cas_rootEntity ;
  GGS_M_semanticsEntitiesForUse  var_cas_semanticsEntitiesMap ;
  GGS_entityToImplementMap  var_cas_entityMap ;
  GGS_stringset  var_cas_multiReferencedEntities ;
  var_cas_metamodelComponentMap.methode_searchKey (_inLexique, var_cas_metamodelName, var_cas_rootEntity, var_cas_semanticsEntitiesMap, var_cas_entityMap, var_cas_multiReferencedEntities SOURCE_FILE_AT_LINE (229)) ;
  GGS_mapEntityMap  var_cas_mapEntityMap ;
  var_cas_mapEntityMap = GGS_mapEntityMap::constructor_empty (HERE) ;
  GGS_mapAndEntityUniqueMap  var_cas_mapAndEntityUniqueMap ;
  var_cas_mapAndEntityUniqueMap = GGS_mapAndEntityUniqueMap::constructor_empty (HERE) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_2 (_inLexique)) {
        case 2 : {
          nt_constraint_map_declaration_ (_inLexique, var_cas_entityMap, var_cas_mapEntityMap) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
  GGS_constrainedEntityMap  var_cas_constrainedEntityMap ;
  var_cas_constrainedEntityMap = GGS_constrainedEntityMap::constructor_empty (HERE) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_3 (_inLexique)) {
        case 2 : {
          nt_constraints_on_entity_declaration_ (_inLexique, var_cas_entityMap, var_cas_mapEntityMap, var_cas_constrainedEntityMap, var_cas_passMap) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_end) ;
  GGS_bool var_cas_constraintOnRootEntity ;
  var_cas_constraintOnRootEntity = var_cas_constrainedEntityMap.reader_hasKey (var_cas_rootEntity.reader_value ()) ;
  if (((! (var_cas_constraintOnRootEntity))).isBuiltAndTrue ()) {
      GGS_location (_inLexique).reader_location ().signalGGSSemanticError (_inLexique, GGS_string (true, "no constraint is defined on metamodel root entity") SOURCE_FILE_AT_LINE (260)) ;
  }
  if ((var_cas_constraintOnRootEntity).isBuiltAndTrue ()) {
    GGS_constrainedEntityPassMap  var_cas_constrainedEntityPassMapForRootEntity ;
    GGS_location  var_cas_endOfConstraintLocation ;
    GGS_stringset  var_cas_8712 ;
    GGS_lstring  var_cas_8766 ;
    GGS_entityPropertyMap  var_cas_8775 ;
    GGS_stringset  var_cas_8784 ;
    GGS_mapAsConstraintPropertyMap  var_cas_8824 ;
    GGS_mapAsConstraintPropertyMap  var_cas_8833 ;
    var_cas_constrainedEntityMap.methode_searchKey (_inLexique, var_cas_rootEntity, var_cas_8712, var_cas_constrainedEntityPassMapForRootEntity, var_cas_8766, var_cas_8775, var_cas_8784, var_cas_endOfConstraintLocation, var_cas_8824, var_cas_8833 SOURCE_FILE_AT_LINE (267)) ;
    if (((var_cas_constrainedEntityPassMapForRootEntity.reader_count ()) != (var_cas_passMap.reader_count ())).isBuiltAndTrue ()) {
        var_cas_endOfConstraintLocation.reader_location ().signalGGSSemanticError (_inLexique, GGS_string (true, "the root entity constraint should define all passes") SOURCE_FILE_AT_LINE (279)) ;
    }
    GGS_constrainedEntityPassMap::element_type * operand_9196 = var_cas_constrainedEntityPassMapForRootEntity.firstObject () ;
    while ((operand_9196 != NULL)) {
      macroValidPointer (operand_9196) ;
      if (((operand_9196->mInfo.mSharedPropertyList.reader_length ()) != (GGS_uint (true, 0UL))).isBuiltAndTrue ()) {
          operand_9196->mKey.reader_location ().signalGGSSemanticError (_inLexique, GGS_string (true, "a pass of the root entity constraint should not define any shared prperty") SOURCE_FILE_AT_LINE (284)) ;
      }
      operand_9196 = operand_9196->nextObject () ;
    }
  }
  GGS_constrainedEntityMap::element_type * operand_9523 = var_cas_constrainedEntityMap.firstObject () ;
  while ((operand_9523 != NULL)) {
    macroValidPointer (operand_9523) ;
    GGS_stringset  var_cas_definedPassSet ;
    var_cas_definedPassSet = operand_9523->mInfo.mConstrainedEntityPassMap.reader_allKeys () ;
    GGS_entityPropertyMap::element_type * operand_9762 = operand_9523->mInfo.mEntityPropertiesMap.firstObject () ;
    while ((operand_9762 != NULL)) {
      macroValidPointer (operand_9762) ;
      if (((operand_9762->mInfo.mKind) != (GGS_metamodelPropertyKind::constructor_attributeProperty (HERE))).isBuiltAndTrue ()) {
        GGS_constrainedEntityPassMap  var_cas_referencePropertyConstrainedEntityPassMap ;
        GGS_stringset  var_cas_10064 ;
        GGS_lstring  var_cas_10110 ;
        GGS_entityPropertyMap  var_cas_10113 ;
        GGS_stringset  var_cas_10116 ;
        GGS_location  var_cas_10119 ;
        GGS_mapAsConstraintPropertyMap  var_cas_10122 ;
        GGS_mapAsConstraintPropertyMap  var_cas_10125 ;
        var_cas_constrainedEntityMap.methode_searchKey (_inLexique, operand_9762->mInfo.mTypeName, var_cas_10064, var_cas_referencePropertyConstrainedEntityPassMap, var_cas_10110, var_cas_10113, var_cas_10116, var_cas_10119, var_cas_10122, var_cas_10125 SOURCE_FILE_AT_LINE (294)) ;
        GGS_constrainedEntityPassMap::element_type * operand_10186 = var_cas_referencePropertyConstrainedEntityPassMap.firstObject () ;
        while ((operand_10186 != NULL)) {
          macroValidPointer (operand_10186) ;
          if (((! (operand_9523->mInfo.mConstrainedEntityPassMap.reader_hasKey (operand_10186->mKey.reader_value ())))).isBuiltAndTrue ()) {
              operand_9523->mKey.reader_location ().signalGGSSemanticError (_inLexique, ((((((((GGS_string (true, "this constraint should define the '")) + (operand_10186->mKey.reader_value ()))) + (GGS_string (true, "' pass (due to '")))) + (operand_9762->mKey.reader_value ()))) + (GGS_string (true, "' reference)"))) SOURCE_FILE_AT_LINE (298)) ;
          }
          operand_10186 = operand_10186->nextObject () ;
        }
        GGS_stringset  var_cas_referencePassSet ;
        var_cas_referencePassSet = var_cas_referencePropertyConstrainedEntityPassMap.reader_allKeys () ;
        GGS_constrainedEntityPassMap::element_type * operand_10806 = operand_9523->mInfo.mConstrainedEntityPassMap.firstObject () ;
        while ((operand_10806 != NULL)) {
          macroValidPointer (operand_10806) ;
          if ((((operand_10806->mInfo.mConstraintPropertyDefinitionSet.reader_hasKey (operand_9762->mKey.reader_value ())) && ((! (var_cas_referencePassSet.reader_hasKey (operand_10806->mKey.reader_value ())))))).isBuiltAndTrue ()) {
              operand_10806->mKey.reader_location ().signalGGSSemanticError (_inLexique, ((((GGS_string (true, "this pass should not define the '")) + (operand_9762->mKey.reader_value ()))) + (GGS_string (true, "' property"))) SOURCE_FILE_AT_LINE (312)) ;
          }else if (((((! (operand_10806->mInfo.mConstraintPropertyDefinitionSet.reader_hasKey (operand_9762->mKey.reader_value ())))) && (var_cas_referencePassSet.reader_hasKey (operand_10806->mKey.reader_value ())))).isBuiltAndTrue ()) {
              operand_10806->mKey.reader_location ().signalGGSSemanticError (_inLexique, ((((GGS_string (true, "this pass should define the '")) + (operand_9762->mKey.reader_value ()))) + (GGS_string (true, "' property"))) SOURCE_FILE_AT_LINE (314)) ;
          }
          if ((operand_10806->mInfo.mCallInstructionSharedPropertySignatureMap.reader_hasKey (operand_9762->mKey.reader_value ())).isBuiltAndTrue ()) {
            GGS_callInstructionSharedPropertySignatureMap  var_cas_callInstructionSharedPropertySignatureMap ;
            var_cas_callInstructionSharedPropertySignatureMap = operand_10806->mInfo.mCallInstructionSharedPropertySignatureMap ;
            GGS_sharedPropertyList  var_cas_signature ;
            GGS_location  var_cas_signatureLocation ;
            var_cas_callInstructionSharedPropertySignatureMap.methode_searchKey (_inLexique, operand_9762->mKey, var_cas_signature, var_cas_signatureLocation SOURCE_FILE_AT_LINE (321)) ;
            GGS_sharedPropertyList  var_cas_sharedPropertyList ;
            GGS_typeInstructionList  var_cas_12339 ;
            GGS_stringset  var_cas_12362 ;
            GGS_callInstructionSharedPropertySignatureMap  var_cas_12365 ;
            var_cas_referencePropertyConstrainedEntityPassMap.methode_searchKey (_inLexique, operand_10806->mKey, var_cas_12339, var_cas_sharedPropertyList, var_cas_12362, var_cas_12365 SOURCE_FILE_AT_LINE (323)) ;
            if (((var_cas_sharedPropertyList.reader_length ()) == (var_cas_signature.reader_length ())).isBuiltAndTrue ()) {
              GGS_sharedPropertyList::element_type * operand_12479 = var_cas_sharedPropertyList.firstObject () ;
              GGS_sharedPropertyList::element_type * operand_12561 = var_cas_signature.firstObject () ;
              while ((operand_12479 != NULL)
                  && (operand_12561 != NULL)) {
                macroValidPointer (operand_12479) ;
                macroValidPointer (operand_12561) ;
                if (((operand_12479->mSharedPropertyTypeName.reader_value ()) != (operand_12561->mSharedPropertyTypeName.reader_value ())).isBuiltAndTrue ()) {
                    operand_12561->mSharedPropertyName.reader_location ().signalGGSSemanticError (_inLexique, ((((((((GGS_string (true, "the type of the parameter is '@")) + (operand_12561->mSharedPropertyTypeName.reader_value ()))) + (GGS_string (true, "', while a '@")))) + (operand_12479->mSharedPropertyTypeName.reader_value ()))) + (GGS_string (true, "' type is expected"))) SOURCE_FILE_AT_LINE (329)) ;
                }
                operand_12479 = operand_12479->nextObject () ;
                operand_12561 = operand_12561->nextObject () ;
              }
            }else{
                var_cas_signatureLocation.reader_location ().signalGGSSemanticError (_inLexique, ((((((GGS_string (true, " this instruction names ")) + (var_cas_signature.reader_length ().reader_string ()))) + (GGS_string (true, " shared property(ies) as parameters, while the constraint definition requires ")))) + (var_cas_sharedPropertyList.reader_length ().reader_string ())) SOURCE_FILE_AT_LINE (335)) ;
            }
          }
          operand_10806 = operand_10806->nextObject () ;
        }
      }
      operand_9762 = operand_9762->nextObject () ;
    }
    operand_9523 = operand_9523->nextObject () ;
  }
  if (var_cas_passMap.isBuilt () &&
      var_cas_entityMap.isBuilt () &&
      var_cas_mapEntityMap.isBuilt () &&
      var_cas_metamodelName.isBuilt () &&
      var_cas_constraintName.isBuilt () &&
      var_cas_constrainedEntityMap.isBuilt () &&
      var_cas_multiReferencedEntities.isBuilt () &&
      var_cas_rootEntity.isBuilt ()) {
    ::routine_generate_constraints (_inLexique,  var_cas_passMap,  var_cas_entityMap,  var_cas_mapEntityMap,  var_cas_metamodelName,  var_cas_constraintName,  var_cas_constrainedEntityMap,  var_cas_multiReferencedEntities,  var_cas_rootEntity SOURCE_FILE_AT_LINE (350)) ;
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_constraint) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
}

//---------------------------------------------------------------------------*

void constraint_parser::
pr_parse_constraint_document_constraint_parser_183_33_parse (galgas_scanner & _inLexique) {
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_constraint) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
  switch (select_constraint_parser_0 (_inLexique)) {
    case 1 : {
      } break ;
    case 2 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__28) ;
      { bool syntaxRepeat = true ;
        while (syntaxRepeat) {
            _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
          switch (select_repeat_constraint_parser_1 (_inLexique)) {
            case 2 : {
              _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__2C) ;
              } break ;
            default :
              syntaxRepeat = false ;
              break ;
          }
        }
      }
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__29) ;
      } break ;
    default :
      break ;
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3A) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_import) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_metamodel) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_in) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_literal_5Fstring) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
  nt_parse_semantics_component_for_importing_parse (_inLexique) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_2 (_inLexique)) {
        case 2 : {
          nt_constraint_map_declaration_parse (_inLexique) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_3 (_inLexique)) {
        case 2 : {
          nt_constraints_on_entity_declaration_parse (_inLexique) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_end) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_constraint) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//      Implementation of production rule 'constraint_map_declaration'       *
//                                                                           *
//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_constraint_map_declaration_constraint_parser_365_34_ (galgas_scanner & _inLexique,
                                GGS_entityToImplementMap  &var_cas_ioEntityMap,
                                GGS_mapEntityMap  &var_cas_ioMapEntityMap) {
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_map) ;
  GGS_lstring  var_cas_mapIdentifier ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
  var_cas_mapIdentifier.defineAttribute (_inLexique.tokenString, _inLexique) ;
  if ((var_cas_ioEntityMap.reader_hasKey (var_cas_mapIdentifier.reader_value ())).isBuiltAndTrue ()) {
      var_cas_mapIdentifier.reader_location ().signalGGSSemanticError (_inLexique, GGS_string (true, "An entity has been declared with this name") SOURCE_FILE_AT_LINE (373)) ;
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_of) ;
  GGS_lstring  var_cas_mapElementIdentifier ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
  var_cas_mapElementIdentifier.defineAttribute (_inLexique.tokenString, _inLexique) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_insert) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_error) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_message) ;
  GGS_lstring  var_cas_insertErrorMessage ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_literal_5Fstring) ;
  var_cas_insertErrorMessage.defineAttribute (_inLexique.tokenString, _inLexique) ;
  if (var_cas_insertErrorMessage.isBuilt ()) {
    ::routine_check_KL_escapeCharacters (_inLexique,  var_cas_insertErrorMessage SOURCE_FILE_AT_LINE (384)) ;
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_search) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_error) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_message) ;
  GGS_lstring  var_cas_searchErrorMessage ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_literal_5Fstring) ;
  var_cas_searchErrorMessage.defineAttribute (_inLexique.tokenString, _inLexique) ;
  if (var_cas_searchErrorMessage.isBuilt ()) {
    ::routine_check_K_escapeCharacters (_inLexique,  var_cas_searchErrorMessage SOURCE_FILE_AT_LINE (391)) ;
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
  var_cas_ioMapEntityMap.methode_insertKey (_inLexique, var_cas_mapIdentifier, var_cas_mapElementIdentifier, var_cas_insertErrorMessage, var_cas_searchErrorMessage SOURCE_FILE_AT_LINE (395)) ;
}

//---------------------------------------------------------------------------*

void constraint_parser::
pr_constraint_map_declaration_constraint_parser_365_34_parse (galgas_scanner & _inLexique) {
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_map) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_of) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_insert) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_error) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_message) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_literal_5Fstring) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_search) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_error) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_message) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_literal_5Fstring) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//  Implementation of production rule 'constraints_on_entity_declaration'    *
//                                                                           *
//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_constraints_on_entity_declaration_constraint_parser_404_41_ (galgas_scanner & _inLexique,
                                GGS_entityToImplementMap  &var_cas_ioEntityMap,
                                GGS_mapEntityMap  &var_cas_ioMapEntityMap,
                                GGS_constrainedEntityMap  &var_cas_ioConstrainedEntityMap,
                                GGS_passMap  &var_cas_ioPassMap) {
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_on) ;
  GGS_lstring  var_cas_entityName ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
  var_cas_entityName.defineAttribute (_inLexique.tokenString, _inLexique) ;
  GGS_lstring  var_cas_superEntity ;
  GGS_entityPropertyMap  var_cas_allPropertyMap ;
  GGS_entityPropertyMap  var_cas_propertyMap ;
  GGS_bool var_cas_15311 ;
  var_cas_ioEntityMap.methode_searchKey (_inLexique, var_cas_entityName, var_cas_allPropertyMap, var_cas_15311, var_cas_propertyMap, var_cas_superEntity SOURCE_FILE_AT_LINE (419)) ;
  GGS_stringset  var_cas_descendantEntitySet ;
  var_cas_descendantEntitySet = GGS_stringset::constructor_empty (HERE) ;
  ::routine_computeDescendantSet (_inLexique,  var_cas_ioEntityMap,  var_cas_entityName,  var_cas_descendantEntitySet SOURCE_FILE_AT_LINE (426)) ;
  GGS_mapAsConstraintPropertyMap  var_cas_allMapsAsConstraintPropertyMap ;
  var_cas_allMapsAsConstraintPropertyMap = GGS_mapAsConstraintPropertyMap::constructor_empty (HERE) ;
  GGS_constrainedEntityPassMap  var_cas_inheritedConstrainedEntityPassMap ;
  var_cas_inheritedConstrainedEntityPassMap = GGS_constrainedEntityPassMap::constructor_empty (HERE) ;
  GGS_stringset  var_cas_passesDefinedByInheritanceTreeRootEntity ;
  var_cas_passesDefinedByInheritanceTreeRootEntity = GGS_stringset::constructor_empty (HERE) ;
  if (((var_cas_superEntity.reader_value ()) != (GGS_string (true, ""))).isBuiltAndTrue ()) {
    if ((var_cas_ioConstrainedEntityMap.reader_hasKey (var_cas_superEntity.reader_value ())).isBuiltAndTrue ()) {
      GGS_lstring  var_cas_16003 ;
      GGS_entityPropertyMap  var_cas_16014 ;
      GGS_stringset  var_cas_16025 ;
      GGS_location  var_cas_16036 ;
      GGS_mapAsConstraintPropertyMap  var_cas_16047 ;
      var_cas_ioConstrainedEntityMap.methode_searchKey (_inLexique, var_cas_superEntity, var_cas_passesDefinedByInheritanceTreeRootEntity, var_cas_inheritedConstrainedEntityPassMap, var_cas_16003, var_cas_16014, var_cas_16025, var_cas_16036, var_cas_16047, var_cas_allMapsAsConstraintPropertyMap SOURCE_FILE_AT_LINE (434)) ;
    }else{
        var_cas_entityName.reader_location ().signalGGSSemanticError (_inLexique, ((((GGS_string (true, "constraints for super entity ('@")) + (var_cas_superEntity.reader_value ()))) + (GGS_string (true, "') should be previously defined"))) SOURCE_FILE_AT_LINE (446)) ;
    }
  }
  GGS_mapAsConstraintPropertyMap  var_cas_mapAsConstraintPropertyMap ;
  var_cas_mapAsConstraintPropertyMap = GGS_mapAsConstraintPropertyMap::constructor_empty (HERE) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
  GGS_constrainedEntityPassMap  var_cas_constrainedEntityPassMap ;
  var_cas_constrainedEntityPassMap = GGS_constrainedEntityPassMap::constructor_empty (HERE) ;
  GGS_uint  var_cas_currentIndex ;
  var_cas_currentIndex = GGS_uint (true, 0UL) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_4 (_inLexique)) {
        case 2 : {
          GGS_lstring  var_cas_passName ;
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
          var_cas_passName.defineAttribute (_inLexique.tokenString, _inLexique) ;
          GGS_luint  var_cas_index ;
          var_cas_ioPassMap.methode_searchKeyAndGetIndex (_inLexique, var_cas_passName, var_cas_index SOURCE_FILE_AT_LINE (459)) ;
          if (((var_cas_index.reader_value ()) < (var_cas_currentIndex)).isBuiltAndTrue ()) {
              var_cas_passName.reader_location ().signalGGSSemanticError (_inLexique, GGS_string (true, "the pass order is incorrect") SOURCE_FILE_AT_LINE (461)) ;
          }
          var_cas_currentIndex = var_cas_index.reader_value () ;
          GGS_sharedPropertyList  var_cas_sharedPropertyList ;
          var_cas_sharedPropertyList = GGS_sharedPropertyList::constructor_empty (HERE) ;
          switch (select_constraint_parser_5 (_inLexique)) {
            case 1 : {
              if (((var_cas_superEntity.reader_value ()) != (GGS_string (true, ""))).isBuiltAndTrue ()) {
                GGS_typeInstructionList  var_cas_16927 ;
                GGS_stringset  var_cas_16950 ;
                GGS_callInstructionSharedPropertySignatureMap  var_cas_16953 ;
                var_cas_inheritedConstrainedEntityPassMap.methode_searchKey (_inLexique, var_cas_passName, var_cas_16927, var_cas_sharedPropertyList, var_cas_16950, var_cas_16953 SOURCE_FILE_AT_LINE (468)) ;
              }
              } break ;
            case 2 : {
              _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__28) ;
              if (((var_cas_superEntity.reader_value ()) != (GGS_string (true, ""))).isBuiltAndTrue ()) {
                  GGS_location (_inLexique).reader_location ().signalGGSSemanticError (_inLexique, ((((GGS_string (true, "as the '@")) + (var_cas_entityName.reader_value ()))) + (GGS_string (true, "' entity has a super entity, you cannot define any shared property"))) SOURCE_FILE_AT_LINE (474)) ;
              }
              { bool syntaxRepeat = true ;
                while (syntaxRepeat) {
                    GGS_lstring  var_cas_typeName ;
                    _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
                    var_cas_typeName.defineAttribute (_inLexique.tokenString, _inLexique) ;
                    GGS_lstring  var_cas_propertyName ;
                    _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
                    var_cas_propertyName.defineAttribute (_inLexique.tokenString, _inLexique) ;
                    if ((var_cas_ioMapEntityMap.reader_hasKey (var_cas_typeName.reader_value ())).isBuiltAndTrue ()) {
                      GGS_lstring  var_cas_elementTypeName ;
                      GGS_lstring  var_cas_17487 ;
                      GGS_lstring  var_cas_17490 ;
                      var_cas_ioMapEntityMap.methode_searchKey (_inLexique, var_cas_typeName, var_cas_elementTypeName, var_cas_17487, var_cas_17490 SOURCE_FILE_AT_LINE (483)) ;
                      var_cas_mapAsConstraintPropertyMap.methode_insertKey (_inLexique, var_cas_propertyName, var_cas_typeName, var_cas_elementTypeName, var_cas_currentIndex, var_cas_passName.reader_value (), GGS_bool (true, true) SOURCE_FILE_AT_LINE (484)) ;
                      var_cas_allMapsAsConstraintPropertyMap.methode_insertKey (_inLexique, var_cas_propertyName, var_cas_typeName, var_cas_elementTypeName, var_cas_currentIndex, var_cas_passName.reader_value (), GGS_bool (true, true) SOURCE_FILE_AT_LINE (485)) ;
                      var_cas_sharedPropertyList.addAssign_operation (var_cas_typeName, var_cas_propertyName) ;
                    }else{
                        var_cas_typeName.reader_location ().signalGGSSemanticError (_inLexique, GGS_string (true, "unhandled type name") SOURCE_FILE_AT_LINE (488)) ;
                    }
                  switch (select_repeat_constraint_parser_6 (_inLexique)) {
                    case 2 : {
                      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__2C) ;
                      } break ;
                    default :
                      syntaxRepeat = false ;
                      break ;
                  }
                }
              }
              _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__29) ;
              } break ;
            default :
              break ;
          }
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
          { bool syntaxRepeat = true ;
            while (syntaxRepeat) {
              switch (select_repeat_constraint_parser_7 (_inLexique)) {
                case 2 : {
                  GGS_lstring  var_cas_typeName ;
                  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
                  var_cas_typeName.defineAttribute (_inLexique.tokenString, _inLexique) ;
                  GGS_lstring  var_cas_propertyName ;
                  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
                  var_cas_propertyName.defineAttribute (_inLexique.tokenString, _inLexique) ;
                  if ((var_cas_ioMapEntityMap.reader_hasKey (var_cas_typeName.reader_value ())).isBuiltAndTrue ()) {
                    GGS_lstring  var_cas_elementTypeName ;
                    GGS_lstring  var_cas_18302 ;
                    GGS_lstring  var_cas_18305 ;
                    var_cas_ioMapEntityMap.methode_searchKey (_inLexique, var_cas_typeName, var_cas_elementTypeName, var_cas_18302, var_cas_18305 SOURCE_FILE_AT_LINE (505)) ;
                    var_cas_mapAsConstraintPropertyMap.methode_insertKey (_inLexique, var_cas_propertyName, var_cas_typeName, var_cas_elementTypeName, var_cas_currentIndex, var_cas_passName.reader_value (), GGS_bool (true, false) SOURCE_FILE_AT_LINE (506)) ;
                    var_cas_allMapsAsConstraintPropertyMap.methode_insertKey (_inLexique, var_cas_propertyName, var_cas_typeName, var_cas_elementTypeName, var_cas_currentIndex, var_cas_passName.reader_value (), GGS_bool (true, false) SOURCE_FILE_AT_LINE (507)) ;
                  }else{
                      var_cas_typeName.reader_location ().signalGGSSemanticError (_inLexique, GGS_string (true, "unhandled type name") SOURCE_FILE_AT_LINE (509)) ;
                  }
                  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
                  } break ;
                default :
                  syntaxRepeat = false ;
                  break ;
              }
            }
          }
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
          GGS_M_semanticsEntitiesForUse  var_cas_componentSemanticsEntitiesMap ;
          var_cas_componentSemanticsEntitiesMap = GGS_M_semanticsEntitiesForUse::constructor_empty (HERE) ;
          GGS_typeEntitiesToGenerateList  var_cas_listeEntitesAengendrer ;
          var_cas_listeEntitesAengendrer = GGS_typeEntitiesToGenerateList::constructor_empty (HERE) ;
          GGS_M_optionComponents  var_cas_optionsComponentsMapForUse ;
          var_cas_optionsComponentsMapForUse = GGS_M_optionComponents::constructor_empty (HERE) ;
          GGS_typeVariablesMap  var_cas_variablesMap ;
          var_cas_variablesMap = GGS_typeVariablesMap::constructor_empty (HERE) ;
          GGS_typeInstructionList  var_cas_instructionsList ;
          var_cas_instructionsList = GGS_typeInstructionList::constructor_empty (HERE) ;
          GGS_stringset  var_cas_constraintPropertyDefinitionSet ;
          var_cas_constraintPropertyDefinitionSet = GGS_stringset::constructor_empty (HERE) ;
          GGS_callInstructionSharedPropertySignatureMap  var_cas_callInstructionSharedPropertySignatureMap ;
          var_cas_callInstructionSharedPropertySignatureMap = GGS_callInstructionSharedPropertySignatureMap::constructor_empty (HERE) ;
          nt_semantic_instructions_list_ (_inLexique, var_cas_componentSemanticsEntitiesMap, var_cas_listeEntitesAengendrer, var_cas_optionsComponentsMapForUse, var_cas_variablesMap, var_cas_instructionsList, var_cas_passName.reader_value (), var_cas_propertyMap, var_cas_mapAsConstraintPropertyMap, var_cas_constraintPropertyDefinitionSet, var_cas_callInstructionSharedPropertySignatureMap) ;
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
          var_cas_constrainedEntityPassMap.methode_insertKey (_inLexique, var_cas_passName, var_cas_instructionsList, var_cas_sharedPropertyList, var_cas_constraintPropertyDefinitionSet, var_cas_callInstructionSharedPropertySignatureMap SOURCE_FILE_AT_LINE (537)) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
  if (((var_cas_superEntity.reader_value ()) == (GGS_string (true, ""))).isBuiltAndTrue ()) {
    GGS_constrainedEntityPassMap::element_type * operand_19908 = var_cas_constrainedEntityPassMap.firstObject () ;
    while ((operand_19908 != NULL)) {
      macroValidPointer (operand_19908) ;
      var_cas_passesDefinedByInheritanceTreeRootEntity.addAssign_operation (operand_19908->mKey.reader_value ()) ;
      operand_19908 = operand_19908->nextObject () ;
    }
  }
  if (((var_cas_superEntity.reader_value ()) != (GGS_string (true, ""))).isBuiltAndTrue ()) {
    GGS_constrainedEntityPassMap::element_type * operand_20239 = var_cas_constrainedEntityPassMap.firstObject () ;
    while ((operand_20239 != NULL)) {
      macroValidPointer (operand_20239) ;
      if (((! (var_cas_passesDefinedByInheritanceTreeRootEntity.reader_hasKey (operand_20239->mKey.reader_value ())))).isBuiltAndTrue ()) {
          GGS_location (_inLexique).reader_location ().signalGGSSemanticError (_inLexique, ((((((((GGS_string (true, "pass '")) + (operand_20239->mKey.reader_value ()))) + (GGS_string (true, "' cannot be defined because it is not defined by the constraint on '@")))) + (var_cas_superEntity.reader_value ()))) + (GGS_string (true, "' entity"))) SOURCE_FILE_AT_LINE (558)) ;
      }
      operand_20239 = operand_20239->nextObject () ;
    }
  }
  var_cas_ioConstrainedEntityMap.methode_insertKey (_inLexique, var_cas_entityName, var_cas_passesDefinedByInheritanceTreeRootEntity, var_cas_constrainedEntityPassMap, var_cas_superEntity, var_cas_propertyMap, var_cas_descendantEntitySet, GGS_location (_inLexique), var_cas_mapAsConstraintPropertyMap, var_cas_allMapsAsConstraintPropertyMap SOURCE_FILE_AT_LINE (564)) ;
}

//---------------------------------------------------------------------------*

void constraint_parser::
pr_constraints_on_entity_declaration_constraint_parser_404_41_parse (galgas_scanner & _inLexique) {
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_on) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_4 (_inLexique)) {
        case 2 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
          switch (select_constraint_parser_5 (_inLexique)) {
            case 1 : {
              } break ;
            case 2 : {
              _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__28) ;
              { bool syntaxRepeat = true ;
                while (syntaxRepeat) {
                    _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
                    _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
                  switch (select_repeat_constraint_parser_6 (_inLexique)) {
                    case 2 : {
                      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__2C) ;
                      } break ;
                    default :
                      syntaxRepeat = false ;
                      break ;
                  }
                }
              }
              _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__29) ;
              } break ;
            default :
              break ;
          }
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
          { bool syntaxRepeat = true ;
            while (syntaxRepeat) {
              switch (select_repeat_constraint_parser_7 (_inLexique)) {
                case 2 : {
                  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
                  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
                  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3B) ;
                  } break ;
                default :
                  syntaxRepeat = false ;
                  break ;
              }
            }
          }
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
          nt_semantic_instructions_list_parse (_inLexique) ;
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
  _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//     Implementation of production rule 'property_path_for_constraint'      *
//                                                                           *
//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_property_path_for_constraint_constraint_parser_578_36_ (galgas_scanner & _inLexique,
                                GGS_L_propertyPath  &var_cas_outPath) {
  var_cas_outPath = GGS_L_propertyPath::constructor_empty (HERE) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
        switch (select_constraint_parser_9 (_inLexique)) {
          case 1 : {
            GGS_lstring  var_cas_pathElement ;
            _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
            var_cas_pathElement.defineAttribute (_inLexique.tokenString, _inLexique) ;
            var_cas_outPath.addAssign_operation (var_cas_pathElement) ;
            } break ;
          case 2 : {
            GGS_lstring  var_cas_pathElement ;
            _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
            var_cas_pathElement.defineAttribute (_inLexique.tokenString, _inLexique) ;
            var_cas_outPath.addAssign_operation (GGS_lstring::constructor_new (((GGS_string (true, ".")) + (var_cas_pathElement.reader_value ())), var_cas_pathElement.reader_location () COMMA_HERE)) ;
            } break ;
          default :
            break ;
        }
      switch (select_repeat_constraint_parser_8 (_inLexique)) {
        case 2 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__2E) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
}

//---------------------------------------------------------------------------*

void constraint_parser::
pr_property_path_for_constraint_constraint_parser_578_36_parse (galgas_scanner & _inLexique) {
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
        switch (select_constraint_parser_9 (_inLexique)) {
          case 1 : {
            _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
            } break ;
          case 2 : {
            _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_type_5Fname) ;
            } break ;
          default :
            break ;
        }
      switch (select_repeat_constraint_parser_8 (_inLexique)) {
        case 2 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__2E) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//    Implementation of production rule 'constraint_relation_expression'     *
//                                                                           *
//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_constraint_relation_expression_constraint_parser_599_38_ (galgas_scanner & _inLexique,
                                GGS_relationVarMap  &var_cas_ioRelationVariableMap,
                                GGS_indexMap  &var_cas_ioIndexMap,
                                GGS_metamodelRelationExpression  &var_cas_outExpression) {
  nt_constraint_relation_term_ (_inLexique, var_cas_ioRelationVariableMap, var_cas_ioIndexMap, var_cas_outExpression) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_10 (_inLexique)) {
        case 2 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7C) ;
          GGS_metamodelRelationExpression  var_cas_e ;
          nt_constraint_relation_term_ (_inLexique, var_cas_ioRelationVariableMap, var_cas_ioIndexMap, var_cas_e) ;
          var_cas_outExpression = GGS_metamodelRelationOr::constructor_new (var_cas_outExpression, var_cas_e COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
}

//---------------------------------------------------------------------------*

void constraint_parser::
pr_constraint_relation_expression_constraint_parser_599_38_parse (galgas_scanner & _inLexique) {
  nt_constraint_relation_term_parse (_inLexique) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_10 (_inLexique)) {
        case 2 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7C) ;
          nt_constraint_relation_term_parse (_inLexique) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//       Implementation of production rule 'constraint_relation_term'        *
//                                                                           *
//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_constraint_relation_term_constraint_parser_616_32_ (galgas_scanner & _inLexique,
                                GGS_relationVarMap  &var_cas_ioRelationVariableMap,
                                GGS_indexMap  &var_cas_ioIndexMap,
                                GGS_metamodelRelationExpression  &var_cas_outExpression) {
  nt_constraint_relation_factor_ (_inLexique, var_cas_ioRelationVariableMap, var_cas_ioIndexMap, var_cas_outExpression) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_11 (_inLexique)) {
        case 2 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__26) ;
          GGS_metamodelRelationExpression  var_cas_e ;
          nt_constraint_relation_factor_ (_inLexique, var_cas_ioRelationVariableMap, var_cas_ioIndexMap, var_cas_e) ;
          var_cas_outExpression = GGS_metamodelRelationOr::constructor_new (var_cas_outExpression, var_cas_e COMMA_HERE) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
}

//---------------------------------------------------------------------------*

void constraint_parser::
pr_constraint_relation_term_constraint_parser_616_32_parse (galgas_scanner & _inLexique) {
  nt_constraint_relation_factor_parse (_inLexique) ;
  { bool syntaxRepeat = true ;
    while (syntaxRepeat) {
      switch (select_repeat_constraint_parser_11 (_inLexique)) {
        case 2 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__26) ;
          nt_constraint_relation_factor_parse (_inLexique) ;
          } break ;
        default :
          syntaxRepeat = false ;
          break ;
      }
    }
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//      Implementation of production rule 'constraint_relation_factor'       *
//                                                                           *
//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_constraint_relation_factor_constraint_parser_633_34_ (galgas_scanner & _inLexique,
                                GGS_relationVarMap  &var_cas_ioRelationVariableMap,
                                GGS_indexMap  &var_cas_ioIndexMap,
                                GGS_metamodelRelationExpression  &var_cas_outExpression) {
  switch (select_constraint_parser_12 (_inLexique)) {
    case 1 : {
      nt_constraint_relation_primary_ (_inLexique, var_cas_ioRelationVariableMap, var_cas_ioIndexMap, var_cas_outExpression) ;
      } break ;
    case 2 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_not) ;
      nt_constraint_relation_primary_ (_inLexique, var_cas_ioRelationVariableMap, var_cas_ioIndexMap, var_cas_outExpression) ;
      var_cas_outExpression = GGS_metamodelRelationNot::constructor_new (var_cas_outExpression COMMA_HERE) ;
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*

void constraint_parser::
pr_constraint_relation_factor_constraint_parser_633_34_parse (galgas_scanner & _inLexique) {
  switch (select_constraint_parser_12 (_inLexique)) {
    case 1 : {
      nt_constraint_relation_primary_parse (_inLexique) ;
      } break ;
    case 2 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_not) ;
      nt_constraint_relation_primary_parse (_inLexique) ;
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//     Implementation of production rule 'constraint_relation_primary'       *
//                                                                           *
//---------------------------------------------------------------------------*

void constraint_parser::
constraint_parser::
pr_constraint_relation_primary_constraint_parser_649_35_ (galgas_scanner & _inLexique,
                                GGS_relationVarMap  &var_cas_ioRelationVariableMap,
                                GGS_indexMap  &var_cas_ioIndexMap,
                                GGS_metamodelRelationExpression  &var_cas_outExpression) {
  switch (select_constraint_parser_13 (_inLexique)) {
    case 1 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_true) ;
      var_cas_outExpression = GGS_metamodelRelationTrue::constructor_new (HERE) ;
      } break ;
    case 2 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_false) ;
      var_cas_outExpression = GGS_metamodelRelationFalse::constructor_new (HERE) ;
      } break ;
    case 3 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__28) ;
      nt_constraint_relation_expression_ (_inLexique, var_cas_ioRelationVariableMap, var_cas_ioIndexMap, var_cas_outExpression) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__29) ;
      } break ;
    case 4 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
      GGS_lstring  var_cas_localVar ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
      var_cas_localVar.defineAttribute (_inLexique.tokenString, _inLexique) ;
      GGS_luint  var_cas_variableIndex ;
      GGS_lstring  var_cas_domainVariable ;
      var_cas_ioRelationVariableMap.methode_searchKeyAndGetIndex (_inLexique, var_cas_localVar, var_cas_variableIndex, var_cas_domainVariable SOURCE_FILE_AT_LINE (670)) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3D_3D) ;
      GGS_lstring  var_cas_indexVariableName ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
      var_cas_indexVariableName.defineAttribute (_inLexique.tokenString, _inLexique) ;
      GGS_lstring  var_cas_domainVariableFromIndex ;
      var_cas_ioIndexMap.methode_searchKey (_inLexique, var_cas_indexVariableName, var_cas_domainVariableFromIndex SOURCE_FILE_AT_LINE (675)) ;
      if (((var_cas_domainVariable.reader_value ()) != (var_cas_domainVariableFromIndex.reader_value ())).isBuiltAndTrue ()) {
          var_cas_indexVariableName.reader_location ().signalGGSSemanticError (_inLexique, ((((((((((((GGS_string (true, "this index refers to the '")) + (var_cas_domainVariableFromIndex.reader_value ()))) + (GGS_string (true, "' domain, while '")))) + (var_cas_localVar.reader_value ()))) + (GGS_string (true, "' relation variable refers to the '")))) + (var_cas_domainVariable.reader_value ()))) + (GGS_string (true, "' domain"))) SOURCE_FILE_AT_LINE (679)) ;
      }
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
      var_cas_outExpression = GGS_metamodelRelationPrimary::constructor_new (var_cas_ioRelationVariableMap, var_cas_localVar, var_cas_variableIndex, var_cas_indexVariableName, var_cas_domainVariable COMMA_HERE) ;
      } break ;
    case 5 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_do) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__28) ;
      GGS_L_propertyPath  var_cas_path ;
      nt_property_path_for_constraint_ (_inLexique, var_cas_path) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__5B) ;
      GGS_metamodelRelationParameterList  var_cas_parameterList ;
      var_cas_parameterList = GGS_metamodelRelationParameterList::constructor_empty (HERE) ;
      { bool syntaxRepeat = true ;
        while (syntaxRepeat) {
            GGS_lstring  var_cas_parameter ;
            _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
            var_cas_parameter.defineAttribute (_inLexique.tokenString, _inLexique) ;
            GGS_luint  var_cas_parameterIndex ;
            GGS_lstring  var_cas_domainVariable ;
            var_cas_ioRelationVariableMap.methode_searchKeyAndGetIndex (_inLexique, var_cas_parameter, var_cas_parameterIndex, var_cas_domainVariable SOURCE_FILE_AT_LINE (695)) ;
            var_cas_parameterList.addAssign_operation (var_cas_parameter, var_cas_parameterIndex, var_cas_domainVariable) ;
          switch (select_repeat_constraint_parser_14 (_inLexique)) {
            case 2 : {
              _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__2C) ;
              } break ;
            default :
              syntaxRepeat = false ;
              break ;
          }
        }
      }
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__5D) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3A) ;
      GGS_lbool  var_cas_operationIsAnd ;
      switch (select_constraint_parser_15 (_inLexique)) {
        case 1 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7C) ;
          var_cas_operationIsAnd = GGS_lbool::constructor_new (GGS_bool (true, false), GGS_location (_inLexique) COMMA_HERE) ;
          } break ;
        case 2 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__26) ;
          var_cas_operationIsAnd = GGS_lbool::constructor_new (GGS_bool (true, true), GGS_location (_inLexique) COMMA_HERE) ;
          } break ;
        default :
          break ;
      }
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__29) ;
      var_cas_outExpression = GGS_metamodelRelationDo::constructor_new (var_cas_ioRelationVariableMap, var_cas_parameterList, var_cas_path, var_cas_operationIsAnd COMMA_HERE) ;
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*

void constraint_parser::
pr_constraint_relation_primary_constraint_parser_649_35_parse (galgas_scanner & _inLexique) {
  switch (select_constraint_parser_13 (_inLexique)) {
    case 1 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_true) ;
      } break ;
    case 2 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_false) ;
      } break ;
    case 3 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__28) ;
      nt_constraint_relation_expression_parse (_inLexique) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__29) ;
      } break ;
    case 4 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7B) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3D_3D) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7D) ;
      } break ;
    case 5 : {
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_do) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__28) ;
      nt_property_path_for_constraint_parse (_inLexique) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__5B) ;
      { bool syntaxRepeat = true ;
        while (syntaxRepeat) {
            _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1_identifier) ;
          switch (select_repeat_constraint_parser_14 (_inLexique)) {
            case 2 : {
              _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__2C) ;
              } break ;
            default :
              syntaxRepeat = false ;
              break ;
          }
        }
      }
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__5D) ;
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__3A) ;
      switch (select_constraint_parser_15 (_inLexique)) {
        case 1 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__7C) ;
          } break ;
        case 2 : {
          _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__26) ;
          } break ;
        default :
          break ;
      }
      _inLexique.acceptTerminal (galgas_scanner::galgas_scanner_1__29) ;
      } break ;
    default :
      break ;
  }
}

//---------------------------------------------------------------------------*

