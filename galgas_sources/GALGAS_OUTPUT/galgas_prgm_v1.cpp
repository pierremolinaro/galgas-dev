//---------------------------------------------------------------------------*
//                                                                           *
//                        File 'galgas_prgm_v1.cpp'                          *
//                 Generated by version GALGAS_BETA_VERSION                  *
//                    november 14th, 2010, at 14h38'36"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "version_libpm.h"
#if CURRENT_LIBPM_VERSION != VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER
  #error "This file has been compiled with a version of GALGAS that uses libpm version VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER, different than the current version (CURRENT_LIBPM_VERSION) of libpm"
#endif

//---------------------------------------------------------------------------*

#include "utilities/F_DisplayException.h"
#include "utilities/MF_MemoryControl.h"
#include "collections/TC_UniqueArray.h"
#include "command_line_interface/F_Analyze_CLI_Options.h"
#include "command_line_interface/mainForLIBPM.h"
#include "utilities/MF_MemoryControl.h"
#include "command_line_interface/C_StringCommandLineOption.h"
#include "utilities/cpp-allocation.h"
#include "utilities/basic-allocation.h"

#ifdef TARGET_API_MAC_CARBON
  #include <SIOUX.H>
#endif

#ifdef COMPILE_FOR_WIN32
  #ifdef __MWERKS__
    #include <WINSIOUX.H>
  #endif
#endif

#include <typeinfo>

//---------------------------------------------------------------------------*

#include "galgas_LL1_grammar.h"
#include "galgas_prgm_v1.h"
#include "guiCompilation.h"
#include "lexiqueCompilation.h"
#include "lexiqueSemantics.h"
#include "predefinedTypes.h"
#include "programComponentCompilation.h"
#include "projectCreation.h"
#include "projectGlobalCheckings.h"
#include "projectLL1grammar.h"
#include "syntaxCompilation.h"
#include "targetGeneration.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "galgas_prgm_v1.gProgram", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//---------------------------------------------------------------------------*
//                                                                           *
//                     P R O G R A M    P R O L O G U E                      *
//                                                                           *
//---------------------------------------------------------------------------*

static void
galgas_prgm_v1_prologue (C_CompilerEx & inLexique,
                     const TC_UniqueArray <C_String> & /* inSourceFilesArray */) {
  const GGS_string var_cas_libpmVarName = GGS_string ("LIBPM_PATH") ;
  const GGS_bool cond_3241 = (var_cas_libpmVarName.reader_doesEnvironmentVariableExist ()).operator_not () ;
  if (cond_3241.isBuiltAndTrue ()) {
    GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, ((GGS_string ("the '")).operator_concat (var_cas_libpmVarName)).operator_concat (GGS_string ("' environnement variable is not set; GALGAS requires it to be defined with the absolute path to the 'libpm' directory")) COMMA_SOURCE_FILE_AT_LINE (54)) ;
  }else if (cond_3241.isBuiltAndFalse ()) {
    const GGS_string var_cas_libpmPosixPath = GGS_string::constructor_stringWithEnvironmentVariable (inLexique, var_cas_libpmVarName COMMA_SOURCE_FILE_AT_LINE (55)).reader_unixPathWithNativePath () ;
    const GGS_bool cond_3667 = (var_cas_libpmPosixPath.reader_directoryExists ()).operator_not () ;
    if (cond_3667.isBuiltAndTrue ()) {
      GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, ((((GGS_string ("the '")).operator_concat (var_cas_libpmVarName)).operator_concat (GGS_string ("' environnement variable is set to '"))).operator_concat (GGS_string::constructor_stringWithEnvironmentVariable (inLexique, var_cas_libpmVarName COMMA_SOURCE_FILE_AT_LINE (58)))).operator_concat (GGS_string ("', but this value does not designate any directory (it should designate the 'libpm' directory")) COMMA_SOURCE_FILE_AT_LINE (60)) ;
    }else if (cond_3667.isBuiltAndFalse ()) {
      const GGS_string var_cas_libpmVersionFilePath = (var_cas_libpmPosixPath).operator_concat (GGS_string ("/version_libpm.h")) ;
      const GGS_bool cond_4086 = (var_cas_libpmVersionFilePath.reader_fileExists ()).operator_not () ;
      if (cond_4086.isBuiltAndTrue ()) {
        GGS_location (inLexique).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, ((((GGS_string ("the '")).operator_concat (var_cas_libpmVarName)).operator_concat (GGS_string ("' environnement variable is set to '"))).operator_concat (GGS_string::constructor_stringWithEnvironmentVariable (inLexique, var_cas_libpmVarName COMMA_SOURCE_FILE_AT_LINE (64)))).operator_concat (GGS_string ("', but this value does not designate a valid 'libpm' directory (it does not contain the 'version_libpm.h' file)")) COMMA_SOURCE_FILE_AT_LINE (66)) ;
      }
    }
  }
  const GGS_string var_cas_creationProjectName = GGS_string (gOption_galgas_5F_cli_5F_options_create_5F_project.reader_value ()) ;
  ::routine_projectCreation (inLexique,  var_cas_creationProjectName COMMA_SOURCE_FILE_AT_LINE (71)) ;
  const GGS_bool cond_4421 = GGS_bool (gOption_galgas_5F_cli_5F_options_printPredefinedLexicalActions.reader_value ()) ;
  if (cond_4421.isBuiltAndTrue ()) {
    ::routine_printPredefinedLexicalActions (inLexique COMMA_SOURCE_FILE_AT_LINE (74)) ;
  }
  const GGS_bool cond_4552 = GGS_bool (gOption_galgas_5F_cli_5F_options_printPredefinedTypes.reader_value ()) ;
  if (cond_4552.isBuiltAndTrue ()) {
    ::routine_printPredefinedTypes (inLexique COMMA_SOURCE_FILE_AT_LINE (78)) ;
  }
  const GGS_string var_cas_printFeature = GGS_string (gOption_galgas_5F_cli_5F_options_printPredefinedTypeFeature.reader_value ()) ;
  const GGS_bool cond_4769 = (var_cas_printFeature).operator_isNotEqual (GGS_string ("")) ;
  if (cond_4769.isBuiltAndTrue ()) {
    ::routine_printPredefinedTypeFeature (inLexique,  var_cas_printFeature COMMA_SOURCE_FILE_AT_LINE (83)) ;
  }
  ::routine_generatePredefinedTypeFiles (inLexique,  GGS_string (gOption_galgas_5F_cli_5F_options_generatePredefinedTypes.reader_value ()) COMMA_SOURCE_FILE_AT_LINE (86)) ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//                     P R O G R A M    E P I L O G U E                      *
//                                                                           *
//---------------------------------------------------------------------------*

static void
galgas_prgm_v1_epilogue (C_CompilerEx & /* inLexique */,
                     const TC_UniqueArray <C_String> & /* inSourceFilesArray */) {
}

//---------------------------------------------------------------------------*
//                                                                           *
//                      M A I N    F O R    L I B P M                        *
//                                                                           *
//---------------------------------------------------------------------------*

int mainForLIBPM  (const int argc, const char * argv []) {
  bool verboseOptionOn = true ;
  PMSInt16 returnCode = 0 ; // No error
  {
  //--- Input/output parameters
    const char * extensions [] = {"gOption", "gLexique", "gSemantics", "gSyntax", "gGrammar", "gGui", "gProgram", "gProject", NULL} ;
    const char * helpMessages [] = {"a GALGAS option source file", "a GALGAS lexique source file", "a GALGAS semantics source file", "a GALGAS syntax source file", "a GALGAS grammar source file", "a GALGAS GUI source file", "a GALGAS program source file", "a GALGAS project source file", NULL} ;
    TC_UniqueArray <C_String> sourceFilesArray ;
  //--- Analyze Command Line Options
    F_Analyze_CLI_Options (argc, argv,
                                 #ifndef DO_NOT_GENERATE_CHECKINGS
        "version GALGAS_BETA_VERSION" " [debug]",
      #else
        "version GALGAS_BETA_VERSION",
      #endif
                           sourceFilesArray,
                           extensions,
                           helpMessages) ;
  //--- Build galgas io object
    C_galgas_io * galgasIOptr = NULL ;
    macroMyNew (galgasIOptr, C_galgas_io (HERE)) ;
  //--- Common lexique object
    C_CompilerEx * commonLexique = NULL ;
    macroMyNew (commonLexique, C_CompilerEx (NULL, "", "", galgasIOptr COMMA_HERE)) ;
  //--- Ask Save On Close ? (Carbon and Windows SIOUX Only)
    #ifdef SIOUX_IS_IMPLEMENTED
      SIOUXSettings.asktosaveonclose = gOption_generic_5F_cli_5F_options_options_asktosaveonclose.mValue ;
    #endif
  //--- Enable 64 bit alloc debug ? Only if compiled in 64 bit and in debug mode
    #ifndef DO_NOT_GENERATE_CHECKINGS
      #ifdef __LP64__
        if (gOption_generic_5F_cli_5F_options_enable_5F_allocation_5F_debugging.mValue) {
          enableAllocDebugFor64BitTool () ;
        }
      #endif
    #endif
    try{
      verboseOptionOn = gOption_galgas_5F_cli_5F_options_verbose_5F_output.mValue ;
      galgas_prgm_v1_prologue (* commonLexique, sourceFilesArray) ;
      for (PMSInt32 i=0 ; i<sourceFilesArray.count () ; i++) {
        const C_String fileExtension = sourceFilesArray (i COMMA_HERE).pathExtension () ;
        PMSInt16 r = 0 ;
          if (fileExtension.compare ("gOption") == 0) {
          C_CompilerEx & inLexique = * commonLexique ;
          const GGS_string source (true, sourceFilesArray (i COMMA_HERE)) ;
          const GGS_location _here (inLexique) ;
          const GGS_lstring var_cas_inSourceFile (GGS_lstring::constructor_new (inLexique, source, _here COMMA_HERE)) ;
            GGS_parsedComponentStruct var_cas_parsedComponentStruct = GGS_parsedComponentStruct::constructor_new (GGS_parsedSemanticsComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (95)), GGS_parsedLexiqueComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (96)), GGS_parsedSyntaxComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (97)), GGS_parsedOptionComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (98)), GGS_parsedGrammarComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (99)), GGS_parsedProgramComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (100))) ;
            ::routine_compileOptionComponent (inLexique,  var_cas_inSourceFile,  function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (102)),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (102)) ;
          if (verboseOptionOn) {
            co << "Analysis of '" << sourceFilesArray (i COMMA_HERE).lastPathComponent () << "' completed. " ;
            switch (commonLexique->totalErrorCount ()) {
            case 0 :
              co << "No error, " ;
              break ;
            case 1 :
              co << "1 error, " ;
              returnCode = 1 ; // Error code
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalErrorCount ()) << " errors, " ;
              returnCode = 1 ; // Error code
              break ;
            }
            switch (commonLexique->totalWarningCount ()) {
            case 0 :
              co << "no warning" ;
              break ;
            case 1 :
              co << "1 warning" ;
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalWarningCount ()) << " warnings" ;
              break ;
            }
            if (verboseOptionOn || ((commonLexique->totalErrorCount () + commonLexique->totalWarningCount ()) > 0)) {
              co << ".\n" ;
            }
          }
          }else if (fileExtension.compare ("gLexique") == 0) {
          C_CompilerEx & inLexique = * commonLexique ;
          const GGS_string source (true, sourceFilesArray (i COMMA_HERE)) ;
          const GGS_location _here (inLexique) ;
          const GGS_lstring var_cas_inSourceFile (GGS_lstring::constructor_new (inLexique, source, _here COMMA_HERE)) ;
            GGS_parsedComponentStruct var_cas_parsedComponentStruct = GGS_parsedComponentStruct::constructor_new (GGS_parsedSemanticsComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (111)), GGS_parsedLexiqueComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (112)), GGS_parsedSyntaxComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (113)), GGS_parsedOptionComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (114)), GGS_parsedGrammarComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (115)), GGS_parsedProgramComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (116))) ;
            ::routine_compileLexiqueComponent (inLexique,  var_cas_inSourceFile,  function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (120)),  GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ()),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (118)) ;
          if (verboseOptionOn) {
            co << "Analysis of '" << sourceFilesArray (i COMMA_HERE).lastPathComponent () << "' completed. " ;
            switch (commonLexique->totalErrorCount ()) {
            case 0 :
              co << "No error, " ;
              break ;
            case 1 :
              co << "1 error, " ;
              returnCode = 1 ; // Error code
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalErrorCount ()) << " errors, " ;
              returnCode = 1 ; // Error code
              break ;
            }
            switch (commonLexique->totalWarningCount ()) {
            case 0 :
              co << "no warning" ;
              break ;
            case 1 :
              co << "1 warning" ;
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalWarningCount ()) << " warnings" ;
              break ;
            }
            if (verboseOptionOn || ((commonLexique->totalErrorCount () + commonLexique->totalWarningCount ()) > 0)) {
              co << ".\n" ;
            }
          }
          }else if (fileExtension.compare ("gSemantics") == 0) {
          C_CompilerEx & inLexique = * commonLexique ;
          const GGS_string source (true, sourceFilesArray (i COMMA_HERE)) ;
          const GGS_location _here (inLexique) ;
          const GGS_lstring var_cas_inSourceFile (GGS_lstring::constructor_new (inLexique, source, _here COMMA_HERE)) ;
            const GGS_bool cond_6812 = (GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ())).operator_not () ;
            if (cond_6812.isBuiltAndTrue ()) {
              GGS_parsedComponentStruct var_cas_parsedComponentStruct = GGS_parsedComponentStruct::constructor_new (GGS_parsedSemanticsComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (133)), GGS_parsedLexiqueComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (134)), GGS_parsedSyntaxComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (135)), GGS_parsedOptionComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (136)), GGS_parsedGrammarComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (137)), GGS_parsedProgramComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (138))) ;
              ::routine_compileSemanticsComponent (inLexique,  var_cas_inSourceFile,  function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (140)),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (140)) ;
            }else if (cond_6812.isBuiltAndFalse ()) {
              GGS_M_lexiqueComponents  var_cas_lexiqueMapForUse = GGS_M_lexiqueComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (142)) ;
              GGS_M_semanticsComponents  var_cas_semanticsComponentsMap = GGS_M_semanticsComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (143)) ;
              GGS_M_syntaxComponents  var_cas_syntaxComponentsMap = GGS_M_syntaxComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (144)) ;
              GGS_M_grammarComponents  var_cas_grammarComponentsMap = GGS_M_grammarComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (145)) ;
              GGS_M_optionComponents  var_cas_optionComponentsMap = GGS_M_optionComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (146)) ;
              GGS_EXsemanticContext var_cas_semanticContext = GGS_EXsemanticContext::constructor_new (GGS_M_filewrappersEX ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (148)), GGS_stringset ::constructor_emptySet (), GGS_EXcategoryMethodMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (150)), GGS_EXcategoryReaderMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (151)), GGS_EXcategoryTemplateMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (152))) ;
              const GGS_string _depExtension = GGS_string ("galgas-dep") ;
              const GGS_string _depPath = GGS_string ("DEPENDENCIES") ;
              if (_depExtension.isBuilt () && _depPath.isBuilt ()) {
                C_Grammar_galgas_5F_LL_31__5F_grammar::_performSourceFileParsing_ (inLexique,
                                              _depExtension.string (),
                                              _depPath.string (),
                                              NULL,
                                              var_cas_inSourceFile,
                                              var_cas_lexiqueMapForUse,
                                              var_cas_semanticsComponentsMap,
                                              var_cas_syntaxComponentsMap,
                                              var_cas_grammarComponentsMap,
                                              var_cas_optionComponentsMap,
                                              var_cas_semanticContext
                                              COMMA_SOURCE_FILE_AT_LINE (154)) ;
              }
            }
          if (verboseOptionOn) {
            co << "Analysis of '" << sourceFilesArray (i COMMA_HERE).lastPathComponent () << "' completed. " ;
            switch (commonLexique->totalErrorCount ()) {
            case 0 :
              co << "No error, " ;
              break ;
            case 1 :
              co << "1 error, " ;
              returnCode = 1 ; // Error code
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalErrorCount ()) << " errors, " ;
              returnCode = 1 ; // Error code
              break ;
            }
            switch (commonLexique->totalWarningCount ()) {
            case 0 :
              co << "no warning" ;
              break ;
            case 1 :
              co << "1 warning" ;
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalWarningCount ()) << " warnings" ;
              break ;
            }
            if (verboseOptionOn || ((commonLexique->totalErrorCount () + commonLexique->totalWarningCount ()) > 0)) {
              co << ".\n" ;
            }
          }
          }else if (fileExtension.compare ("gSyntax") == 0) {
          C_CompilerEx & inLexique = * commonLexique ;
          const GGS_string source (true, sourceFilesArray (i COMMA_HERE)) ;
          const GGS_location _here (inLexique) ;
          const GGS_lstring var_cas_inSourceFile (GGS_lstring::constructor_new (inLexique, source, _here COMMA_HERE)) ;
            const GGS_bool cond_8283 = (GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ())).operator_not () ;
            if (cond_8283.isBuiltAndTrue ()) {
              GGS_parsedComponentStruct var_cas_parsedComponentStruct = GGS_parsedComponentStruct::constructor_new (GGS_parsedSemanticsComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (172)), GGS_parsedLexiqueComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (173)), GGS_parsedSyntaxComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (174)), GGS_parsedOptionComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (175)), GGS_parsedGrammarComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (176)), GGS_parsedProgramComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (177))) ;
              ::routine_compileSyntaxComponent (inLexique,  var_cas_inSourceFile,  function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (179)),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (179)) ;
            }else if (cond_8283.isBuiltAndFalse ()) {
              GGS_M_lexiqueComponents  var_cas_lexiqueMapForUse = GGS_M_lexiqueComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (181)) ;
              GGS_M_semanticsComponents  var_cas_semanticsComponentsMap = GGS_M_semanticsComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (182)) ;
              GGS_M_syntaxComponents  var_cas_syntaxComponentsMap = GGS_M_syntaxComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (183)) ;
              GGS_M_grammarComponents  var_cas_grammarComponentsMap = GGS_M_grammarComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (184)) ;
              GGS_M_optionComponents  var_cas_optionComponentsMap = GGS_M_optionComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (185)) ;
              GGS_EXsemanticContext var_cas_semanticContext = GGS_EXsemanticContext::constructor_new (GGS_M_filewrappersEX ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (187)), GGS_stringset ::constructor_emptySet (), GGS_EXcategoryMethodMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (189)), GGS_EXcategoryReaderMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (190)), GGS_EXcategoryTemplateMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (191))) ;
              const GGS_string _depExtension = GGS_string ("galgas-dep") ;
              const GGS_string _depPath = GGS_string ("DEPENDENCIES") ;
              if (_depExtension.isBuilt () && _depPath.isBuilt ()) {
                C_Grammar_galgas_5F_LL_31__5F_grammar::_performSourceFileParsing_ (inLexique,
                                              _depExtension.string (),
                                              _depPath.string (),
                                              NULL,
                                              var_cas_inSourceFile,
                                              var_cas_lexiqueMapForUse,
                                              var_cas_semanticsComponentsMap,
                                              var_cas_syntaxComponentsMap,
                                              var_cas_grammarComponentsMap,
                                              var_cas_optionComponentsMap,
                                              var_cas_semanticContext
                                              COMMA_SOURCE_FILE_AT_LINE (193)) ;
              }
            }
          if (verboseOptionOn) {
            co << "Analysis of '" << sourceFilesArray (i COMMA_HERE).lastPathComponent () << "' completed. " ;
            switch (commonLexique->totalErrorCount ()) {
            case 0 :
              co << "No error, " ;
              break ;
            case 1 :
              co << "1 error, " ;
              returnCode = 1 ; // Error code
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalErrorCount ()) << " errors, " ;
              returnCode = 1 ; // Error code
              break ;
            }
            switch (commonLexique->totalWarningCount ()) {
            case 0 :
              co << "no warning" ;
              break ;
            case 1 :
              co << "1 warning" ;
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalWarningCount ()) << " warnings" ;
              break ;
            }
            if (verboseOptionOn || ((commonLexique->totalErrorCount () + commonLexique->totalWarningCount ()) > 0)) {
              co << ".\n" ;
            }
          }
          }else if (fileExtension.compare ("gGrammar") == 0) {
          C_CompilerEx & inLexique = * commonLexique ;
          const GGS_string source (true, sourceFilesArray (i COMMA_HERE)) ;
          const GGS_location _here (inLexique) ;
          const GGS_lstring var_cas_inSourceFile (GGS_lstring::constructor_new (inLexique, source, _here COMMA_HERE)) ;
            GGS_parsedComponentStruct var_cas_parsedComponentStruct = GGS_parsedComponentStruct::constructor_new (GGS_parsedSemanticsComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (210)), GGS_parsedLexiqueComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (211)), GGS_parsedSyntaxComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (212)), GGS_parsedOptionComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (213)), GGS_parsedGrammarComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (214)), GGS_parsedProgramComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (215))) ;
            ::routine_compileGrammarComponent (inLexique,  var_cas_inSourceFile,  function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (219)),  var_cas_inSourceFile.ggs_string ().reader_stringByDeletingLastPathComponent (),  GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ()),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (217)) ;
          if (verboseOptionOn) {
            co << "Analysis of '" << sourceFilesArray (i COMMA_HERE).lastPathComponent () << "' completed. " ;
            switch (commonLexique->totalErrorCount ()) {
            case 0 :
              co << "No error, " ;
              break ;
            case 1 :
              co << "1 error, " ;
              returnCode = 1 ; // Error code
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalErrorCount ()) << " errors, " ;
              returnCode = 1 ; // Error code
              break ;
            }
            switch (commonLexique->totalWarningCount ()) {
            case 0 :
              co << "no warning" ;
              break ;
            case 1 :
              co << "1 warning" ;
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalWarningCount ()) << " warnings" ;
              break ;
            }
            if (verboseOptionOn || ((commonLexique->totalErrorCount () + commonLexique->totalWarningCount ()) > 0)) {
              co << ".\n" ;
            }
          }
          }else if (fileExtension.compare ("gGui") == 0) {
          C_CompilerEx & inLexique = * commonLexique ;
          const GGS_string source (true, sourceFilesArray (i COMMA_HERE)) ;
          const GGS_location _here (inLexique) ;
          const GGS_lstring var_cas_inSourceFile (GGS_lstring::constructor_new (inLexique, source, _here COMMA_HERE)) ;
            GGS_parsedComponentStruct var_cas_parsedComponentStruct = GGS_parsedComponentStruct::constructor_new (GGS_parsedSemanticsComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (231)), GGS_parsedLexiqueComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (232)), GGS_parsedSyntaxComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (233)), GGS_parsedOptionComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (234)), GGS_parsedGrammarComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (235)), GGS_parsedProgramComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (236))) ;
            ::routine_compileGuiComponent (inLexique,  var_cas_inSourceFile,  function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (238)),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (238)) ;
          if (verboseOptionOn) {
            co << "Analysis of '" << sourceFilesArray (i COMMA_HERE).lastPathComponent () << "' completed. " ;
            switch (commonLexique->totalErrorCount ()) {
            case 0 :
              co << "No error, " ;
              break ;
            case 1 :
              co << "1 error, " ;
              returnCode = 1 ; // Error code
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalErrorCount ()) << " errors, " ;
              returnCode = 1 ; // Error code
              break ;
            }
            switch (commonLexique->totalWarningCount ()) {
            case 0 :
              co << "no warning" ;
              break ;
            case 1 :
              co << "1 warning" ;
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalWarningCount ()) << " warnings" ;
              break ;
            }
            if (verboseOptionOn || ((commonLexique->totalErrorCount () + commonLexique->totalWarningCount ()) > 0)) {
              co << ".\n" ;
            }
          }
          }else if (fileExtension.compare ("gProgram") == 0) {
          C_CompilerEx & inLexique = * commonLexique ;
          const GGS_string source (true, sourceFilesArray (i COMMA_HERE)) ;
          const GGS_location _here (inLexique) ;
          const GGS_lstring var_cas_inSourceFile (GGS_lstring::constructor_new (inLexique, source, _here COMMA_HERE)) ;
            const GGS_bool cond_11033 = (GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ())).operator_not () ;
            if (cond_11033.isBuiltAndTrue ()) {
              GGS_parsedComponentStruct var_cas_parsedComponentStruct = GGS_parsedComponentStruct::constructor_new (GGS_parsedSemanticsComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (248)), GGS_parsedLexiqueComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (249)), GGS_parsedSyntaxComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (250)), GGS_parsedOptionComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (251)), GGS_parsedGrammarComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (252)), GGS_parsedProgramComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (253))) ;
              ::routine_compileProgramComponent (inLexique,  var_cas_inSourceFile,  function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (255)),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (255)) ;
            }else if (cond_11033.isBuiltAndFalse ()) {
              GGS_M_lexiqueComponents  var_cas_lexiqueMapForUse = GGS_M_lexiqueComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (257)) ;
              GGS_M_semanticsComponents  var_cas_semanticsComponentsMap = GGS_M_semanticsComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (258)) ;
              GGS_M_syntaxComponents  var_cas_syntaxComponentsMap = GGS_M_syntaxComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (259)) ;
              GGS_M_grammarComponents  var_cas_grammarComponentsMap = GGS_M_grammarComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (260)) ;
              GGS_M_optionComponents  var_cas_optionComponentsMap = GGS_M_optionComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (261)) ;
              GGS_EXsemanticContext var_cas_semanticContext = GGS_EXsemanticContext::constructor_new (GGS_M_filewrappersEX ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (263)), GGS_stringset ::constructor_emptySet (), GGS_EXcategoryMethodMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (265)), GGS_EXcategoryReaderMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (266)), GGS_EXcategoryTemplateMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (267))) ;
              const GGS_string _depExtension = GGS_string ("galgas-dep") ;
              const GGS_string _depPath = GGS_string ("DEPENDENCIES") ;
              if (_depExtension.isBuilt () && _depPath.isBuilt ()) {
                C_Grammar_galgas_5F_LL_31__5F_grammar::_performSourceFileParsing_ (inLexique,
                                              _depExtension.string (),
                                              _depPath.string (),
                                              NULL,
                                              var_cas_inSourceFile,
                                              var_cas_lexiqueMapForUse,
                                              var_cas_semanticsComponentsMap,
                                              var_cas_syntaxComponentsMap,
                                              var_cas_grammarComponentsMap,
                                              var_cas_optionComponentsMap,
                                              var_cas_semanticContext
                                              COMMA_SOURCE_FILE_AT_LINE (269)) ;
              }
            }
          if (verboseOptionOn) {
            co << "Analysis of '" << sourceFilesArray (i COMMA_HERE).lastPathComponent () << "' completed. " ;
            switch (commonLexique->totalErrorCount ()) {
            case 0 :
              co << "No error, " ;
              break ;
            case 1 :
              co << "1 error, " ;
              returnCode = 1 ; // Error code
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalErrorCount ()) << " errors, " ;
              returnCode = 1 ; // Error code
              break ;
            }
            switch (commonLexique->totalWarningCount ()) {
            case 0 :
              co << "no warning" ;
              break ;
            case 1 :
              co << "1 warning" ;
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalWarningCount ()) << " warnings" ;
              break ;
            }
            if (verboseOptionOn || ((commonLexique->totalErrorCount () + commonLexique->totalWarningCount ()) > 0)) {
              co << ".\n" ;
            }
          }
          }else if (fileExtension.compare ("gProject") == 0) {
          C_CompilerEx & inLexique = * commonLexique ;
          const GGS_string source (true, sourceFilesArray (i COMMA_HERE)) ;
          const GGS_location _here (inLexique) ;
          const GGS_lstring var_cas_inSourceFile (GGS_lstring::constructor_new (inLexique, source, _here COMMA_HERE)) ;
            const GGS_string var_cas_outputDirectory = function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (289)) ;
            GGS_projectComponentAST var_cas_projectComponent ;
            const GGS_string _depExtension = GGS_string ("") ;
            const GGS_string _depPath = GGS_string ("") ;
            if (_depExtension.isBuilt () && _depPath.isBuilt ()) {
              C_Grammar_projectLL_31_grammar::_performSourceFileParsing_ (inLexique,
                                            _depExtension.string (),
                                            _depPath.string (),
                                            NULL,
                                            var_cas_inSourceFile,
                                            var_cas_projectComponent
                                            COMMA_SOURCE_FILE_AT_LINE (292)) ;
            }
            const GGS_bool cond_12910 = (var_cas_projectComponent.reader_mProjectName (inLexique COMMA_SOURCE_FILE_AT_LINE (294)).reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (294))).operator_isNotEqual (var_cas_inSourceFile.ggs_string ().reader_lastPathComponent ().reader_stringByDeletingPathExtension ()) ;
            if (cond_12910.isBuiltAndTrue ()) {
              var_cas_projectComponent.reader_mProjectName (inLexique COMMA_SOURCE_FILE_AT_LINE (295)).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, ((((GGS_string ("the project name ('")).operator_concat (var_cas_projectComponent.reader_mProjectName (inLexique COMMA_SOURCE_FILE_AT_LINE (296)))).operator_concat (GGS_string ("') should be the same as the source file base name ('"))).operator_concat (var_cas_inSourceFile.ggs_string ().reader_lastPathComponent ().reader_stringByDeletingPathExtension ())).operator_concat (GGS_string ("')")) COMMA_SOURCE_FILE_AT_LINE (298)) ;
            }
            const GGS_string var_cas_targetName = var_cas_projectComponent.reader_mTargetName (inLexique COMMA_SOURCE_FILE_AT_LINE (300)).reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (300)) ;
            const GGS_bool cond_13125 = (var_cas_targetName).operator_isEqual (GGS_string ("")) ;
            if (cond_13125.isBuiltAndTrue ()) {
              var_cas_projectComponent.reader_mTargetName (inLexique COMMA_SOURCE_FILE_AT_LINE (302)).reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("the target name should not be empty") COMMA_SOURCE_FILE_AT_LINE (303)) ;
            }
            ::routine_updateTargets (inLexique,  var_cas_inSourceFile,  var_cas_projectComponent.reader_mProjectName (inLexique COMMA_SOURCE_FILE_AT_LINE (307)),  var_cas_targetName,  var_cas_projectComponent.reader_mGenerationFeatureList (inLexique COMMA_SOURCE_FILE_AT_LINE (309)),  var_cas_projectComponent.reader_mProjectSourceList (inLexique COMMA_SOURCE_FILE_AT_LINE (310)),  GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ()) COMMA_SOURCE_FILE_AT_LINE (305)) ;
            GGS_parsedComponentStruct var_cas_parsedComponentStruct = GGS_parsedComponentStruct::constructor_new (GGS_parsedSemanticsComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (315)), GGS_parsedLexiqueComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (316)), GGS_parsedSyntaxComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (317)), GGS_parsedOptionComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (318)), GGS_parsedGrammarComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (319)), GGS_parsedProgramComponentMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (320))) ;
            {
              GGS_projectSourceList::cEnumerator enumerator_13777 (var_cas_projectComponent.reader_mProjectSourceList (inLexique COMMA_SOURCE_FILE_AT_LINE (323)), true) ;
              const GGS_projectSourceList::cElement * operand_13777 = NULL ;
              while (((operand_13777 = enumerator_13777.nextObject ()))) {
                macroValidPointer (operand_13777) ;
                GGS_string var_cas_extension = operand_13777->mFilePath.ggs_string ().reader_pathExtension () ;
                GGS_lstring  var_cas_fullFilePath = GGS_lstring ::constructor_new (inLexique, ((var_cas_inSourceFile.ggs_string ().reader_stringByDeletingLastPathComponent ()).operator_concat (GGS_string ("/"))).operator_concat (operand_13777->mFilePath.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (326))), operand_13777->mFilePath.reader_location (inLexique COMMA_SOURCE_FILE_AT_LINE (327)) COMMA_SOURCE_FILE_AT_LINE (325)) ;
                const GGS_bool cond_14143 = (operand_13777->mSourceKind).operator_isNotEqual (GGS_sourceFileKind::constructor_externSourceFile (inLexique COMMA_SOURCE_FILE_AT_LINE (329))) ;
                if (cond_14143.isBuiltAndTrue ()) {
                  inLexique.printMessage (((GGS_string ("*** Compiling '")).operator_concat (operand_13777->mFilePath)).operator_concat (GGS_string ("'\n")) COMMA_SOURCE_FILE_AT_LINE (330)) ;
                }
                switch (operand_13777->mSourceKind.enumValue ()) {
                case GGS_sourceFileKind::enum_externSourceFile:
                  {
                  }
                  break ;
                case GGS_sourceFileKind::enum_guiSourceFile:
                  {
                  const GGS_bool cond_14355 = (var_cas_extension).operator_isEqual (GGS_string ("gGui")) ;
                  if (cond_14355.isBuiltAndTrue ()) {
                    ::routine_compileGuiComponent (inLexique,  var_cas_fullFilePath,  var_cas_outputDirectory,  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (336)) ;
                  }else if (cond_14355.isBuiltAndFalse ()) {
                    operand_13777->mFilePath.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("extension of a gui component should be '.gGui'.") COMMA_SOURCE_FILE_AT_LINE (339)) ;
                  }
                  }
                  break ;
                case GGS_sourceFileKind::enum_lexiqueSourceFile:
                  {
                  const GGS_bool cond_14720 = (var_cas_extension).operator_isEqual (GGS_string ("gLexique")) ;
                  if (cond_14720.isBuiltAndTrue ()) {
                    ::routine_compileLexiqueComponent (inLexique,  var_cas_fullFilePath,  var_cas_outputDirectory,  GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ()),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (342)) ;
                  }else if (cond_14720.isBuiltAndFalse ()) {
                    operand_13777->mFilePath.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("extension of a lexique component should be '.gLexique'.") COMMA_SOURCE_FILE_AT_LINE (350)) ;
                  }
                  }
                  break ;
                case GGS_sourceFileKind::enum_optionSourceFile:
                  {
                  const GGS_bool cond_14984 = (var_cas_extension).operator_isEqual (GGS_string ("gOption")) ;
                  if (cond_14984.isBuiltAndTrue ()) {
                    ::routine_compileOptionComponent (inLexique,  var_cas_fullFilePath,  var_cas_outputDirectory,  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (353)) ;
                  }else if (cond_14984.isBuiltAndFalse ()) {
                    operand_13777->mFilePath.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("extension of an option component should be '.gOption'.") COMMA_SOURCE_FILE_AT_LINE (356)) ;
                  }
                  }
                  break ;
                case GGS_sourceFileKind::enum_semanticsSourceFile:
                  {
                  const GGS_bool cond_16273 = (var_cas_extension).operator_isEqual (GGS_string ("gSemantics")) ;
                  if (cond_16273.isBuiltAndTrue ()) {
                    const GGS_bool cond_15338 = (GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ())).operator_not () ;
                    if (cond_15338.isBuiltAndTrue ()) {
                      ::routine_compileSemanticsComponent (inLexique,  var_cas_fullFilePath,  var_cas_outputDirectory,  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (360)) ;
                    }else if (cond_15338.isBuiltAndFalse ()) {
                      GGS_M_lexiqueComponents  var_cas_lexiqueMapForUse = GGS_M_lexiqueComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (362)) ;
                      GGS_M_semanticsComponents  var_cas_semanticsComponentsMap = GGS_M_semanticsComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (363)) ;
                      GGS_M_syntaxComponents  var_cas_syntaxComponentsMap = GGS_M_syntaxComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (364)) ;
                      GGS_M_grammarComponents  var_cas_grammarComponentsMap = GGS_M_grammarComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (365)) ;
                      GGS_M_optionComponents  var_cas_optionComponentsMap = GGS_M_optionComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (366)) ;
                      GGS_EXsemanticContext var_cas_semanticContext = GGS_EXsemanticContext::constructor_new (GGS_M_filewrappersEX ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (368)), GGS_stringset ::constructor_emptySet (), GGS_EXcategoryMethodMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (370)), GGS_EXcategoryReaderMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (371)), GGS_EXcategoryTemplateMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (372))) ;
                      const GGS_string _depExtension = GGS_string ("galgas-dep") ;
                      const GGS_string _depPath = GGS_string ("DEPENDENCIES") ;
                      if (_depExtension.isBuilt () && _depPath.isBuilt ()) {
                        C_Grammar_galgas_5F_LL_31__5F_grammar::_performSourceFileParsing_ (inLexique,
                                                      _depExtension.string (),
                                                      _depPath.string (),
                                                      NULL,
                                                      var_cas_fullFilePath,
                                                      var_cas_lexiqueMapForUse,
                                                      var_cas_semanticsComponentsMap,
                                                      var_cas_syntaxComponentsMap,
                                                      var_cas_grammarComponentsMap,
                                                      var_cas_optionComponentsMap,
                                                      var_cas_semanticContext
                                                      COMMA_SOURCE_FILE_AT_LINE (374)) ;
                      }
                    }
                  }else if (cond_16273.isBuiltAndFalse ()) {
                    operand_13777->mFilePath.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("extension of a semantics component should be '.gSemantics'.") COMMA_SOURCE_FILE_AT_LINE (385)) ;
                  }
                  }
                  break ;
                case GGS_sourceFileKind::enum_syntaxSourceFile:
                  {
                  const GGS_bool cond_17572 = (var_cas_extension).operator_isEqual (GGS_string ("gSyntax")) ;
                  if (cond_17572.isBuiltAndTrue ()) {
                    const GGS_bool cond_16637 = (GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ())).operator_not () ;
                    if (cond_16637.isBuiltAndTrue ()) {
                      ::routine_compileSyntaxComponent (inLexique,  var_cas_fullFilePath,  function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (389)),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (389)) ;
                    }else if (cond_16637.isBuiltAndFalse ()) {
                      GGS_M_lexiqueComponents  var_cas_lexiqueMapForUse = GGS_M_lexiqueComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (391)) ;
                      GGS_M_semanticsComponents  var_cas_semanticsComponentsMap = GGS_M_semanticsComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (392)) ;
                      GGS_M_syntaxComponents  var_cas_syntaxComponentsMap = GGS_M_syntaxComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (393)) ;
                      GGS_M_grammarComponents  var_cas_grammarComponentsMap = GGS_M_grammarComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (394)) ;
                      GGS_M_optionComponents  var_cas_optionComponentsMap = GGS_M_optionComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (395)) ;
                      GGS_EXsemanticContext var_cas_semanticContext = GGS_EXsemanticContext::constructor_new (GGS_M_filewrappersEX ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (397)), GGS_stringset ::constructor_emptySet (), GGS_EXcategoryMethodMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (399)), GGS_EXcategoryReaderMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (400)), GGS_EXcategoryTemplateMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (401))) ;
                      const GGS_string _depExtension = GGS_string ("galgas-dep") ;
                      const GGS_string _depPath = GGS_string ("DEPENDENCIES") ;
                      if (_depExtension.isBuilt () && _depPath.isBuilt ()) {
                        C_Grammar_galgas_5F_LL_31__5F_grammar::_performSourceFileParsing_ (inLexique,
                                                      _depExtension.string (),
                                                      _depPath.string (),
                                                      NULL,
                                                      var_cas_fullFilePath,
                                                      var_cas_lexiqueMapForUse,
                                                      var_cas_semanticsComponentsMap,
                                                      var_cas_syntaxComponentsMap,
                                                      var_cas_grammarComponentsMap,
                                                      var_cas_optionComponentsMap,
                                                      var_cas_semanticContext
                                                      COMMA_SOURCE_FILE_AT_LINE (403)) ;
                      }
                    }
                  }else if (cond_17572.isBuiltAndFalse ()) {
                    operand_13777->mFilePath.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("extension of a syntax component should be '.gSyntax'.") COMMA_SOURCE_FILE_AT_LINE (414)) ;
                  }
                  }
                  break ;
                case GGS_sourceFileKind::enum_grammarSourceFile:
                  {
                  const GGS_bool cond_18019 = (var_cas_extension).operator_isEqual (GGS_string ("gGrammar")) ;
                  if (cond_18019.isBuiltAndTrue ()) {
                    ::routine_compileGrammarComponent (inLexique,  var_cas_fullFilePath,  function_outputDirectory (inLexique, var_cas_inSourceFile COMMA_SOURCE_FILE_AT_LINE (419)),  var_cas_inSourceFile.ggs_string ().reader_stringByDeletingLastPathComponent (),  GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ()),  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (417)) ;
                  }else if (cond_18019.isBuiltAndFalse ()) {
                    operand_13777->mFilePath.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("extension of a grammar component should be '.gGrammar'.") COMMA_SOURCE_FILE_AT_LINE (426)) ;
                  }
                  }
                  break ;
                case GGS_sourceFileKind::enum_programSourceFile:
                  {
                  const GGS_bool cond_19302 = (var_cas_extension).operator_isEqual (GGS_string ("gProgram")) ;
                  if (cond_19302.isBuiltAndTrue ()) {
                    const GGS_bool cond_18367 = (GGS_bool (gOption_galgas_5F_cli_5F_options_5F_v_31__legacyCodeGeneration.reader_value ())).operator_not () ;
                    if (cond_18367.isBuiltAndTrue ()) {
                      ::routine_compileProgramComponent (inLexique,  var_cas_fullFilePath,  var_cas_outputDirectory,  var_cas_parsedComponentStruct COMMA_SOURCE_FILE_AT_LINE (430)) ;
                    }else if (cond_18367.isBuiltAndFalse ()) {
                      GGS_M_lexiqueComponents  var_cas_lexiqueMapForUse = GGS_M_lexiqueComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (432)) ;
                      GGS_M_semanticsComponents  var_cas_semanticsComponentsMap = GGS_M_semanticsComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (433)) ;
                      GGS_M_syntaxComponents  var_cas_syntaxComponentsMap = GGS_M_syntaxComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (434)) ;
                      GGS_M_grammarComponents  var_cas_grammarComponentsMap = GGS_M_grammarComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (435)) ;
                      GGS_M_optionComponents  var_cas_optionComponentsMap = GGS_M_optionComponents ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (436)) ;
                      GGS_EXsemanticContext var_cas_semanticContext = GGS_EXsemanticContext::constructor_new (GGS_M_filewrappersEX ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (438)), GGS_stringset ::constructor_emptySet (), GGS_EXcategoryMethodMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (440)), GGS_EXcategoryReaderMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (441)), GGS_EXcategoryTemplateMap ::constructor_emptyMap (inLexique COMMA_SOURCE_FILE_AT_LINE (442))) ;
                      const GGS_string _depExtension = GGS_string ("galgas-dep") ;
                      const GGS_string _depPath = GGS_string ("DEPENDENCIES") ;
                      if (_depExtension.isBuilt () && _depPath.isBuilt ()) {
                        C_Grammar_galgas_5F_LL_31__5F_grammar::_performSourceFileParsing_ (inLexique,
                                                      _depExtension.string (),
                                                      _depPath.string (),
                                                      NULL,
                                                      var_cas_fullFilePath,
                                                      var_cas_lexiqueMapForUse,
                                                      var_cas_semanticsComponentsMap,
                                                      var_cas_syntaxComponentsMap,
                                                      var_cas_grammarComponentsMap,
                                                      var_cas_optionComponentsMap,
                                                      var_cas_semanticContext
                                                      COMMA_SOURCE_FILE_AT_LINE (444)) ;
                      }
                    }
                  }else if (cond_19302.isBuiltAndFalse ()) {
                    operand_13777->mFilePath.reader_location (inLexique COMMA_HERE).signalGGSSemanticError (inLexique, GGS_string ("extension of a program component should be '.gProgram'.") COMMA_SOURCE_FILE_AT_LINE (455)) ;
                  }
                  }
                  break ;
                case GGS_sourceFileKind::kNotBuilt:
                  break ;
                }
              }
            }
            const GGS_bool cond_19647 = (GGS_uint ::constructor_errorCount (inLexique COMMA_SOURCE_FILE_AT_LINE (459))).operator_isEqual (GGS_uint (0U)) ;
            if (cond_19647.isBuiltAndTrue ()) {
              inLexique.printMessage (GGS_string ("*** Perform global checkings\n") COMMA_SOURCE_FILE_AT_LINE (460)) ;
              ::routine_performProjectGlobalCheckings (inLexique,  var_cas_parsedComponentStruct,  var_cas_projectComponent.reader_mEndOfSourceFile (inLexique COMMA_SOURCE_FILE_AT_LINE (461)) COMMA_SOURCE_FILE_AT_LINE (461)) ;
            }
          if (verboseOptionOn) {
            co << "Analysis of '" << sourceFilesArray (i COMMA_HERE).lastPathComponent () << "' completed. " ;
            switch (commonLexique->totalErrorCount ()) {
            case 0 :
              co << "No error, " ;
              break ;
            case 1 :
              co << "1 error, " ;
              returnCode = 1 ; // Error code
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalErrorCount ()) << " errors, " ;
              returnCode = 1 ; // Error code
              break ;
            }
            switch (commonLexique->totalWarningCount ()) {
            case 0 :
              co << "no warning" ;
              break ;
            case 1 :
              co << "1 warning" ;
              break ;
            default :
              co << cStringWithSigned (commonLexique->totalWarningCount ()) << " warnings" ;
              break ;
            }
            if (verboseOptionOn || ((commonLexique->totalErrorCount () + commonLexique->totalWarningCount ()) > 0)) {
              co << ".\n" ;
            }
          }
        }else{
          printf ("*** Error: unhandled extension for file '%s' ***\n", sourceFilesArray (i COMMA_HERE).cString (HERE)) ;
          r = 1 ;
        }
        if (r != 0) {
          returnCode = r ;
        }
      }
    //--- Error or warnings ?
      if (commonLexique->totalErrorCount () > 0) {
        returnCode = 1 ; // Error code
      }else if (commonLexique->totalWarningCount () > 0) {
        if (gOption_galgas_5F_cli_5F_options_treat_5F_warnings_5F_as_5F_error.mValue) {
          returnCode = 1 ; // Error code
          if (verboseOptionOn) {
            printf ("** Note: warnings are treated as errors. **\n") ;
          }
        }
      }
    //--- Epilogue
      galgas_prgm_v1_epilogue (* commonLexique, sourceFilesArray) ;
    }catch (const M_STD_NAMESPACE exception & e) {
      F_default_display_exception (e) ;
      returnCode = 1 ; // Error code
    }catch (...) {
      throw ;
    }
    macroDetachSharedObject (galgasIOptr) ;
    macroDetachSharedObject (commonLexique) ;
  }
  return returnCode ;
}

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


