//---------------------------------------------------------------------------*
//                                                                           *
//                 File 'semanticInstructionGeneration.cpp'                  *
//                 Generated by version GALGAS_BETA_VERSION                  *
//                       may 15th, 2010, at 19h54'39"                        *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

//---------------------------------------------------------------------------*

#include "version_libpm.h"
#if CURRENT_LIBPM_VERSION != VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER
  #error "This file has been compiled with a version of GALGAS that uses libpm version VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER, different than the current version (CURRENT_LIBPM_VERSION) of libpm"
#endif

//---------------------------------------------------------------------------*

#include <typeinfo>
#include "utilities/MF_MemoryControl.h"
#include "files/C_TextFileWrite.h"
#include "galgas/C_galgas_CLI_Options.h"
#include "semanticInstructionGeneration.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "semanticInstructionGeneration.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2

//---------------------------------------------------------------------------*
//                                                                           *
// Category method '@semanticInstructionForGeneration.generateInstruction'   *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__semanticInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_semanticInstructionForGeneration * operand_2047,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_2047 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("\?UNHANDLED INSTRUCTION\?\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Virtual Table for category method '@semanticInstructionForGeneration.generateInstruction'*
//                                                                           *
//---------------------------------------------------------------------------*

static TC_UniqueArray <typeCategoryMethod__semanticInstructionForGeneration__generateInstruction> gDispatchTableForMethod__semanticInstructionForGeneration__generateInstruction ;

//---------------------------------------------------------------------------*

void
enterCategoryMethod__semanticInstructionForGeneration__generateInstruction (typeCategoryMethod__semanticInstructionForGeneration__generateInstruction inRoutine,
                     const PMSInt32 inClassID) {
  gDispatchTableForMethod__semanticInstructionForGeneration__generateInstruction.forceObjectAtIndex (inClassID, inRoutine, NULL COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

typeCategoryMethod__semanticInstructionForGeneration__generateInstruction
findCategoryMethod__semanticInstructionForGeneration__generateInstruction (AC_galgasClassRunTimeInformationEX * inClassPtr) {
  typeCategoryMethod__semanticInstructionForGeneration__generateInstruction result = NULL ;
  if (inClassPtr->slotID () < gDispatchTableForMethod__semanticInstructionForGeneration__generateInstruction.count ()) {
    result = gDispatchTableForMethod__semanticInstructionForGeneration__generateInstruction (inClassPtr->slotID () COMMA_HERE) ;
  }
  if (NULL == result) {
    AC_galgasClassRunTimeInformationEX * superClassPtr = inClassPtr->superClassPtr () ;
    if (superClassPtr != NULL) {
      result = findCategoryMethod__semanticInstructionForGeneration__generateInstruction (superClassPtr) ;
      gDispatchTableForMethod__semanticInstructionForGeneration__generateInstruction.forceObjectAtIndex (inClassPtr->slotID (), result, NULL COMMA_HERE) ;
    }
  }
  return result ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//             Implementation of function "generateRoutineBody"              *
//                                                                           *
//---------------------------------------------------------------------------*

GGS_string function_generateRoutineBody (C_Compiler & inLexique,
                                const GGS_semanticInstructionListForGeneration   var_cas_inInstructionList COMMA_UNUSED_LOCATION_ARGS) {
  #ifdef DEBUG_TRACE_ENABLED
    printf ("ENTER function_generateRoutineBody at %s:%d\n", __FILE__, __LINE__) ;
  #endif
  GGS_string var_cas_outGeneratedCode ;
  var_cas_outGeneratedCode = GGS_string ("") ;
  GGS_uint  var_cas_temporaryVariableIndex = GGS_uint (0U) ;
  var_cas_outGeneratedCode.modifier_incIndentation (inLexique, GGS_uint (2U) COMMA_SOURCE_FILE_AT_LINE (46)) ;
  {
    GGS_semanticInstructionListForGeneration::cEnumerator enumerator_2519 (var_cas_inInstructionList, true) ;
    const GGS_semanticInstructionListForGeneration::cElement * operand_2519 = NULL ;
    while (((operand_2519 = enumerator_2519.nextObject ()))) {
      macroValidPointer (operand_2519) ;
      { typeCategoryMethod__semanticInstructionForGeneration__generateInstruction method = findCategoryMethod__semanticInstructionForGeneration__generateInstruction (operand_2519->mInstruction.galgasObjectRunTimeInfo ()) ;
        if (method != NULL) {
          method (inLexique, operand_2519->mInstruction (HERE), var_cas_temporaryVariableIndex, var_cas_outGeneratedCode COMMA_SOURCE_FILE_AT_LINE (48)) ;
        }
      }
    }
  }
  var_cas_outGeneratedCode.modifier_decIndentation (inLexique, GGS_uint (2U) COMMA_SOURCE_FILE_AT_LINE (50)) ;
  #ifdef DEBUG_TRACE_ENABLED
    printf ("LEAVE function_generateRoutineBody\n") ;
  #endif
  return var_cas_outGeneratedCode ;
}

//---------------------------------------------------------------------------*

static GGS_object functionForGenericCall_generateRoutineBody (C_Compiler & inLexique,
                           const GGS_objectlist & inEffectiveParameterArray,
                           const GGS_location & inErrorLocation
                           COMMA_LOCATION_ARGS) {
  const GGS_semanticInstructionListForGeneration  arg_0 = GGS_semanticInstructionListForGeneration ::castFromObject (inLexique, inEffectiveParameterArray.reader_mValueAtIndex (inLexique, GGS_uint (0) COMMA_THERE), inErrorLocation COMMA_THERE) ;
  const GGS_string result = function_generateRoutineBody (inLexique,
                            arg_0
                            COMMA_THERE) ;
  return result.reader_object () ;
}

//---------------------------------------------------------------------------*

static const C_galgas_type_descriptorEX *
kArgumentTypeList_generateRoutineBody [1] = {& kTypeDescriptor_GGS_semanticInstructionListForGeneration } ;

const C_galgas_function_descriptorEX
kFunction_descriptor_generateRoutineBody ("generateRoutineBody",
                              functionForGenericCall_generateRoutineBody,
                              & kTypeDescriptor_GGS_string,
                              1,
                              kArgumentTypeList_generateRoutineBody) ;

//---------------------------------------------------------------------------*
//                                                                           *
//           Implementation of routine "generateInstructionList"             *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_generateInstructionList (C_Compiler & inLexique,
                                const GGS_semanticInstructionListForGeneration   var_cas_inInstructionList,
                                GGS_uint  & var_cas_ioTemporaryVariableIndex,
                                GGS_string & var_cas_ioGeneratedCode
                        COMMA_UNUSED_LOCATION_ARGS) {
  #ifdef DEBUG_TRACE_ENABLED
    printf ("ENTER routine_generateInstructionList at %s:%d\n", __FILE__, __LINE__) ;
  #endif
  var_cas_ioGeneratedCode.modifier_incIndentation (inLexique, GGS_uint (2U) COMMA_SOURCE_FILE_AT_LINE (60)) ;
  {
    GGS_semanticInstructionListForGeneration::cEnumerator enumerator_2988 (var_cas_inInstructionList, true) ;
    const GGS_semanticInstructionListForGeneration::cElement * operand_2988 = NULL ;
    while (((operand_2988 = enumerator_2988.nextObject ()))) {
      macroValidPointer (operand_2988) ;
      { typeCategoryMethod__semanticInstructionForGeneration__generateInstruction method = findCategoryMethod__semanticInstructionForGeneration__generateInstruction (operand_2988->mInstruction.galgasObjectRunTimeInfo ()) ;
        if (method != NULL) {
          method (inLexique, operand_2988->mInstruction (HERE), var_cas_ioTemporaryVariableIndex, var_cas_ioGeneratedCode COMMA_SOURCE_FILE_AT_LINE (62)) ;
        }
      }
    }
  }
  var_cas_ioGeneratedCode.modifier_decIndentation (inLexique, GGS_uint (2U) COMMA_SOURCE_FILE_AT_LINE (64)) ;
  #ifdef DEBUG_TRACE_ENABLED
    printf ("LEAVE routine_generateInstructionList\n") ;
  #endif
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@localVariableOrConstantDeclarationWithSourceExpressionForGeneration.generateInstruction'*
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__localVariableOrConstantDeclarationWithSourceExpressionForGeneration__generateInstruction (C_Compiler & inLexique,
                                const cPtr_localVariableOrConstantDeclarationWithSourceExpressionForGeneration * operand_3334,
                                GGS_uint  & var_cas_ioTemporaryVariableIndex,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_3334 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("//-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration\n") ;
    GGS_string var_cas_sourceVar ;
    { typeCategoryMethod__semanticExpressionForGeneration__generateExpression method = findCategoryMethod__semanticExpressionForGeneration__generateExpression (operand_3334->mSourceExpression.galgasObjectRunTimeInfo ()) ;
      if (method != NULL) {
        method (inLexique, operand_3334->mSourceExpression (HERE), var_cas_ioGeneratedCode, var_cas_ioTemporaryVariableIndex, var_cas_sourceVar COMMA_SOURCE_FILE_AT_LINE (75)) ;
      }
    }
    const GGS_bool cond_3689 = operand_3334->mIsConstant ;
    if (cond_3689.isBuiltAndTrue ()) {
      var_cas_ioGeneratedCode.appendCString ("const ") ;
    }
    var_cas_ioGeneratedCode.appendCString ("GALGAS_") ;
    var_cas_ioGeneratedCode.dotAssign_operation (operand_3334->mTargetType.reader_identifierRepresentation (inLexique COMMA_SOURCE_FILE_AT_LINE (79))) ;
    var_cas_ioGeneratedCode.appendCString (" * ") ;
    var_cas_ioGeneratedCode.dotAssign_operation (operand_3334->mCppVariableName) ;
    var_cas_ioGeneratedCode.appendCString (" = ") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_sourceVar) ;
    var_cas_ioGeneratedCode.appendCString (" ;\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@localVariableDeclarationForGeneration.generateInstruction'*
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__localVariableDeclarationForGeneration__generateInstruction (C_Compiler & inLexique,
                                const cPtr_localVariableDeclarationForGeneration * operand_4012,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_4012 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("//-------- @localVariableDeclarationForGeneration\n") ;
    var_cas_ioGeneratedCode.appendCString ("GALGAS_") ;
    var_cas_ioGeneratedCode.dotAssign_operation (operand_4012->mVariableType.reader_identifierRepresentation (inLexique COMMA_SOURCE_FILE_AT_LINE (90))) ;
    var_cas_ioGeneratedCode.appendCString (" * ") ;
    var_cas_ioGeneratedCode.dotAssign_operation (operand_4012->mCppVariableName) ;
    var_cas_ioGeneratedCode.appendCString (" = NULL ;\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@localVariableOrConstantDeclarationWithConstructorCallForGeneration.generateInstruction'*
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__localVariableOrConstantDeclarationWithConstructorCallForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_localVariableOrConstantDeclarationWithConstructorCallForGeneration * operand_4477,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_4477 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@localVariableOrConstantDeclarationWithConstructorCallForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@assignmentInstructionForGeneration.generateInstruction'  *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__assignmentInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_assignmentInstructionForGeneration * operand_4829,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_4829 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@assignmentInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//   Category method '@dropInstructionForGeneration.generateInstruction'     *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__dropInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_dropInstructionForGeneration * operand_5143,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_5143 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("//-------- @dropInstructionForGeneration\n") ;
    {
      GGS_stringlist::cEnumerator enumerator_5303 (operand_5143->mDropList, true) ;
      const GGS_stringlist::cElement * operand_5303 = NULL ;
      while (((operand_5303 = enumerator_5303.nextObject ()))) {
        macroValidPointer (operand_5303) ;
        var_cas_ioGeneratedCode.appendCString ("macroReleaseObject (") ;
        var_cas_ioGeneratedCode.dotAssign_operation (operand_5303->mValue) ;
        var_cas_ioGeneratedCode.appendCString (") ; // ") ;
        var_cas_ioGeneratedCode.dotAssign_operation (operand_5143->mComment) ;
        var_cas_ioGeneratedCode.appendCString ("\n") ;
      }
    }
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//  Category method '@appendInstructionForGeneration.generateInstruction'    *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__appendInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_appendInstructionForGeneration * operand_5570,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_5570 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@appendInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//   Category method '@sendInstructionForGeneration.generateInstruction'     *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__sendInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_sendInstructionForGeneration * operand_5880,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_5880 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@sendInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//    Category method '@ifInstructionForGeneration.generateInstruction'      *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__ifInstructionForGeneration__generateInstruction (C_Compiler & inLexique,
                                const cPtr_ifInstructionForGeneration * operand_6186,
                                GGS_uint  & var_cas_ioTemporaryVariableIndex,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_6186 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("//-------- @ifInstructionForGeneration\n") ;
    GGS_string var_cas_cppVarName ;
    { typeCategoryMethod__semanticExpressionForGeneration__generateExpression method = findCategoryMethod__semanticExpressionForGeneration__generateExpression (operand_6186->mIFexpression.galgasObjectRunTimeInfo ()) ;
      if (method != NULL) {
        method (inLexique, operand_6186->mIFexpression (HERE), var_cas_ioGeneratedCode, var_cas_ioTemporaryVariableIndex, var_cas_cppVarName COMMA_SOURCE_FILE_AT_LINE (150)) ;
      }
    }
    var_cas_ioGeneratedCode.appendCString ("if (NULL != ") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_cppVarName) ;
    var_cas_ioGeneratedCode.appendCString (") {\n") ;
    var_cas_ioGeneratedCode.modifier_incIndentation (inLexique, GGS_uint (2U) COMMA_SOURCE_FILE_AT_LINE (153)) ;
    var_cas_ioGeneratedCode.appendCString ("macroValidObject (") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_cppVarName) ;
    var_cas_ioGeneratedCode.appendCString (", GALGAS_bool) ;\n") ;
    const GGS_string var_cas_testVar = (GGS_string ("test_")).operator_concat (var_cas_ioTemporaryVariableIndex.reader_string (inLexique COMMA_SOURCE_FILE_AT_LINE (155))) ;
    var_cas_ioTemporaryVariableIndex.increment_operation (inLexique COMMA_SOURCE_FILE_AT_LINE (155)) ;
    var_cas_ioGeneratedCode.appendCString ("const bool ") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_testVar) ;
    var_cas_ioGeneratedCode.appendCString (" = ") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_cppVarName) ;
    var_cas_ioGeneratedCode.appendCString ("->boolValue () ;\n") ;
    var_cas_ioGeneratedCode.appendCString ("macroReleaseObject (") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_cppVarName) ;
    var_cas_ioGeneratedCode.appendCString (") ; // Release test temporary variable\n") ;
    var_cas_ioGeneratedCode.appendCString ("if (") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_testVar) ;
    var_cas_ioGeneratedCode.appendCString (") {\n") ;
    ::routine_generateInstructionList (inLexique,  operand_6186->m_then_instructionList,  var_cas_ioTemporaryVariableIndex,  var_cas_ioGeneratedCode COMMA_SOURCE_FILE_AT_LINE (159)) ;
    const GGS_bool cond_7342 = (operand_6186->m_else_instructionList.reader_length ()).operator_strictSup (GGS_uint (0U)) ;
    if (cond_7342.isBuiltAndTrue ()) {
      var_cas_ioGeneratedCode.appendCString ("}else{\n") ;
      ::routine_generateInstructionList (inLexique,  operand_6186->m_else_instructionList,  var_cas_ioTemporaryVariableIndex,  var_cas_ioGeneratedCode COMMA_SOURCE_FILE_AT_LINE (162)) ;
    }
    var_cas_ioGeneratedCode.appendCString ("}\n") ;
    var_cas_ioGeneratedCode.modifier_decIndentation (inLexique, GGS_uint (2U) COMMA_SOURCE_FILE_AT_LINE (165)) ;
    var_cas_ioGeneratedCode.appendCString ("}\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//   Category method '@errorInstructionForGeneration.generateInstruction'    *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__errorInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_errorInstructionForGeneration * operand_7607,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_7607 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@errorInstructionForGeneration\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//  Category method '@warningInstructionForGeneration.generateInstruction'   *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__warningInstructionForGeneration__generateInstruction (C_Compiler & inLexique,
                                const cPtr_warningInstructionForGeneration * operand_7899,
                                GGS_uint  & var_cas_ioTemporaryVariableIndex,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_7899 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("//-------- @warningInstructionForGeneration\n") ;
    GGS_string var_cas_receiverCppVarName ;
    { typeCategoryMethod__semanticExpressionForGeneration__generateExpression method = findCategoryMethod__semanticExpressionForGeneration__generateExpression (operand_7899->mReceiverExpression.galgasObjectRunTimeInfo ()) ;
      if (method != NULL) {
        method (inLexique, operand_7899->mReceiverExpression (HERE), var_cas_ioGeneratedCode, var_cas_ioTemporaryVariableIndex, var_cas_receiverCppVarName COMMA_SOURCE_FILE_AT_LINE (187)) ;
      }
    }
    GGS_string var_cas_messageCppVarName ;
    { typeCategoryMethod__semanticExpressionForGeneration__generateExpression method = findCategoryMethod__semanticExpressionForGeneration__generateExpression (operand_7899->mWarningExpression.galgasObjectRunTimeInfo ()) ;
      if (method != NULL) {
        method (inLexique, operand_7899->mWarningExpression (HERE), var_cas_ioGeneratedCode, var_cas_ioTemporaryVariableIndex, var_cas_messageCppVarName COMMA_SOURCE_FILE_AT_LINE (190)) ;
      }
    }
    var_cas_ioGeneratedCode.appendCString ("inCompiler->emitSemanticWarning (") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_receiverCppVarName) ;
    var_cas_ioGeneratedCode.appendCString (", ") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_messageCppVarName) ;
    var_cas_ioGeneratedCode.appendCString (" COMMA_HERE) ;\n") ;
    var_cas_ioGeneratedCode.appendCString ("macroReleaseObject (") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_receiverCppVarName) ;
    var_cas_ioGeneratedCode.appendCString (") ; // Release receiver temporary variable\n") ;
    var_cas_ioGeneratedCode.appendCString ("macroReleaseObject (") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_messageCppVarName) ;
    var_cas_ioGeneratedCode.appendCString (") ; // Release message temporary variable\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@routineCallInstructionForGeneration.generateInstruction' *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__routineCallInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_routineCallInstructionForGeneration * operand_8955,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_8955 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@routineCallInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@typeMethodInstructionForGeneration.generateInstruction'  *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__typeMethodInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_typeMethodInstructionForGeneration * operand_9276,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_9276 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@typeMethodInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Virtual Table for category method '@actualParameterForGeneration.generateActualParameter'*
//                                                                           *
//---------------------------------------------------------------------------*

static TC_UniqueArray <typeCategoryMethod__actualParameterForGeneration__generateActualParameter> gDispatchTableForMethod__actualParameterForGeneration__generateActualParameter ;

//---------------------------------------------------------------------------*

void
enterCategoryMethod__actualParameterForGeneration__generateActualParameter (typeCategoryMethod__actualParameterForGeneration__generateActualParameter inRoutine,
                     const PMSInt32 inClassID) {
  gDispatchTableForMethod__actualParameterForGeneration__generateActualParameter.forceObjectAtIndex (inClassID, inRoutine, NULL COMMA_HERE) ;
}

//---------------------------------------------------------------------------*

typeCategoryMethod__actualParameterForGeneration__generateActualParameter
findCategoryMethod__actualParameterForGeneration__generateActualParameter (AC_galgasClassRunTimeInformationEX * inClassPtr) {
  typeCategoryMethod__actualParameterForGeneration__generateActualParameter result = NULL ;
  if (inClassPtr->slotID () < gDispatchTableForMethod__actualParameterForGeneration__generateActualParameter.count ()) {
    result = gDispatchTableForMethod__actualParameterForGeneration__generateActualParameter (inClassPtr->slotID () COMMA_HERE) ;
  }
  if (NULL == result) {
    AC_galgasClassRunTimeInformationEX * superClassPtr = inClassPtr->superClassPtr () ;
    if (superClassPtr != NULL) {
      result = findCategoryMethod__actualParameterForGeneration__generateActualParameter (superClassPtr) ;
      gDispatchTableForMethod__actualParameterForGeneration__generateActualParameter.forceObjectAtIndex (inClassPtr->slotID (), result, NULL COMMA_HERE) ;
    }
  }
  return result ;
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@outputActualParameterForGeneration.generateActualParameter'*
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__outputActualParameterForGeneration__generateActualParameter (C_Compiler & inLexique,
                                const cPtr_outputActualParameterForGeneration * operand_9880,
                                GGS_uint  & var_cas_ioTemporaryVariableIndex,
                                GGS_string & var_cas_ioImplementation,
                                GGS_stringlist  & var_cas_ioParametersToReleaseList,
                                GGS_string & var_cas_outCppName
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_9880 != NULL) {
    { typeCategoryMethod__semanticExpressionForGeneration__generateExpression method = findCategoryMethod__semanticExpressionForGeneration__generateExpression (operand_9880->mOutputActualParameterExpression.galgasObjectRunTimeInfo ()) ;
      if (method != NULL) {
        method (inLexique, operand_9880->mOutputActualParameterExpression (HERE), var_cas_ioImplementation, var_cas_ioTemporaryVariableIndex, var_cas_outCppName COMMA_SOURCE_FILE_AT_LINE (233)) ;
      }
    }
    var_cas_ioParametersToReleaseList.addAssign_operation (var_cas_outCppName) ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@outputInputActualParameterForGeneration.generateActualParameter'*
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__outputInputActualParameterForGeneration__generateActualParameter (C_Compiler &,
                                const cPtr_outputInputActualParameterForGeneration * operand_10345,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioImplementation,
                                GGS_stringlist  & /* var_cas_ioParametersToReleaseList */,
                                GGS_string & var_cas_outCppName
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_10345 != NULL) {
    {
      GGS_lstringlist::cEnumerator enumerator_10520 (operand_10345->mStructAttributeList, true) ;
      const GGS_lstringlist::cElement * operand_10520 = NULL ;
      while (((operand_10520 = enumerator_10520.nextObject ()))) {
        macroValidPointer (operand_10520) ;
        var_cas_ioImplementation.appendCString ("(handle field in @outputInputActualParameterForGeneration)\n") ;
      }
    }
    var_cas_outCppName = operand_10345->mOutputInputVariableCppName ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@inputActualParameterForGeneration.generateActualParameter'*
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__inputActualParameterForGeneration__generateActualParameter (C_Compiler &,
                                const cPtr_inputActualParameterForGeneration * operand_10842,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioImplementation,
                                GGS_stringlist  & /* var_cas_ioParametersToReleaseList */,
                                GGS_string & var_cas_outCppName
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_10842 != NULL) {
    var_cas_outCppName = operand_10842->mInputActualCppName ;
    var_cas_ioImplementation.appendCString ("macroReleaseObject (") ;
    var_cas_ioImplementation.dotAssign_operation (var_cas_outCppName) ;
    var_cas_ioImplementation.appendCString (") ; // Release input parameter\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@methodCallInstructionForGeneration.generateInstruction'  *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__methodCallInstructionForGeneration__generateInstruction (C_Compiler & inLexique,
                                const cPtr_methodCallInstructionForGeneration * operand_11286,
                                GGS_uint  & var_cas_ioTemporaryVariableIndex,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_11286 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("//-------- @methodCallInstructionForGeneration\n") ;
    GGS_string var_cas_receiverVar ;
    { typeCategoryMethod__semanticExpressionForGeneration__generateExpression method = findCategoryMethod__semanticExpressionForGeneration__generateExpression (operand_11286->mReceiverExpression.galgasObjectRunTimeInfo ()) ;
      if (method != NULL) {
        method (inLexique, operand_11286->mReceiverExpression (HERE), var_cas_ioGeneratedCode, var_cas_ioTemporaryVariableIndex, var_cas_receiverVar COMMA_SOURCE_FILE_AT_LINE (272)) ;
      }
    }
    GGS_stringlist  var_cas_parameterCppNameList = GGS_stringlist ::constructor_emptyList () ;
    GGS_stringlist  var_cas_parametersToReleaseList = GGS_stringlist ::constructor_emptyList () ;
    {
      GGS_actualParameterListForGeneration::cEnumerator enumerator_11714 (operand_11286->mActualParameterList, true) ;
      const GGS_actualParameterListForGeneration::cElement * operand_11714 = NULL ;
      while (((operand_11714 = enumerator_11714.nextObject ()))) {
        macroValidPointer (operand_11714) ;
        GGS_string var_cas_parameterCppName ;
        { typeCategoryMethod__actualParameterForGeneration__generateActualParameter method = findCategoryMethod__actualParameterForGeneration__generateActualParameter (operand_11714->mActualParameter.galgasObjectRunTimeInfo ()) ;
          if (method != NULL) {
            method (inLexique, operand_11714->mActualParameter (HERE), var_cas_ioTemporaryVariableIndex, var_cas_ioGeneratedCode, var_cas_parametersToReleaseList, var_cas_parameterCppName COMMA_SOURCE_FILE_AT_LINE (278)) ;
          }
        }
        var_cas_parameterCppNameList.addAssign_operation (var_cas_parameterCppName) ;
      }
    }
    var_cas_ioGeneratedCode.appendCString ("instanceMethodCall_") ;
    var_cas_ioGeneratedCode.dotAssign_operation (operand_11286->mMethodName.reader_identifierRepresentation ()) ;
    var_cas_ioGeneratedCode.appendCString (" (") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_receiverVar) ;
    {
      GGS_stringlist::cEnumerator enumerator_12134 (var_cas_parameterCppNameList, true) ;
      const GGS_stringlist::cElement * operand_12134 = NULL ;
      while (((operand_12134 = enumerator_12134.nextObject ()))) {
        macroValidPointer (operand_12134) ;
        var_cas_ioGeneratedCode.appendCString (", ") ;
        var_cas_ioGeneratedCode.dotAssign_operation (operand_12134->mValue) ;
      }
    }
    const GGS_bool cond_12269 = operand_11286->mHasCompilerArgument ;
    if (cond_12269.isBuiltAndTrue ()) {
      var_cas_ioGeneratedCode.appendCString (", inCompiler") ;
    }
    var_cas_ioGeneratedCode.appendCString (" COMMA_THERE) ;\n") ;
    var_cas_ioGeneratedCode.appendCString ("macroReleaseObject (") ;
    var_cas_ioGeneratedCode.dotAssign_operation (var_cas_receiverVar) ;
    var_cas_ioGeneratedCode.appendCString (") ; // Release receiver temporary variable\n") ;
    {
      GGS_stringlist::cEnumerator enumerator_12534 (var_cas_parametersToReleaseList, true) ;
      const GGS_stringlist::cElement * operand_12534 = NULL ;
      while (((operand_12534 = enumerator_12534.nextObject ()))) {
        macroValidPointer (operand_12534) ;
        var_cas_ioGeneratedCode.appendCString ("macroReleaseObject (") ;
        var_cas_ioGeneratedCode.dotAssign_operation (operand_12534->mValue) ;
        var_cas_ioGeneratedCode.appendCString (") ; // Release method call temporary output parameters\n") ;
      }
    }
    {
      GGS_temporaryInputVariableForRoutineInvocationForGeneration::cEnumerator enumerator_12766 (operand_11286->mTemporaryInputVariableList, true) ;
      const GGS_temporaryInputVariableForRoutineInvocationForGeneration::cElement * operand_12766 = NULL ;
      while (((operand_12766 = enumerator_12766.nextObject ()))) {
        macroValidPointer (operand_12766) ;
        var_cas_ioGeneratedCode.appendCString ("macroReleaseObject (") ;
        var_cas_ioGeneratedCode.dotAssign_operation (operand_12766->mCppName) ;
        var_cas_ioGeneratedCode.appendCString (") ; // Release temporary input variables (joker in source)\n") ;
      }
    }
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//Category method '@modifierCallInstructionForGeneration.generateInstruction'*
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__modifierCallInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_modifierCallInstructionForGeneration * operand_13076,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_13076 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@modifierCallInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
// Category method '@addAssignInstructionForGeneration.generateInstruction'  *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__addAssignInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_addAssignInstructionForGeneration * operand_13397,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_13397 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@addAssignInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
// Category method '@incrementInstructionForGeneration.generateInstruction'  *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__incrementInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_incrementInstructionForGeneration * operand_13715,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_13715 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@incrementInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
// Category method '@decrementInstructionForGeneration.generateInstruction'  *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__decrementInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_decrementInstructionForGeneration * operand_14033,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_14033 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@decrementInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//  Category method '@messageInstructionForGeneration.generateInstruction'   *
//                                                                           *
//---------------------------------------------------------------------------*

static void
category_method__messageInstructionForGeneration__generateInstruction (C_Compiler &,
                                const cPtr_messageInstructionForGeneration * operand_14349,
                                GGS_uint  & /* var_cas_ioTemporaryVariableIndex */,
                                GGS_string & var_cas_ioGeneratedCode
                                COMMA_UNUSED_LOCATION_ARGS) {
  if (operand_14349 != NULL) {
    var_cas_ioGeneratedCode.appendCString ("@messageInstructionForGeneration generateInstruction\n") ;
  }
}

//---------------------------------------------------------------------------*
//                                                                           *
//                      Prologue and epilogue actions                        *
//                                                                           *
//---------------------------------------------------------------------------*

static void prologueRoutineFor_semanticInstructionGeneration (void) {
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction (category_method__semanticInstructionForGeneration__generateInstruction, gClassInfoFor__semanticInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__localVariableOrConstantDeclarationWithSourceExpressionForGeneration__generateInstruction, gClassInfoFor__localVariableOrConstantDeclarationWithSourceExpressionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__localVariableDeclarationForGeneration__generateInstruction, gClassInfoFor__localVariableDeclarationForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__localVariableOrConstantDeclarationWithConstructorCallForGeneration__generateInstruction, gClassInfoFor__localVariableOrConstantDeclarationWithConstructorCallForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__assignmentInstructionForGeneration__generateInstruction, gClassInfoFor__assignmentInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__dropInstructionForGeneration__generateInstruction, gClassInfoFor__dropInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__appendInstructionForGeneration__generateInstruction, gClassInfoFor__appendInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__sendInstructionForGeneration__generateInstruction, gClassInfoFor__sendInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__ifInstructionForGeneration__generateInstruction, gClassInfoFor__ifInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__errorInstructionForGeneration__generateInstruction, gClassInfoFor__errorInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__warningInstructionForGeneration__generateInstruction, gClassInfoFor__warningInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__routineCallInstructionForGeneration__generateInstruction, gClassInfoFor__routineCallInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__typeMethodInstructionForGeneration__generateInstruction, gClassInfoFor__typeMethodInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__actualParameterForGeneration__generateActualParameter ((typeCategoryMethod__actualParameterForGeneration__generateActualParameter) category_method__outputActualParameterForGeneration__generateActualParameter, gClassInfoFor__outputActualParameterForGeneration.slotID ()) ;
  enterCategoryMethod__actualParameterForGeneration__generateActualParameter ((typeCategoryMethod__actualParameterForGeneration__generateActualParameter) category_method__outputInputActualParameterForGeneration__generateActualParameter, gClassInfoFor__outputInputActualParameterForGeneration.slotID ()) ;
  enterCategoryMethod__actualParameterForGeneration__generateActualParameter ((typeCategoryMethod__actualParameterForGeneration__generateActualParameter) category_method__inputActualParameterForGeneration__generateActualParameter, gClassInfoFor__inputActualParameterForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__methodCallInstructionForGeneration__generateInstruction, gClassInfoFor__methodCallInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__modifierCallInstructionForGeneration__generateInstruction, gClassInfoFor__modifierCallInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__addAssignInstructionForGeneration__generateInstruction, gClassInfoFor__addAssignInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__incrementInstructionForGeneration__generateInstruction, gClassInfoFor__incrementInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__decrementInstructionForGeneration__generateInstruction, gClassInfoFor__decrementInstructionForGeneration.slotID ()) ;
  enterCategoryMethod__semanticInstructionForGeneration__generateInstruction ((typeCategoryMethod__semanticInstructionForGeneration__generateInstruction) category_method__messageInstructionForGeneration__generateInstruction, gClassInfoFor__messageInstructionForGeneration.slotID ()) ;
}

//---------------------------------------------------------------------------*

static void epilogueRoutineFor_semanticInstructionGeneration (void) {
  gDispatchTableForMethod__semanticInstructionForGeneration__generateInstruction.free () ;
  gDispatchTableForMethod__actualParameterForGeneration__generateActualParameter.free () ;
}

//---------------------------------------------------------------------------*

C_PrologueEpilogue prologueEpilogueObjectFor_semanticInstructionGeneration (prologueRoutineFor_semanticInstructionGeneration, epilogueRoutineFor_semanticInstructionGeneration) ;

//---------------------------------------------------------------------------*

