#---------------------------------------------------------------------------*

semantics libpmHandling :

#---------------------------------------------------------------------------*


local filewrapper libpmFileWrapper in "../libpm" {
 "h", "cpp", "m", "mak", "pch", "tiff", "png", "xib", "gif"
} {
}

#---------------------------------------------------------------------------*

routine updateLIBPMatPath ??@string inLIBPMPath :
#  message "LIBPM path: '" . inLIBPMPath . "'\n" ;
  const @filewrapper fw := [filewrapper libpmFileWrapper] ;
#--- Create directories
  foreach [fw allDirectoryPathes] do
    const @string actualDirectory := inLIBPMPath . mValue ;
    [actualDirectory makeDirectory] ;
  end foreach ;
#--- Update files
  foreach [fw allFilePathes] do
    const @string contents := [fw fileContentsAtPath !mValue] ;
    const @string actualFilePath := inLIBPMPath . mValue ;
    [contents writeToFileWhenDifferentContents !actualFilePath ?*] ;
  end foreach ;
end routine ;


#---------------------------------------------------------------------------*

end semantics ;

