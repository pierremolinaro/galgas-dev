#---------------------------------------------------------------------------*
#                                                                           *
#             This file is included by every platform makefile              *
#                                                                           *
#---------------------------------------------------------------------------*

#---------------------------------------------------------------------------*
#                                                                           *
#                                LIBPM path                                 *
#                                                                           *
#---------------------------------------------------------------------------*

# If the 'LIBPM_PATH_ENV_VAR' environnement variable is not defined,
# the default path '../../libpm' is used; otherwise, its value is used
# as libpm path.

ifdef LIBPM_PATH_ENV_VAR
  LIB_PM_PATH := $(LIBPM_PATH_ENV_VAR)
else
  LIB_PM_PATH := ../../libpm
endif

#---------------------------------------------------------------------------*
#                                                                           *
#                     Project source files directories                      *
#                                                                           *
#---------------------------------------------------------------------------*

SOURCES_DIR := ../galgas_sources/GALGAS_OUTPUT
SOURCES_DIR += ../hand_coded_sources

#---------------------------------------------------------------------------*
#                                                                           *
#                          Default build Options                            *
#                                                                           *
#---------------------------------------------------------------------------*

include $(LIB_PM_PATH)/included_makefiles/default_build_options.mke

#---------------------------------------------------------------------------*
#                                                                           *
#           Source files names list (without their actual path)             *
#                                                                           *
#---------------------------------------------------------------------------*

SOURCES :=

# Files from libpm
include $(LIB_PM_PATH)/galgas/galgas_sources_for_makefile.mke

# Files generated by GALGAS
SOURCES += %PROJECT_NAME%_lexique.cpp
SOURCES += %PROJECT_NAME%_options.cpp
SOURCES += %PROJECT_NAME%_semantics.cpp
SOURCES += %PROJECT_NAME%_syntax.cpp
SOURCES += %PROJECT_NAME%_grammar.cpp
SOURCES += %PROJECT_NAME%_program.cpp

# Hand-coded files
SOURCES += %PROJECT_NAME%_computations.cpp

#---------------------------------------------------------------------------*
