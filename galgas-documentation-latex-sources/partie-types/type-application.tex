%!TEX encoding = UTF-8 Unicode
%!TEX root = ../galgas-book.tex

\chapitreTypePredefiniLabelIndex{application}

Le \ggs+@application+ ne définit que des constructeurs qui permettent d'obtenir des informations sur le programme courant.


\section{Constructeurs relatifs aux numéros de version}

\subsectionConstructor{galgasVersionString}{application}

\begin{galgasbox}
constructor @application galgasVersionString -> @string
\end{galgasbox}

Ce constructeur renvoie la version du compilateur GALGAS qui a engendré cet exécutable. Pour le compilateur correspondant à cette documentation, la chaîne renvoyée est \ggs+"GALGASBETAVERSION"+ :
\begin{galgas}
let s = @application.galgasVersionString # "GALGASBETAVERSION"
\end{galgas}








\subsectionConstructor{projectVersionString}{application}

\begin{galgasbox}
constructor @application projectVersionString -> @string
\end{galgasbox}

Ce constructeur renvoie la version du projet GALGAS dont la compilation fournit cet exécutable. C'est l'information qui apparaît après le mot réservé \ggs+project+ (voir \refSubsectionPage{versionProjet}), en utilisant le point « . » comme séparateur. Par exemple, si l'en-tête du projet est :

\begin{galgas}
project (1:2:3) -> "logo" {
  ...
}
\end{galgas}

La chaîne renvoyée est \ggs+"1.2.3"+:
\begin{galgas}
let s = @application.projectVersionString # "1.2.3"
\end{galgas}










\section{Constructeurs relatifs aux arguments de la ligne de commande}


\subsectionConstructor{commandLineArgumentCount}{application}

\begin{galgasbox}
constructor @application commandLineArgumentCount -> @uint
\end{galgasbox}

Ce constructeur renvoie le nombre d'arguments de la ligne de commande.


\subsectionConstructor{commandLineArgumentAtIndex}{application}

\begin{galgasbox}
constructor @application commandLineArgumentAtIndex ?@uint inIndex -> @string
\end{galgasbox}

Ce constructeur renvoie l'argument d'indice \ggs+inIndex+ de la ligne de commande. Les arguments sont indexés à partir de zéro, aussi la valeur de \ggs+inIndex+ doit être strictement inférieur à la valeur retournée par \ggs+@application.commandLineArgumentCount+.

À titre d'exemple, voici comment imprimer tous les arguments de la ligne de commande :
\begin{galgas}
  for idx in 0 ..< @application.commandLineArgumentCount do
    message "Argument " + idx + ": '"
      + @application.commandLineArgumentAtIndex {!idx} + "'\n"
  end
}
\end{galgas}


