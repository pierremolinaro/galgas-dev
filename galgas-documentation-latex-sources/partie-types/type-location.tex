%!TEX encoding = UTF-8 Unicode
%!TEX root = ../galgas-book.tex

\chapitreTypePredefiniLabelIndex{location}

Un objet de type \ggs+@location+ a pour valeur une position dans un texte source. Les objets de ce types sont utilisés dans les messages d'erreurs et les messages d'alerte pour indiquer à l'utilisateur la position de l'erreur ou de l'alerte.











\section{Constructor}


\subsectionConstructor{here}{location}

\begin{galgascode}
constructor here -> @location
\end{galgascode}

Le constructeur \ggs+here+ contient la position courante de l'analyse du texte source.

Plus précisément, la position capturée est le début du dernier \emph{token} analysé. Ainsi, si l'on écrit :

\begin{galgascode}
  $token$ ;
  ...
  @location currentLocation = .here ;
\end{galgascode}

La position capturée est la position du premier caractère du token correspondant à \ggs+$token$+. Si \ggs+here+ est appelé avant que le premier token soit analysé, la position capturée est le premier caractère du texte source.






\subsectionConstructor{nowhere}{location}

\begin{galgascode}
constructor nowhere -> @location
\end{galgascode}


Returns an \ggs+@location+ that does not point out any location.

The returned object responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.

\section{Getters}

\subsectionGetter{column}{location}

\begin{galgascode}
getter column -> @uint
\end{galgascode}

Returns an \ggs+@uint+ value containing the column of the receiver's value ; this getter raises a run-time error if the receiver's value responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.


\subsectionGetter{isNowhere}{location}

\begin{galgascode}
getter isNowhere -> @bool
\end{galgascode}

Returns an \ggs+@bool+ value indicating whether the receiver'value points out a source location or does not. This getter returns \ggs+true+ if the receiver's value does not point out an actual location in a text source (i.e. it has been constructed using the nowhere constructor), and \ggs+false+ if the receiver's value points out an actual location in a text source (i.e. it has been constructed using the \ggs+here+ keyword.


\subsectionGetter{line}{location}

\begin{galgascode}
getter line -> @uint
\end{galgascode}

Returns an \ggs+@uint+ value containing the line of the receiver's value. This getter raises a run-time error if the receiver's value responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.


\subsectionGetter{locationIndex}{location}

\begin{galgascode}
getter locationIndex -> @uint
\end{galgascode}

Returns an \ggs+@uint+ value containing the the offset from the the beginning of the source of the location defined by receiver's value. This getter raises a run-time error if the receiver's value responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.


\subsectionGetter{locationString}{location}

\begin{galgascode}
getter locationString -> @string
\end{galgascode}

Returns an \ggs+@string+ object that contains a string representation of the location defined by receiver's value. This getter raises a run-time error if the receiver's value responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.
