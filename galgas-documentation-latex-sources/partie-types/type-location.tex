%!TEX encoding = UTF-8 Unicode
%!TEX root = ../galgas-book.tex

\chapitreTypePredefiniLabelIndex{location}

\tableDesMatieresLocaleDeProfondeurRelative{1}


Un objet de type \ggs+@location+ a pour valeur une position dans un texte source. Les objets de ce types sont utilisés dans les messages d'erreurs et les messages d'alerte pour indiquer à l'utilisateur la position de l'erreur ou de l'alerte.











\section{Constructeurs}


\subsectionConstructor{here}{location}

\begin{galgas}
constructor here -> @location
\end{galgas}

Le constructeur \ggs+here+ crée un objet de type \ggs=@location= qui désigne le dernier \emph{token} analysé. Ainsi, si l'on écrit :

\begin{galgas}
  $token$
  ...
  let currentLocation = @location.here
\end{galgas}

La position capturée est le token correspondant à \ggs+$token$+. Si \ggs+here+ est appelé avant que le premier token soit analysé, la position capturée est le premier caractère du texte source.






\subsectionConstructor{next}{location}

\begin{galgas}
constructor next -> @location
\end{galgas}

Le constructeur \ggs+next+ crée un objet de type \ggs=@location= qui désigne le prochain \emph{token} analysé. Ainsi, si l'on écrit :

\begin{galgas}
  let currentLocation = @location.next
  ...
  $token$
  ...
\end{galgas}

La position capturée est le token correspondant à \ggs+$token$+. Si \ggs+next+ est appelé alors que la chaîne source est complètement analysée, la position capturée est le dernier caractère du texte source.






\subsectionConstructor{nowhere}{location}

\begin{galgas}
constructor nowhere -> @location
\end{galgas}


Returns an \ggs+@location+ that does not point out any location.

The returned object responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.





\section{Getters}

\tableDesMatieresLocaleDeProfondeurRelative{1}

\subsectionGetter{column}{location}

\begin{galgas}
getter column -> @uint
\end{galgas}

Returns an \ggs+@uint+ value containing the column of the receiver's value ; this getter raises a run-time error if the receiver's value responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.


\subsectionGetter{isNowhere}{location}

\begin{galgas}
getter isNowhere -> @bool
\end{galgas}

Returns an \ggs+@bool+ value indicating whether the receiver'value points out a source location or does not. This getter returns \ggs+true+ if the receiver's value does not point out an actual location in a text source (i.e. it has been constructed using the nowhere constructor), and \ggs+false+ if the receiver's value points out an actual location in a text source (i.e. it has been constructed using the \ggs+here+ keyword.


\subsectionGetter{line}{location}

\begin{galgas}
getter line -> @uint
\end{galgas}

Returns an \ggs+@uint+ value containing the line of the receiver's value. This getter raises a run-time error if the receiver's value responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.


\subsectionGetter{locationIndex}{location}

\begin{galgas}
getter locationIndex -> @uint
\end{galgas}

Returns an \ggs+@uint+ value containing the the offset from the the beginning of the source of the location defined by receiver's value. This getter raises a run-time error if the receiver's value responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.


\subsectionGetter{locationString}{location}

\begin{galgas}
getter locationString -> @string
\end{galgas}

Returns an \ggs+@string+ object that contains a string representation of the location defined by receiver's value. This getter raises a run-time error if the receiver's value responds \ggs+true+ to the \refGetterPage{location}{isNowhere}.


\subsectionGetter{union}{location}

\begin{galgas}
getter union ?@location inOther -> @location
\end{galgas}

L'objet courant et l'argument doivent concerner le même source. Sinon, une erreur d'exécution est déclenchée. Cette fonction retourne l'union des intervalles définis par l'objet courant et l'argument. 

