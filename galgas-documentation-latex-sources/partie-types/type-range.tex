%!TEX encoding = UTF-8 Unicode
%!TEX root = ../galgas-book.tex

\chapitreTypePredefiniLabelIndex{range}

Le type \ggs!@range! définit les intervalles d'entiers non signés 32 bits (\ggs!@uint!).

La déclaration du type \ggs+@range+ est équivalent à la déclaration du type structure :
\begin{galgas}
struct @range {
  @uint start
  @uint length
}
\end{galgas}

La plupart des propriétés du type \ggs!@range! découle de cette définition (\refChapterPage{typeStructure}).

\ggs+@range.new {!a !b}+, où \ggs!a! et \ggs!b! sont des expressions de type \ggs!@uint!, représente :
\begin{itemize}
  \item un intervalle vide si \ggs!b! est égal à zéro ;
  \item l'intervalle $[a, a+b-1]$ si \ggs!b! est strictement positif.
\end{itemize}



\sectionLabel{Opérateurs \texttt{...} et \texttt{..<}}{operateurIntervalleRange}

Deux opérateurs permettent de construire plus facilement des objets de type \ggs!@range!.

L'opérateur \ggs!...! permet de définir un intervalle fermé à partir de sa borne inférieure et de sa borne supérieure : si \ggs!a! et \ggs!b! sont des expressions de type \ggs!@uint!, l'expression \ggs!a ... b! est équivalente à la construction \ggs*@range.new {!a !b - a + 1}*. Une exception est levée si $b < a$. 

L'opérateur \ggs!..<! permet de définir un intervalle ouvert à gauche à partir de sa borne inférieure et de sa borne supérieure : si \ggs!a! et \ggs!b! sont des expressions de type \ggs!@uint!, l'expression \ggs!a ..< b! est équivalente à \ggs*@range.new {!a !b - a}*. Une exception est levée si $b < a$.

\section{Type \texttt{@range} et instruction \texttt{for}}

On peut utiliser une expression de type \ggs!@range! avec l'instruction \ggs!for! :

\begin{galgas}
for i in @range.new {!12 !5} do
  # i prend successivement les valeurs 12, 13, 14, 15, 16
end
\end{galgas}

Et, avec l'opérateur \ggs!...! :
\begin{galgas}
for i in 12 ... 16 do
  # i prend successivement les valeurs 12, 13, 14, 15, 16
end
\end{galgas}

Et l'opérateur \ggs!..<! :
\begin{galgas}
for i in 12 ..< 17 do
  # i prend successivement les valeurs 12, 13, 14, 15, 16
end
\end{galgas}

Si l'on veut parcourir l'énumération à partir de la dernière valeur, on utilise le modificateur \ggs!>! après le mot-clé \ggs!for! :
\begin{galgas}
for > i in @range.new {!12 !5} do
  # i prend successivement les valeurs 16, 15, 14, 13, 12
end
\end{galgas}
 
\begin{galgas}
for > i in 12 ... 16 do
  # i prend successivement les valeurs 16, 15, 14, 13, 12
end
\end{galgas}
 
\begin{galgas}
for > i in 12 ..< 17 do
  # i prend successivement les valeurs 16, 15, 14, 13, 12
end
\end{galgas}
 
