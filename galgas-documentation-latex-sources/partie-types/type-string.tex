%!TEX encoding = UTF-8 Unicode
%!TEX root = ../galgas-book.tex

\chapitreTypePredefiniLabelIndex{string}

\tableDesMatieresLocaleDeProfondeurRelative{1}


Le type \ggst!@string! définit les chaînes de caractères Unicode.

\section{Chaînes de caractères littérales}

En GALGAS, les chaînes de caractères littérales sont délimitées par des caractères « " », par exemple : \ggst+"a string"+. Une chaîne de caractères littérale est un objet constant de type \ggst!@string!, si bien que l'on peut lui appliquer méthodes et \emph{getters} : \ggst+["ae" uppercaseString]+ retourne la chaîne \ggst+"AE"+.







\section{Constructeurs}

\subsectionConstructor{componentsJoinedByString}{string}

\begin{galgas3box}
constructor componentsJoinedByString
   ?@stringlist inComponents
   ?@string inSeparator -> @string
\end{galgas3box}

Retourne la chaîne de caractéres obtenue en concaténant tous les éléments de \ggst!inComponents! en insérant une copie de \ggst!inSeparator! entre deux éléments consécutifs.

\begin{galgas3}
let aList = @stringlist {!"A", !"B", !"C"}
let s = @string.componentsJoinedByString {!aList !"-"} # "A-B-C"
\end{galgas3}




\subsectionConstructor{CppChar}{string}

\begin{galgas3box}
constructor CppChar ?@char inChar -> @string
\end{galgas3box}

Retourne la chaîne de caractéres constitué du caractère \ggst!inChar! précédé et suivi par un caractère « " ».

\begin{galgas3}
let s = @string.CppChar {!'A'} # "A"
\end{galgas3}



\subsectionConstructor{CppLineComment}{string}

\begin{galgas3box}
constructor CppLineComment -> @string
\end{galgas3box}

Retourne une chaîne de caractères constitué de :
\begin{itemize}
  \item deux caractères « \texttt{/} » ;
  \item suivi de 117 caractères « \texttt{-} » ;
  \item suivi d'un caractère « \texttt{*} » ;
  \item et terminée par un retour à la ligne.
\end{itemize}




\subsectionConstructor{CppTitleComment}{string}

\begin{galgas3box}
constructor CppTitleComment ?@string inString -> @string
\end{galgas3box}

Retourne une chaîne de caractères constitué de cinq lignes de commentaires C++ :
\begin{itemize}
\item une ligne obtenue par appel du \refConstructorPage{string}{CppLineComment} ;
\item une ligne obtenue par appel du \refConstructorPage{string}{CppSpaceComment} ;
\item une ligne de commentaire contenant \ggst!inString! centré ;
\item une ligne obtenue par appel du \refConstructorPage{string}{CppSpaceComment} ;
\item une ligne obtenue par appel du \refConstructorPage{string}{CppLineComment}.
\end{itemize}



\subsectionConstructor{CppSpaceComment}{string}

\begin{galgas3box}
constructor CppSpaceComment -> @string
\end{galgas3box}

Retourne une chaîne de caractères constitué de :
\begin{itemize}
  \item deux caractères « \texttt{/} » ;
  \item suivi de 117 caractères \emph{espace} ;
  \item suivi d'un caractère « \texttt{*} » ;
  \item et terminée par un retour à la ligne.
\end{itemize}

Ce constructeur permet d'écrire des commentaires encadrés dans le code C++ engendré.


\subsectionConstructor{default}{string}

\begin{galgas3box}
constructor default -> @string
\end{galgas3box}

Retourne la chaîne vide (voir \refSubsectionPage{constructeurParDefaut}).




\subsectionConstructor{homeDirectory}{string}

\begin{galgas3box}
constructor homeDirectory -> @string
\end{galgas3box}

Retourne une chaîne de caractères contenant le chemin absolu vers le répertoire \emph{home} de l'utilisateur. Fonctionne sous Unix et Windows.




\subsectionConstructor{newWithStdIn}{string}

\begin{galgas3box}
constructor newWithStdIn -> @string
\end{galgas3box}

Bloque l'exécution en attente de saisie d'une ligne sur le terminal. La saisie du retour-chariot relance l'exécution. La chaîne saisie (y compris le retour-chariot qui la termine) est renvoyée par le constructeur.






\subsectionConstructor{retrieveAndResetTemplateString}{string}

\begin{galgas3box}
constructor retrieveAndResetTemplateString -> @string
\end{galgas3box}

Ce constructeur est utilisé pour la génération de \emph{templates}.






\subsectionConstructor{separatorString}{string}

\begin{galgas3box}
constructor separatorString -> @string
\end{galgas3box}

Ce constructeur renvoie la chaîne de caractères formant le séparateur entre le token courant et le suivant (y compris les commentaires). Son utilisation principale est de permettre d'implémenter un mécanisme permettant de vérifier qu'une instruction se termine par une fin de ligne, ou un \ggst=;=.

Par exemple, considérons l'analyse d'une liste d'instructions :

\begin{galgas3}
repeat
while
  <instruction>
end
\end{galgas3}

Dans le code ci-dessus, rien n'oblige à séparer les instructions par une fin de ligne. On impose l'occurrence d'une fin de ligne (ou plusieurs) ou d'un \ggst=;= en écrivant :

\begin{galgas3}
repeat
while
  <instruction>
  select
   $;$
  or
    let s = @string.separatorString
    if not [s containsCharacter !'\n'] then
      error .here
       : "instruction should be terminated by an end of line or a ';'"
    end
  end
end
\end{galgas3}



\subsectionConstructor{stringByRepeatingString}{string}

\begin{galgas3box}
constructor stringByRepeatingString
  ?@string inString
  ?@uint inCount
  -> @string
\end{galgas3box}

Ce constructeur retourne la chaîne de caractères constituée d'une séquence de \ggst!inCount! chaînes \ggst!inString!.








\subsectionConstructor{stringWithContentsOfFile}{string}

\begin{galgas3box}
constructor stringWithContentsOfFile ?@string inFilePath -> @string
\end{galgas3box}

Ce constructeur lit le fichier texte désigné par le chemin relatif ou absolu \ggst!inFilePath! et retourne sont contenu. Une erreur d'exécution est déclenché si le fichier ne peut pas être lu.






\subsectionConstructor{stringWithCurrentDateTime}{string}

\begin{galgas3box}
constructor stringWithCurrentDateTime -> @string
\end{galgas3box}

Ce constructeur retourne une chaîne de caractères contenant la date et l'heure courante.

Par exemple :
\begin{galgas3}
let s = @string.stringWithCurrentDateTime # "Wed Jan  6 20:08:33 2016"
\end{galgas3}







\subsectionConstructor{stringWithCurrentDirectory}{string}

\begin{galgas3box}
constructor stringWithCurrentDirectory -> @string
\end{galgas3box}

Ce constructeur retourne une chaîne de caractères contenant le chemin absolu du répertoire courant.




\subsectionConstructor{stringWithEnvironmentVariable}{string}

\begin{galgas3box}
constructor stringWithEnvironmentVariable
  ?@string inVariableName
  -> @string
\end{galgas3box}

Ce constructeur retourne la valeur associée à la variable d'environnement \ggst!inVariableName!. Une erreur d'exécution est déclenchée si la variable d'environnement n'est pas définie. L'existence d'une variable d'environnement peut être testée par le \refGetterPage{string}{doesEnvironmentVariableExist}.





\subsectionConstructor{stringWithEnvironmentVariableOrEmpty}{string}

\begin{galgas3box}
constructor stringWithEnvironmentVariableOrEmpty
  ?@string inVariableName
  -> @string
\end{galgas3box}

Ce constructeur retourne la valeur associée à la variable d'environnement \ggst!inVariableName!. Si la variable d'environnement n'est pas définie, la chaîne vide est retournée et aucune erreur n'est déclenchée.






\subsectionConstructor{stringWithSequenceOfCharacters}{string}

\begin{galgas3box}
constructor stringWithSequenceOfCharacters
  ?@char inChar
  ?@uint inCount
  -> @string
\end{galgas3box}

Ce constructeur retourne la chaîne de caractères constituée d'une séquence de \ggst!inCount! caractères \ggst!inChar!. Pour répéter une chaîne de caractères, voir le \refConstructorPage{string}{stringByRepeatingString}.





\subsectionConstructor{stringWithSourceFilePath}{string}

\begin{galgas3box}
constructor stringWithSourceFilePath -> @string
\end{galgas3box}

Ce constructeur retourne le chemin absolu du fichier source en cours d'analyse.






\subsectionConstructor{stringWithSymbolicLinkContents}{string}

\begin{galgas3box}
constructor stringWithSymbolicLinkContents ?@string inPath -> @string
\end{galgas3box}



















\section{Getters}

\tableDesMatieresLocaleDeProfondeurRelative{1}

\subsectionGetter{absolutePathFromPath}{string}

\begin{galgas3box}
getter @string absolutePathFromPath ?@string inPath -> @string
\end{galgas3box}

Si la valeur du récepteur est un chemin absolu, cette valeur est retournée et \ggst!inPath! est inutilisé.

Si la valeur du récepteur est un chemin relatif, cette valeur est retournée préfixée par \ggst!inPath!.




\subsectionGetter{assemblerRepresentation}{string}

\begin{galgas3box}
getter @string assemblerRepresentation -> @string
\end{galgas3box}

Retourne la valeur du récepteur sous la forme d'une chaîne de caractères construite en traduisant chaque caractère :
\begin{itemize}
\item une lettre ASCII (minuscule ou majuscule) est inchangée ;
\item un chiffre décimal est inchangé ;
\item les caractères « . »,  « - » et  « \$ » sont inchangés ;
\item tout autre caractère est traduit en son point de code en hexadécimal, précédé et suivi par un caractère « \_ ».
\end{itemize}

La chaîne obtenue est un identificateur C ou C++ valide si le récepteur commence par une lettre ASCII ou un caractère de soulignement « \_ ».

Par exemple :
\begin{galgas3}
let x = ["$Z2.3" assemblerRepresentation] # "$Z2.3"
let y = [":?" assemblerRepresentation] # "_3A__3F_"
let y = ["_é" assemblerRepresentation] # "_5F__E8_"
\end{galgas3}

Voir aussi le \refGetterPage{string}{identifierRepresentation} qui retourne toujours un identificateur C ou C++ valide et le \refGetterPage{string}{nameRepresentation}.

Pour reconstituer la chaîne d'origine, appeler le \refGetterPage{string}{decodedStringFromRepresentation}.







\subsectionGetter{capacity}{string}

\begin{galgas3box}
getter @string capacity -> @uint
\end{galgas3box}

Retourne le nombre de caractères alloués pour stocker la valeur du récepteur.







\subsectionGetter{characterAtIndex}{string}

\begin{galgas3box}
getter @string characterAtIndex ?@uint inIndex -> @char
\end{galgas3box}

Retourne le caractère situé à l'indice \ggst!inIndex! de la valeur du récepteur. Le premier caractère a pour indice $0$. Si \ggst!inIndex! est supérieur au égal à la longueur de la valeur du récepteur, une erreur d'exécution est déclenchée.











\subsectionGetter{commandWithArguments}{string}

\begin{galgas3box}
getter @string commandWithArguments ?@stringlist inArguments -> @sint
\end{galgas3box}
Exécute la commande \emph{shell} dont le nom est la valeur du récepteur, avec les arguments désignés par la valeur de \texttt{inArguments}. La sortie de la commande est affichée sur la console. Quand la commande est terminée, sa valeur de sortie est retournée.

Contrairement au \refGetterPage{string}{system}, des espaces sont acceptés dans le nom de la commande et dans les arguments.

\begin{galgas3}
let r = ["cp" commandWithArguments !{!"fichierA.txt", !"fichierB.txt"}]
if r == 0S then
  # Ok, pas d'erreur
else
  # Erreur
end
\end{galgas3}















\subsectionGetter{componentsSeparatedByString}{string}

\begin{galgas3box}
getter @string componentsSeparatedByString ?@string inSeparator -> @stringlist
\end{galgas3box}
Retourne une liste des sous-chaînes de la valeur du récepteur qui a été divisée par \ggst!inSeparator!.

\begin{galgas3}
let b = ["a--b--c--" componentsSeparatedByString !"--"]
# "a", "b", "c", ""
\end{galgas3}












\subsectionGetter{containsCharacter}{string}

\begin{galgas3box}
getter @string containsCharacter ?@char inCharacter -> @bool
\end{galgas3box}
Retourne \ggst!true! si le récepteur contient le caractère \ggst!inCharacter!, et \ggst!false! dans le cas contraire.

\begin{galgas3}
let b = ["abcdef" containsCharacter !'c'] # true
\end{galgas3}






\subsectionGetter{containsCharacterInRange}{string}
\begin{galgas3box}
getter @string containsCharacterInRange
  ?@char inFirstCharacter
  ?@char inLastCharacter
  -> @bool
\end{galgas3box}

Retourne \ggst!true! si le récepteur contient un ou plusieurs caractère dont le point de code est supérieur ou égal à celui de \ggst!inLastCharacter! et inférieur ou égal à celui de \ggst!inFirstCharacter!, et \ggst!false! dans le cas contraire. En conséquence, si le point de code Unicode de \ggst!inFirstCharacter! doit être strictement supérieur au point de de code de \ggst!inLastCharacter!, la valeur renvoyée est toujours \ggst!false!.

\begin{galgas3}
let b = ["abcdef" containsCharacterInRange !'c' !'d'] # true
let c = ["abcdef" containsCharacterInRange !'x' !'z'] # false
\end{galgas3}








\subsectionGetter{count}{string}

\begin{galgas3box}
getter @string count -> @uint
\end{galgas3box}

Retourne le nombre de caractères UTF-32 du récepteur. Si le récepteur n'est pas une chaîne ASCII, ce getter ne donne pas le nombre d'octets de sa représentation en UTF-8~: pour cela utiliser le \refGetterPage{string}{utf8Length}.









\subsectionGetter{cStringRepresentation}{string}
\begin{galgas3box}
getter @string cStringRepresentation -> @string
\end{galgas3box}

Retourne la valeur du récepteur sous la forme d'une chaîne UTF-8, c'est-à-dire qu'un caractère « \texttt{"} » a été inséré au début et à la fin.

Le caractère « \texttt{"} » est échappé en « \texttt{\textbackslash"} », le caractère « \texttt{\textbackslash} » est échappé en « \texttt{\textbackslash\textbackslash} ». Le caractère de code ASCII \texttt{0x0D} (« \emph{Carriage Return} ») est écrit sous la forme d'un anti slash suivi du caractère \texttt{"n"}.







\subsectionGetter{currentColumn}{string}

\begin{galgas3box}
getter @string currentColumn -> @uint
\end{galgas3box}

Retourne l'indice de la colonne, c'est-à-dire :
\begin{itemize}
\item si le récepteur ne contient pas de retour à la ligne, le nombre de caractères du récepteur ;
\item si le récepteur contient des retours à la ligne, le nombre de caractères du récepteur qui suivent la dernière occurrence d'un retour à la ligne.
\end{itemize}







\subsectionGetter{decimalSignedBigInt}{string}

\begin{galgas3box}
getter @string decimalSignedBigInt -> @bigint
\end{galgas3box}

Retourne la valeur du récepteur convertie en entier signé. La valeur du récepteur doit donc ne contenir que des chiffres décimaux, éventuellement précédés par un «~+~» ou un «~-~». Si ce n'est pas le cas, une erreur d'exécution est déclenchée.

La valeur du récepteur peut être testée en appelant le \refGetterPage{string}{isDecimalSignedBigInt}.







\subsectionGetter{decimalSignedNumber}{string}

\begin{galgas3box}
getter @string decimalSignedNumber -> @sint
\end{galgas3box}

Retourne la valeur du récepteur convertie en entier signé 32 bits. La valeur du récepteur doit donc ne contenir que des chiffres décimaux, éventuellement précédés par un «~+~» ou un «~-~». Si ce n'est pas le cas, une erreur d'exécution est déclenchée.

La valeur du récepteur peut être testée en appelant le \refGetterPage{string}{isDecimalSignedNumber}.







\subsectionGetter{decimalSigned64Number}{string}

\begin{galgas3box}
getter @string decimalSigned64Number -> @sint64
\end{galgas3box}

Retourne la valeur du récepteur convertie en entier signé 64 bits. La valeur du récepteur doit donc ne contenir que des chiffres décimaux, éventuellement précédés par un «~+~» ou un «~-~». Si ce n'est pas le cas, une erreur d'exécution est déclenchée.

La valeur du récepteur peut être testée en appelant le \refGetterPage{string}{isDecimalSigned64Number}.







\subsectionGetter{decimalUnsignedNumber}{string}

\begin{galgas3box}
getter @string decimalUnsignedNumber -> @uint
\end{galgas3box}

Retourne la valeur du récepteur convertie en entier non signé 32 bits. La valeur du récepteur doit donc ne contenir que des chiffres décimaux. Si ce n'est pas le cas, une erreur d'exécution est déclenchée.

La valeur du récepteur peut être testée en appelant le \refGetterPage{string}{isDecimalUnsignedNumber}.







\subsectionGetter{decimalUnsigned64Number}{string}

\begin{galgas3box}
getter @string decimalUnsigned64Number -> @uint64
\end{galgas3box}

Retourne la valeur du récepteur convertie en entier non signé 64 bits. La valeur du récepteur doit donc ne contenir que des chiffres décimaux. Si ce n'est pas le cas, une erreur d'exécution est déclenchée.

La valeur du récepteur peut être testée en appelant le \refGetterPage{string}{isDecimalUnsigned64Number}.







\subsectionGetter{decodedStringFromRepresentation}{string}

\begin{galgas3box}
getter @string decodedStringFromRepresentation -> @string
\end{galgas3box}

Ce getter suppose que le récepteur est une chaîne de caractères résultat de l'appel du \refGetterPage{string}{assemblerRepresentation}, du \refGetterPage{string}{identifierRepresentation} ou du \refGetterPage{string}{nameRepresentation}, et retourne la chaîne d'origine.

Par exemple :
\begin{galgas3}
let s = ["chaîne accentuée" identifierRepresentation]
log s # LOGGING s: <@string:"cha_EE_ne_20_accentu_E9_e">
let y = [s decodedStringFromRepresentation]
log y #LOGGING y: <@string:"chaîne accentuée">
\end{galgas3}

Une erreur est déclenchée à l'exécution si le réception n'est pas une chaîne valide, et la valeur retournée n'est pas construite.







\subsectionGetter{directories}{string}

\begin{galgas3box}
getter @string directories ?@bool inRecursiveSearch -> @stringlist
\end{galgas3box}

Retourne la liste des sous-répertoires du répertoire désigné par la valeur du récepteur. Si le paramètre \ggst!inRecursiveSearch! est vrai, une recherche récursive dans les sous répertoires est effectuée.









\subsectionGetter{directoriesWithExtensions}{string}

\begin{galgas3box}
getter @string directoriesWithExtensions
    ?@bool inRecursiveSearch
    ?@stringlist inExtensionList -> @stringlist
\end{galgas3box}

Retourne la liste des sous-répertoires du répertoire désigné par la valeur du récepteur, en ne retenant que les répertoires dont l'extension appartient à liste \ggst!inExtensionList!. Si le paramètre \ggst!inRecursiveSearch! est vrai, une recherche récursive dans les sous répertoires est effectuée.








\subsectionGetter{directoryExists}{string}

\begin{galgas3box}
getter @string directoryExists -> @bool
\end{galgas3box}

Retourne \ggst!true! si la valeur du récepteur désigne un répertoire existant, et \ggst!false! dans le cas contraire.








\subsectionGetter{doesEnvironmentVariableExist}{string}

\begin{galgas3box}
getter @string doesEnvironmentVariableExist -> @bool
\end{galgas3box}

Retourne \ggst!true! si la valeur du récepteur nomme une variable d'environnement existante, et \ggst!false! dans le cas contraire.








\subsectionGetter{doubleNumber}{string}

\begin{galgas3box}
getter @string doubleNumber -> @double
\end{galgas3box}

Retourne la valeur du récepteur convertie en entier non signé. La valeur du récepteur doit donc ne contenir que des chiffres décimaux. Si ce n'est pas le cas, une erreur d'exécution est déclenchée.

La valeur du récepteur peut être testée en appelant le \refGetterPage{string}{isDoubleNumber}.

%Un nombre flottant doit obéir à la syntaxe suivante :
%
%{
%  \tikzset{
%    nonterminal/.style={
%      % The shape:
%      rectangle,
%      % The size:
%      minimum size=6mm,
%      % The border:
%      very thick,
%      draw=red!50!black!50,         % 50% red and 50% black,
%                                    % and that mixed with 50% white
%      % The filling:
%      top color=white,              % a shading that is white at the top...
%      bottom color=red!50!black!20, % and something else at the bottom
%      % Font
%      font=\itshape\scriptsize
%    },
%    terminal/.style={
%      % The shape:
%      rounded rectangle,
%      minimum size=6mm,
%      % The rest
%      very thick,draw=black!50,
%      top color=white,bottom color=black!20,
%      font=\ttfamily\scriptsize
%    },
%    firstPoint/.style={circle,>=stealth',thick,draw=black!50},
%    point/.style={coordinate,>=stealth',thick,draw=black!50},
%    tip/.style={->,shorten >=0.007pt},
%    lastPoint/.style={rectangle,>=stealth',thick,draw=black!50},
%    every join/.style={rounded corners}
%  }
%  \begin{tikzpicture}
%    \matrix[column sep=1.5mm, row sep=1mm] {
%      & & & \node (p2-3) [terminal] {+}; &  \\
%      & & & \node (p1-3) [terminal] {-}; & & & & & \node (p1-9) [terminal] {:>}; & \node (p1-10) [nonterminal] {syntax\_directed\_translation\_result}; & \\
%      \node (P0start) [firstPoint] {}; & \node (p0-2) [point] {}; & \node (p0-3) [point] {}; & & \node (p0-5) [point] {}; & \node (p0-6) [terminal] {chiffre}; & \node (p0-7) [nonterminal] {actual\_parameter\_list}; & \node (p0-8) [point] {}; & \node (p0-9) [point] {}; & & \node (p0-11) [point] {}; & \node (p0-12) [lastPoint] {}; & \\
%    };
%    \draw (P0start) -- (p0-3) ;
%    \draw[->] (p0-2) |- (p1-3) ;
%    \draw[->] (p0-2) |- (p2-3) ;
%    \draw (p0-3) -- (p0-5) ;
%    \draw[->] (p1-3) -| (p0-5) ;
%    \draw[->] (p2-3) -| (p0-5) ;
%    \draw[->] (p0-5) -- (p0-6) ;
%    \draw[->] (p0-6) -- (p0-7) ;
%    \draw (p0-7) -- (p0-9) ;
%    \draw[->] (p0-8) |- (p1-9) ;
%    \draw[->] (p1-9) -- (p1-10) ;
%    \draw (p0-9) -- (p0-11) ;
%    \draw[->] (p1-10) -| (p0-11) ;
%    \draw[->] (p0-11) -- (p0-12) ;
%  \end{tikzpicture}
%}





\subsectionGetter{fileExists}{string}

\begin{galgas3box}
getter @string fileExists -> @bool
\end{galgas3box}

Retourne \ggst!true! si la valeur du récepteur désigne un fichier existant, et \ggst!false! dans le cas contraire.






\subsectionGetter{fileNameRepresentation}{string}

\begin{galgas3box}
getter @string fileNameRepresentation -> @string
\end{galgas3box}

Retourne la valeur du récepteur sous la forme d'une chaîne de caractères qui sera toujours un nom de fichier valide :
\begin{itemize}
\item une lettre ASCII minuscule est inchangée ;
\item un chiffre décimal est inchangé ;
\item une lettre ASCII majuscule est traduite en la lettre minuscule correspondante, précédée du caractère «~+~»~;
\item tout autre caractère dont le point de code en hexadécimal est strictement inférieur à 0x100, est écrit sous la forme de de son point de code en deux chiffres hécadécimaux, précédés par le caractère «~-~»~;
\item tout autre caractère est écrit sous la forme de son point de code en héxadécimal, précédé par une parenthèse ouvrante «~(~», et suivi par une parenthèse fermante «~)~».
\end{itemize}

Par exemple :
\begin{galgas3}
let x = ["Z23" fileNameRepresentation] # "+z23"
let y = [":?" fileNameRepresentation] # "-3A-3F"
\end{galgas3}

En particulier, les lettres majuscules sont remplacées ; c'est indispensable pour les systèmes de fichiers qui sont insensibles à la casse, cela permet d'obtenir des noms de fichiers différents à partir de noms ne différant que par la casse :

\begin{galgas3}
let x = ["exemple" fileNameRepresentation] # "exemple"
let y = ["Exemple" fileNameRepresentation] # "+exemple"
\end{galgas3}






\subsectionGetter{firstCharacterOrNul}{string}

\begin{galgas3box}
getter @string firstCharacterOrNul -> @char
\end{galgas3box}

Si la longueur de la valeur du récepteur est non nulle, retourne son premier caractère, sinon le caractère \texttt{NUL}.







\subsectionGetter{here}{string}

\begin{galgas3box}
getter @string here -> @lstring
\end{galgas3box}

Retourne un \ggst!@lstring! dont le champ \ggst!string! est la valeur du récepteur, et dont le champ \ggst!location! désigne la position courante de l'analyse. L'expression \ggst![s here]! est équivalente à \ggst*@lstring.new{!s !.here}*.












\subsectionGetter{hiddenCommandWithArguments}{string}

\begin{galgas3box}
getter @string hiddenCommandWithArguments ?@stringlist inArguments -> @string
\end{galgas3box}
Exécute la commande \emph{shell} dont le nom est la valeur du récepteur, avec les arguments désignés par la valeur de \texttt{inArguments}. Quand la commande est terminée, la sortie de la commande est retournée.

Contrairement au \refGetterPage{string}{popen}, des espaces sont acceptés dans le nom de la commande et dans les arguments.








\subsectionGetter{hiddenFiles}{string}

\begin{galgas3box}
getter @string hiddenFiles ?@bool inRecursiveSearch -> @stringlist
\end{galgas3box}

Retourne la liste des fichiers cachés du répertoire désigné par la valeur du récepteur. Si le paramètre \ggst!inRecursiveSearch! est vrai, une recherche récursive dans les sous répertoires est effectuée.










\subsectionGetter{HTMLRepresentation}{string}

\begin{galgas3box}
getter @string HTMLRepresentation -> @string
\end{galgas3box}
Retourne la valeur du récepteur encodée pour former une chaîne HTML valide. Les caractères «~\texttt{\&}~», « \texttt{"} », « \texttt{<} » et « \texttt{>} » sont modifiés selon le \refTableauPage{codageHTML}.


\begin{table}[t]
  \centering
  \begin{tabular}{lllllll}
  \textbf{Caractère} & \textbf{Codage en HTML} \\
  \texttt{\&} & \texttt{\&amp;} \\
  \texttt{"} & \texttt{\&quot;} \\
  \texttt{<} & \texttt{\&lt;} \\
  \texttt{>} & \texttt{\&gt;} \\
  \end{tabular}
  \caption{Codage des caractères, getter \texttt{HTMLRepresentation} du type \texttt{@string}}
  \labelTableau{codageHTML}
\end{table}






\subsectionGetter{identifierRepresentation}{string}

\begin{galgas3box}
getter @string identifierRepresentation -> @string
\end{galgas3box}

Retourne la valeur du récepteur sous la forme d'une chaîne de caractères qui sera toujours un identificateur C ou C++ valide :
\begin{itemize}
\item une lettre ASCII (minuscule ou majuscule) est inchangée ;
\item tout autre caractère est traduit en son point de code en hexadécimal, précédé et suivi par un caractère « \_ ».
\end{itemize}

Par exemple :
\begin{galgas3}
let x = ["Z23" identifierRepresentation] # "Z_32__33_"
let y = [":?" identifierRepresentation] # "_3A__3F_"
\end{galgas3}

Voir aussi le \refGetterPage{string}{nameRepresentation} qui laisse inchangé un chiffre décimal, et le \refGetterPage{string}{assemblerRepresentation}.


Pour reconstituer la chaîne d'origine, appeler le \refGetterPage{string}{decodedStringFromRepresentation}.






\subsectionGetter{isDecimalSignedBigInt}{string}

\begin{galgas3box}
getter @string isDecimalSignedBigInt -> @bool
\end{galgas3box}

Ce \emph{getter} permet de savoir si le récepteur représente un entier signé, c'est-à-dire si le \refGetterPage{string}{decimalSignedBigInt} peut être appelé sans qu'une erreur d'exécution se déclenche.






\subsectionGetter{isDecimalSignedNumber}{string}

\begin{galgas3box}
getter @string isDecimalSignedNumber -> @bool
\end{galgas3box}

Ce \emph{getter} permet de savoir si le récepteur représente un entier signé sur 32 bits, c'est-à-dire si le \refGetterPage{string}{decimalSignedNumber} peut être appelé sans qu'une erreur d'exécution se déclenche.






\subsectionGetter{isDecimalSigned64Number}{string}

\begin{galgas3box}
getter @string isDecimalSigned64Number -> @bool
\end{galgas3box}

Ce \emph{getter} permet de savoir si le récepteur représente un entier signé sur 64 bits, c'est-à-dire si le \refGetterPage{string}{decimalSigned64Number} peut être appelé sans qu'une erreur d'exécution se déclenche.






\subsectionGetter{isDecimalUnsignedNumber}{string}

\begin{galgas3box}
getter @string isDecimalUnsignedNumber -> @bool
\end{galgas3box}

Ce \emph{getter} permet de savoir si le récepteur représente un entier non signé sur 32 bits, c'est-à-dire si le \refGetterPage{string}{decimalUnsignedNumber} peut être appelé sans qu'une erreur d'exécution se déclenche.






\subsectionGetter{isDecimalUnsigned64Number}{string}

\begin{galgas3box}
getter @string isDecimalUnsigned64Number -> @bool
\end{galgas3box}

Ce \emph{getter} permet de savoir si le récepteur représente un entier non signé sur 64 bits, c'est-à-dire si le \refGetterPage{string}{decimalUnsigned64Number} peut être appelé sans qu'une erreur d'exécution se déclenche.






\subsectionGetter{isDoubleNumber}{string}

\begin{galgas3box}
getter @string isDoubleNumber -> @bool
\end{galgas3box}

Ce \emph{getter} permet de savoir si le récepteur représente un nombre flottant, c'est-à-dire si le \refGetterPage{string}{doubleNumber} peut être appelé sans qu'une erreur d'exécution se déclenche.







\subsectionGetter{isSymbolicLink}{string}

\begin{galgas3box}
getter @string isSymbolicLink -> @bool
\end{galgas3box}

Retourne \ggst!true! si la valeur du récepteur désigne un lien symbolique existant, et \ggst!false! dans le cas contraire.








\subsectionGetter{lastCharacter}{string}

\begin{galgas3box}
getter @string lastCharacter -> @char
\end{galgas3box}

Retourne le dernier caractère du récepteur. Si celui-ci est vide, une erreur d'exécution est déclenchée.








\subsectionGetter{lastPathComponent}{string}

\begin{galgas3box}
getter @string lastPathComponent -> @string
\end{galgas3box}

Retourne le récepteur ne contient pas de caractère « \texttt{/} », il est retourné inchangé. Sinon, ce \emph{getter} retourne la sous-chaîne de caractères qui suit la dernière occurrence du caractère « \texttt{/} ».








\subsectionGetter{leftSubString}{string}

\begin{galgas3box}
getter @string leftSubString ?@uint inLength -> @string
\end{galgas3box}

Retourne la sous-chaîne constituée des \ggst!inLength! derniers caractères du récepteur. Si celui-ci contient moins de \ggst!inLength! caractères, une erreur d'exécution est déclenchée.








\subsectionGetter{length}{string}

\begin{galgas3box}
getter @string length -> @uint # Obsolete, utiliser count
\end{galgas3box}

Retourne le nombre de caractères UTF-32 du récepteur. Si le récepteur n'est pas une chaîne ASCII, ce getter ne donne pas le nombre d'octets de sa représentation en UTF-8~: pour cela utiliser le \refGetterPage{string}{utf8Length}.








\subsectionGetter{lowercaseString}{string}

\begin{galgas3box}
getter @string lowercaseString -> @string
\end{galgas3box}

Retourne la valeur du récepteur, dans laquelle toutes les lettres majuscules sont transformées en minuscules.

Par exemple :
\begin{galgas3}
let x = ["AbcD" lowercaseString] # "abcd"
let y = ["ÊÆ" lowercaseString] # "êæ"
\end{galgas3}







\subsectionGetter{md5}{string}

\begin{galgas3box}
getter @string md5 -> @string
\end{galgas3box}

Retourne la somme de contrôle MD5 du récepteur sous la forme d'une chaîne de 32 caractères hexadécimaux.

Par exemple :
\begin{galgas3}
let x = ["Hello" md5] # "8B1A9953C4611296A827ABF8C47804D7"
\end{galgas3}








\subsectionGetter{nameRepresentation}{string}

\begin{galgas3box}
getter @string nameRepresentation -> @string
\end{galgas3box}

Retourne la valeur du récepteur sous la forme d'une chaîne de caractères construite en traduisant chaque caractère :
\begin{itemize}
\item une lettre ASCII (minuscule ou majuscule) est inchangée ;
\item un chiffre décimal est inchangé ;
\item tout autre caractère est traduit en son point de code en hexadécimal, précédé et suivi par un caractère « \_ ».
\end{itemize}

La chaîne obtenue est un identificateur C ou C++ valide si le récepteur commence par une lettre ASCII ou un caractère de soulignement « \_ ».

Par exemple :
\begin{galgas3}
let x = ["Z23" nameRepresentation] # "Z23"
let y = [":?" nameRepresentation] # "_3A__3F_"
let y = ["_é" nameRepresentation] # "_5F__E8_"
\end{galgas3}

Voir aussi le \refGetterPage{string}{identifierRepresentation} qui retourne toujours un identificateur C ou C++ valide, et le \refGetterPage{string}{assemblerRepresentation}.

Pour reconstituer la chaîne d'origine, appeler le \refGetterPage{string}{decodedStringFromRepresentation}.







\subsectionGetter{nativePathWithUnixPath}{string}

\begin{galgas3box}
getter @string nativePathWithUnixPath -> @string
\end{galgas3box}

Sous Unix, ce \emph{getter} retourne la valeur du récepteur. Sous Windows, il retourne la valeur du récepteur encodé \emph{à la Windows}.

Par exemple, sous Windows :
\begin{galgas3}
let x = ["/C/Program Files/f" nativePathWithUnixPath] # "C:\Program Files\f"
\end{galgas3}







\subsectionGetter{nowhere}{string}

\begin{galgas3box}
getter @string nowhere -> @lstring
\end{galgas3box}

Retourne un \ggst!@lstring! dont le champ \ggst!string! est la valeur du réception, et dont le champ \ggst!location! est vide.







\subsectionGetter{pathExtension}{string}

\begin{galgas3box}
getter @string pathExtension -> @string
\end{galgas3box}

Si le récepteur ne contient pas de caractère « \texttt{.} », la chaîne vide est retournée. Sinon, ce \emph{getter} retourne la sous-chaîne de caractères qui suit la dernière occurrence du caractère « \texttt{.} ».








\subsectionGetter{popen}{string}

\begin{galgas3box}
getter @string popen -> @string
\end{galgas3box}

Ce \emph{getter} exécute la commande Shell exprimée par la valeur du récepteur. La sortie de cette commande est accumulée et retournée par ce \emph{getter} lorsque la commande est terminée.








\subsectionGetter{range}{string}

\begin{galgas3box}
getter @string range -> @range
\end{galgas3box}

Retourne un objet de type \refTypePredefini{range} dont le champ \ggst!start! est $0$ et le champ \ggst!length! est égal au nombre de caractères du récepteur.








\subsectionGetter{regularFiles}{string}

\begin{galgas3box}
getter @string regularFiles ?@bool inRecursiveSearch -> @stringlist
\end{galgas3box}

Retourne la liste des fichiers non cachés du répertoire désigné par la valeur du récepteur. Si le paramètre \ggst!inRecursiveSearch! est vrai, une recherche récursive dans les sous répertoires est effectuée.









\subsectionGetter{regularFilesWithExtensions}{string}

\begin{galgas3box}
getter @string regularFilesWithExtensions
    ?@bool inRecursiveSearch
    ?@stringlist inExtensionList -> @stringlist
\end{galgas3box}

Retourne la liste des fichiers non cachés du répertoire désigné par la valeur du récepteur, en ne retenant que les fichiers dont l'extension est nommée dans \ggst!inExtensionList!. Si le paramètre \ggst!inRecursiveSearch! est vrai, une recherche récursive dans les sous répertoires est effectuée.









\subsectionGetter{relativePathFromPath}{string}

\begin{galgas3box}
getter @string relativePathFromPath ?@string inPath -> @string
\end{galgas3box}

Retourne le chemin relatif du récepteur à partir du chemin \ggst!inPath!.









\subsectionGetter{reversedString}{string}

\begin{galgas3box}
getter @string reversedString -> @string
\end{galgas3box}

Retourne la valeur renversée du récepteur.

\begin{galgas3}
let x = ["abcde" reversedString] # "edcba"
\end{galgas3}








\subsectionGetter{rightSubString}{string}

\begin{galgas3box}
getter @string rightSubString ?@uint inLength -> @string
\end{galgas3box}

Retourne la sous-chaîne constituée des \ggst!inLength! premiers caractères du récepteur. Si celui-ci contient moins de \ggst!inLength! caractères, une erreur d'exécution est déclenchée.



\subsectionGetter{sha256}{string}

\begin{galgas3box}
getter @string sha256 -> @string
\end{galgas3box}

\begin{galgas4box}
func @string.sha256 () -> @string
\end{galgas4box}

Retourne la somme de contrôle SHA256 du récepteur sous la forme d'une chaîne de 64 caractères hexadécimaux.

Par exemple :
\begin{galgas3}
  let x = ["string"  sha256]
    # x = "473287F8298DBA7163A897908958F7C0EAE733E25D2E027992EA2EDC9BED2FA8"
  let y = ["string2" sha256]
    # y = "B993212A26658C9077096B804CDFB92AD21CF1E199E272C44EB028E45D07B6E0"
\end{galgas3}

\begin{galgas4}
  let x = "string".sha256
   // x = "473287F8298DBA7163A897908958F7C0EAE733E25D2E027992EA2EDC9BED2FA8"
  let y = "string2".sha256
   // y = "B993212A26658C9077096B804CDFB92AD21CF1E199E272C44EB028E45D07B6E0"
\end{galgas4}









\subsectionGetter{stringByCapitalizingFirstCharacter}{string}

\begin{galgas3box}
getter @string stringByCapitalizingFirstCharacter -> @string
\end{galgas3box}

Retourne la valeur du récepteur dans laquelle le premier caractère, si il est une lettre, a été mis en majuscule.








\subsectionGetter{stringByDeletingLastPathComponent}{string}

\begin{galgas3box}
getter @string stringByDeletingLastPathComponent -> @string
\end{galgas3box}

Si le récepteur ne contient pas de caractère « \texttt{/} », la chaîne vide est retournée. Sinon, ce \emph{getter} retourne la sous-chaîne de caractères qui précède la dernière occurrence du caractère « \texttt{/} ».









\subsectionGetter{stringByDeletingPathExtension}{string}

\begin{galgas3box}
getter @string stringByDeletingPathExtension -> @string
\end{galgas3box}

Si le récepteur ne contient pas de caractère « \texttt{.} », la valeur du récepteur est retournée. Sinon, ce \emph{getter} retourne la sous-chaîne de caractères qui précède la dernière occurrence du caractère «~\texttt{.}~».








\subsectionGetter{stringByLeftAndRightPadding}{string}

\begin{galgas3box}
getter @string stringByLeftAndRightPadding
   ?@uint inPaddedStringLength
   ?@char inPaddingChar -> @string
\end{galgas3box}

Si la longueur de la valeur du récepteur est supérieure ou égal à \ggst!inPaddedStringLength!, la valeur du récepteur est retournée. Sinon, ce \emph{getter} retourne la valeur du récepteur précédée et suivie d'un nombre égal de caractères \ggst!inPaddingChar!, de façon à atteindre la longueur \ggst!inPaddedStringLength!. Si le nombre de caractères à ajouter est impair, le nombre de caractères ajoutés est supérieur d'une unité au nombre de caractères insérés au début.








\subsectionGetter{stringByLeftPadding}{string}

\begin{galgas3box}
getter @string stringByLeftPadding
   ?@uint inPaddedStringLength
   ?@char inPaddingChar -> @string
\end{galgas3box}

Si la longueur de la valeur du récepteur est supérieure ou égal à \ggst!inPaddedStringLength!, la valeur du récepteur est retournée. Sinon, ce \emph{getter} retourne la valeur du récepteur suivie d'un nombre de caractères \ggst!inPaddingChar!, de façon à atteindre la longueur \ggst!inPaddedStringLength!.







\subsectionGetter{stringByRemovingCharacterAtIndex}{string}

\begin{galgas3box}
getter @string stringByRemovingCharacterAtIndex ?@uint inIndex -> @string
\end{galgas3box}

Retourne la valeur du récepteur, amputée du caractère situé à l'indice \ggst!inIndex!. Une erreur d'exécution est déclenchée si \ggst!inIndex! est supérieur ou égal au nombre de caractères du récepteur.







\subsectionGetter{stringByReplacingStringByString}{string}

\begin{galgas3box}
getter @string stringByReplacingStringByString
     ?@string inSearchedString
     ?@string inReplacementString  -> @string
\end{galgas3box}

Retourne la valeur du récepteur, dans laquelle chaque occurrence de \ggst!inSearchedString! est remplacée par \ggst!inReplacementString!.







\subsectionGetter{stringByRightPadding}{string}

\begin{galgas3box}
getter @string stringByRightPadding
   ?@uint inPaddedStringLength
   ?@char inPaddingChar -> @string
\end{galgas3box}

Si la longueur de la valeur du récepteur est supérieure ou égal à \ggst!inPaddedStringLength!, la valeur du récepteur est retournée. Sinon, ce \emph{getter} retourne la valeur du récepteur précédée d'un nombre de caractères \ggst!inPaddingChar!, de façon à atteindre la longueur \ggst!inPaddedStringLength!.




\subsectionGetter{stringByStandardizingPath}{string}

\begin{galgas3box}
getter @string stringByStandardizingPath -> @string
\end{galgas3box}

Retourne la valeur du récepteur, dans laquelle les séquences « \texttt{./} » et « \texttt{../} » sont supprimées.







\subsectionGetter{stringByTrimmingWhiteSpaces}{string}

\begin{galgas3box}
getter @string stringByTrimmingWhiteSpaces -> @string
\end{galgas3box}

Retourne la valeur du récepteur dans laquelles les espaces en tête et en fin ont été supprimés.




\subsectionGetter{subString}{string}

\begin{galgas3box}
getter @string subString ?@uint inStart ?@uint inLength -> @string
\end{galgas3box}

Retourne la sous-chaîne de \ggst!inLength! caractères extraite de la valeur du récepteur à partir de l'indice \ggst!inStart!.






\subsectionGetter{subStringFromIndex}{string}

\begin{galgas3box}
getter @string subStringFromIndex ?@uint inIndex -> @string
\end{galgas3box}

Retourne la sous-chaîne de caractères extraite de la valeur du récepteur à partir de l'indice \ggst!inIndex!. Si \ggst!inIndex! est supérieur ou égal au nombre de caractères du récepteur, la chaîne vide est retournée.






\subsectionGetter{system}{string}

\begin{galgas3box}
getter @string system -> @sint
\end{galgas3box}


Exécute la commande \emph{shell} avec la valeur du récepteur en argument. La valeur retournée par cet appel est la valeur retournée par ce \emph{getter}. On peut exécuter plusieurs commandes séquentiellement en les séparant par un point-virgule. La sortie de la commande est affichée sur la console.

Contrairement au \refGetterPage{string}{commandWithArguments}, les espaces dans les arguments doivent être explicitement échappés.




\subsectionGetter{unixPathWithNativePath}{string}

\begin{galgas3box}
getter @string unixPathWithNativePath -> @string
\end{galgas3box}

La valeur du récepteur est un chemin valide pour la plateforme courante.

Sous Windows, ce \emph{getter} retourne la valeur du récepteur sous la forme d'un chemin Unix. Sous Unix, la valeur du récepteur est renvoyée.













\subsectionGetter{uppercaseString}{string}

\begin{galgas3box}
getter @string uppercaseString -> @string
\end{galgas3box}

Retourne la valeur du récepteur, dans laquelle toutes les lettres minuscules sont transformées en majuscules.

Par exemple :
\begin{galgas3}
let x = ["AbcD" uppercaseString] # "ABCD"
let y = ["êæ" uppercaseString] # "ÊÆ"
\end{galgas3}














\subsectionGetter{utf32Representation}{string}

\begin{galgas3box}
getter @string utf32Representation -> @string
\end{galgas3box}















\subsectionGetter{utf8Length}{string}

\begin{galgas3box}
getter @string utf8Length -> @uint
\end{galgas3box}

Retourne le nombre d'octets de la représentation UTF-8 de la valeur du récepteur. Si le récepteur n'est pas une chaîne ASCII, ce nombre diffère de la valeur retournée par le \refGetterPage{string}{length}~:

\begin{galgas3}
 var s1 = "Toto"
 var nUTF32 = [s length] # 4
 var nUTF8  = [s utf8Length] # 4
 s1 = "Tâche"
 nUTF32 = [s length] # 5
 nUTF8  = [s utf8Length] # 6
\end{galgas3}








\subsectionGetter{utf8Representation}{string}

\begin{galgas3box}
getter @string utf8Representation -> @string
\end{galgas3box}

Retourne la valeur du récepteur sous la forme d'une chaîne UTF-8, c'est-à-dire qu'un caractère « \texttt{"} » a été inséré au début et à la fin.

Les caractères non-ASCII sont échappés.

Le caractère « \texttt{"} » est échappé en « \texttt{\textbackslash"} », le caractère « \texttt{\textbackslash} » est échappé en « \texttt{\textbackslash\textbackslash} ».

















\subsectionGetter{utf8RepresentationEscapingQuestionMark}{string}

\begin{galgas3box}
getter @string utf8RepresentationEscapingQuestionMark -> @string
\end{galgas3box}

Retourne la valeur du récepteur sous la forme d'une chaîne UTF-8, c'est-à-dire qu'un caractère « \texttt{"} » a été inséré au début et à la fin.

Les caractères non-ASCII sont échappés. De plus, le caractère « \texttt{"} » est échappé en « \texttt{\textbackslash"} », le caractère « \texttt{\textbackslash} » est échappé en « \texttt{\textbackslash\textbackslash} », le caractère « \texttt{?} » est échappé en « \texttt{\textbackslash?} ».









\subsectionGetter{utf8RepresentationEnclosedWithin}{string}

\begin{galgas3box}
getter @string utf8RepresentationEnclosedWithin ?@char inCharacter -> @string
\end{galgas3box}

Retourne la valeur du récepteur sous la forme d'une chaîne UTF-8, entourée par le caractère indiqué en argument.

Le caractère indiqué en argument est échappé en le préfixant par« \texttt{\textbackslash} ». Le caractère « \texttt{\textbackslash} » est échappé en « \texttt{\textbackslash\textbackslash} ».









\subsectionGetter{utf8RepresentationWithoutDelimiters}{string}

\begin{galgas3box}
getter @string utf8RepresentationWithoutDelimiters -> @string
\end{galgas3box}

Retourne la valeur du récepteur sous la forme d'une chaîne UTF-8 sans le délimiteur initial et ni le délimiteur terminal, c'est-à-dire qu'aucun caractère « \texttt{"} » n'est inséré au début et à la fin.














\section{Méthodes}





\subsectionMethod{makeDirectory}{string}

\begin{galgas3box}
method @string makeDirectory
\end{galgas3box}

Crée le répertoire désigné par la valeur du récepteur. Les répertoires intermédiaires sont créés si besoin. Si le répertoire existe déjà, aucune erreur n'est déclenchée.






\subsectionMethod{makeDirectoryAndWriteToExecutableFile}{string}

\begin{galgas3box}
method @string makeDirectoryAndWriteToExecutableFile ?@string inFilePath
\end{galgas3box}

Le récepteur contient la chaîne de caractères qui est écrit dans le fichier \ggst!inFilePath!. Les répertoires intermédiaires sont créés si besoin. Le fichier \ggst!inFilePath! est rendu exécutable.







\subsectionMethod{makeDirectoryAndWriteToFile}{string}

\begin{galgas3box}
method @string makeDirectoryAndWriteToFile ?@string inFilePath
\end{galgas3box}

Le récepteur contient la chaîne de caractères qui est écrit dans le fichier \ggst!inFilePath!. Les répertoires intermédiaires sont créés si besoin.








\subsectionMethod{makeSymbolicLinkWithPath}{string}

\begin{galgas3box}
method @string makeSymbolicLinkWithPath ?@string inFilePath
\end{galgas3box}








\subsectionMethod{writeToExecutableFile}{string}

\begin{galgas3box}
method @string writeToExecutableFile ?@string inFilePath
\end{galgas3box}

Le récepteur contient la chaîne de caractères qui est écrit dans le fichier \ggst!inFilePath!. Aucun répertoire intermédiaire n'est créé, c'est une erreur d'exécution si ils n'existent pas. Si il a été écrit avec succès, le fichier \ggst!inFilePath! est rendu exécutable.









\subsectionMethod{writeToExecutableFileWhenDifferentContents}{string}

\begin{galgas3box}
method @string writeToExecutableFileWhenDifferentContents
    ?@string inFilePath
    !@bool outFileModified
\end{galgas3box}

Le récepteur contient la chaîne de caractères qui est écrit dans le fichier \ggst!inFilePath!. Aucun répertoire intermédiaire n'est créé, c'est une erreur d'exécution si ils n'existent pas. Si il a été écrit avec succès, le fichier \ggst!inFilePath! est rendu exécutable. Le booléen \ggst!outFileModified! permet de savoir si le contenu original du fichier a été modifié.









\subsectionMethod{writeToFile}{string}

\begin{galgas3box}
method @string writeToFile ?@string inFilePath
\end{galgas3box}

Le récepteur contient la chaîne de caractères qui est écrit dans le fichier \ggst!inFilePath!. Aucun répertoire intermédiaire n'est créé, c'est une erreur d'exécution si ils n'existent pas.









\subsectionMethod{writeToFileWhenDifferentContents}{string}

\begin{galgas3box}
method @string @string writeToFileWhenDifferentContents
    ?@string inFilePath
    !@bool outFileModified
\end{galgas3box}

Le récepteur contient la chaîne de caractères qui est écrit dans le fichier \ggst!inFilePath!. Aucun répertoire intermédiaire n'est créé, c'est une erreur d'exécution si ils n'existent pas.Le booléen \ggst!outFileModified! permet de savoir si le contenu original du fichier a été modifié.















\section{Setters}

\subsectionSetter{appendSpacesUntilColumn}{string}

\begin{galgas3box}
setter @string appendSpacesUntilColumn ?@uint inColumnIndex
\end{galgas3box}

Ce \emph{setter} ajoute des espaces en fin de ligne jusqu'à atteindre la colonne \ggst!inColumnIndex!.




\subsectionSetter{decIndentation}{string}

\begin{galgas3box}
setter @string decIndentation ?@uint inAmount
\end{galgas3box}

Lorsqu'un retour à la ligne est inséré, des espaces sont automatiquement insérés à la suite. Initialement, ce nombre est nul. Le \refSetterPage{string}{incIndentation} permet de l'incrémenter, ce \emph{setter} de le décrémenter. Ces deux \emph{setters} permettent d'obtenir facilement des sorties où le texte est indenté.





\subsectionSetter{incIndentation}{string}

\begin{galgas3box}
setter @string incIndentation ?@uint inAmount
\end{galgas3box}

Lorsqu'un retour à la ligne est inséré, des espaces sont automatiquement insérés à la suite. Initialement, ce nombre est nul. Ce \emph{setter} permet de l'incrémenter, le \refSetterPage{string}{decIndentation} de le décrémenter. Ces deux \emph{setters} permettent d'obtenir facilement des sorties où le texte est indenté.








\subsectionSetter{insertCharacterAtIndex}{string}

\begin{galgas3box}
setter @string insertCharacterAtIndex
   ?@char inChar
   ?@uint inIndex
\end{galgas3box}


Ce \emph{setter} insère le caractère caractère \ggst!inChar! à l'indice \ggst!inIndex!. Si \ggst!inIndex! doit être inférieur ou égal au nombre de caractères du récepteur. Si \ggst!inIndex! est égal au nombre de caractères, \ggst!inChar! est inséré après le dernier caractère.








\subsectionSetter{setCapacity}{string}

\begin{galgas3box}
setter @string setCapacity ?@uint inCapacity
\end{galgas3box}


Ce \emph{setter} ajuste la zone mémoire allouée au buffer de la chaîne de caractères. Si \ggst!inCapacity! est strictement inférieur au nombre de caractères, ce \emph{setter} n'a pas d'effet.






\subsectionSetter{removeCharacterAtIndex}{string}

\begin{galgas3box}
setter @string removeCharacterAtIndex
   !@char outChar
   ?@uint inIndex
\end{galgas3box}


Ce \emph{setter} retire de la chaîne le caractère à l'indice \ggst!inIndex!. Le caractère retiré est renvoyé dans \ggst!outChar!. \ggst!inIndex! doit être strictement inférieur au nombre de caractères~; sinon, une erreur d'exécution est déclenchée, et une valeur poison est retournée dans \ggst!outChar!.






\subsectionSetter{setCharacterAtIndex}{string}

\begin{galgas3box}
setter @string setCharacterAtIndex
   ?@char inChar
   ?@uint inIndex
\end{galgas3box}


Ce \emph{setter} remplace le caractère d'indice \ggst!inIndex! par le caractère \ggst!inChar!. Si \ggst!inIndex! est supérieur ou égal au nombre de caractères, une erreur d'exécution est déclenchée.




\section{Procédures de type}


\subsectionStaticProc{deleteFile}{string}


\begin{galgas3box}
proc @string deleteFile ?@string inFilePath
\end{galgas3box}

Supprime le fichier \ggst!inFilePath!. Une erreur d'exécution est déclenchée si le fichier n'existe pas.




\subsectionStaticProc{deleteFileIfExists}{string}


\begin{galgas3box}
proc @string deleteFileIfExists ?@string inFilePath
\end{galgas3box}

Supprime le fichier \ggst!inFilePath!. Aucune erreur d'exécution n'est déclenchée si le fichier n'existe pas.






\subsectionStaticProc{generateFile}{string}


\begin{galgas3box}
proc @string generateFile
   ?@string inStartPath
   ?@string inFileName
   ?@string inContents
\end{galgas3box}

Cette procédure commence par rechercher le fichier \ggst!inFileName! dans le répertoire \ggst!inStartPath!, et récursivement dans ses sous-répertoires.

Si le fichier existe, son contenu est remplacé par \ggst!inContents!.

Si il n'existe pas, il est créé dans le répertoire \ggst!inStartPath! avec le nom \ggst!inFileName!, et le contenu \ggst!inContents!.








\subsectionStaticProc{generateFileWithPattern}{string}


\begin{galgas3box}
proc @string generateFileWithPattern
   ?startPath:@string inStartPath
   ?fileName:@string inFileName
   ?lineComment:@string inLineCommentPrefix
   ?header:@string inHeader
   ?defaultUserZone1:@string inDefaultUserZone1
   ?generatedZone2:@string inGeneratedZone2
   ?defaultUserZone2:@string inDefaultUserZone2
   ?generatedZone3:@string inGeneratedZone3
   ?makeExecutable:@bool inMakeExecutable
\end{galgas3box}






\subsectionStaticProc{removeDirectoryRecursively}{string}


\begin{galgas3box}
proc @string removeDirectoryRecursively ?@string inDirectoryPath
\end{galgas3box}

Supprime le répertoire \ggst!inDirectoryPath!, après avoir supprimé tous ses fichiers et récursivement tous ses sous-répertoires.







\subsectionStaticProc{removeEmptyDirectory}{string}


\begin{galgas3box}
proc @string removeEmptyDirectory ?@string inDirectoryPath
\end{galgas3box}

Supprime le répertoire \ggst!inDirectoryPath!. Une erreur d'exécution est déclenchée si le répertoire n'est pas vide.


