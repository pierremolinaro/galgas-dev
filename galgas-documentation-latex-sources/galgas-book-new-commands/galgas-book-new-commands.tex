%!TEX encoding = UTF-8 Unicode
%!TEX root = ../galgas-book.tex

%---------------------------------------------------------------------*
%                                                                     *
% This file is included in galgas-book.tex file                       *
%                                                                     *
%---------------------------------------------------------------------*

%--- Couleur de fond des définitions
\ifthenelse{\equal{\sortieEnCouleur}{true}}{
  \newcommand \couleurFondAPI {yellow!50}
}{
  \newcommand \couleurFondAPI {white}
}

%---------------------------------------------------------------------*

%--- Mot clef
\newcommand \motCle[1] {\texttt{\textbf{#1}}}

%---------------------------------------------------------------------*

%--- Nom de type
\newcommand \nomType[1] {\texttt{#1}}

%---------------------------------------------------------------------*
% Section pour la définition des types

\newcommand \definitionSectionType[1] {\section{The \nomType{#1} Type}\label{#1}}

\newcommand \lienSectionType[1] {\hyperref[#1]{#1 type (page \pageref{#1})}}


%--- chaine de caracteres 
\newcommand \literalString[1] {\texttt{"#1"}}

%---------------------------------------------------------------------*

%--- Définition d'un reader sans argument
% Exemple d'appel :
% \readerSansArgument{line} % Nom du reader
% {@location} % Nom du type
% {1.8.2} % Première version GALGAS qui implémente ce reader
% {@uint} % Type renvoyé
% {Returns the line of the receiver's value.} % Description
% {this reader raises a run-time error if ...} % Discussion

\newcommand \readerSansArgument[6] {
  \subsection{\texttt{#1} Reader}\label{reader #2 #1}\index{#1!"#2 reader}
  #5
  \newline
  \newline
  \colorbox{\couleurFondAPI}{
    \begin{tabular}{l}
    \texttt{\textbf{reader} \nomType{#2} #1 -> #4 ;}
    \end{tabular}
  }
  \newline
  \newline
  \textbf{Availability:} available in GALGAS #3 and later.
  \ifthenelse{\equal{#6}{}}{
  }{
    \newline
    \newline
    \textbf{Discussion:} #6
  }
  \newline
}

%---------------------------------------------------------------------*

\newcommand \lienReader[2] {\hyperref[reader #1 #2]{#2 reader (page \pageref{reader #1 #2})}}

%---------------------------------------------------------------------*

%--- Définition d'un reader à 1 argument
% Exemple d'appel :
% \readerSansArgument{line} % Nom du reader
% {@location} % Nom du type
% {1.8.2} % Première version GALGAS qui implémente ce reader
% {@uint} % Type renvoyé
% {Returns the line of the receiver's value.} % Description
% {this reader raises a run-time error if ...} % Discussion

\newcommand \readerUnArgument[7] {
  \subsection{\texttt{#1} Reader}\label{reader #2 #1}\index{#1!"#2 reader}
  #6
  \newline
  \newline
  %\begin{lstlisting}[language=galgas]
%  reader \nomType{#2} #1
 %   ?#5
 %   -> #4 ;
  %\end{lstlisting}
  \colorbox{\couleurFondAPI}{
    \begin{tabular}{l}
      \texttt{\textbf{reader} \nomType{#2} #1}\\
      \texttt{\ \ ?#5}\\
      \texttt{\ \ -> #4 ;}
    \end{tabular}
  }
  \newline
  \newline
  \textbf{Availability:} available in GALGAS #3 and later.
  \ifthenelse{\equal{#7}{}}{
  }{
    \newline
    \newline
    \textbf{Discussion:} #7
  }
  \newline
}

%---------------------------------------------------------------------*

%--- Définition d'un reader à 2 arguments
% Exemple d'appel :
% \readerSansArgument{line} % Nom du reader
% {@location} % Nom du type
% {1.8.2} % Première version GALGAS qui implémente ce reader
% {@uint} % Type renvoyé
% {Returns the line of the receiver's value.} % Description
% {this reader raises a run-time error if ...} % Discussion

\newcommand \readerDeuxArguments[8] {
  \subsection{\texttt{#1} Reader}\label{reader #2 #1}\index{#1!"#2 reader}
  #7
  \newline
  \newline
  \colorbox{\couleurFondAPI}{
    \begin{tabular}{l}
    \texttt{\textbf{reader} \nomType{#2} #1}\\
    \texttt{\ \ ?#5}\\
    \texttt{\ \ ?#6}\\
    \texttt{\ \ -> #4 ;}
    \end{tabular}
  }
  \newline
  \newline
  \textbf{Availability:} available in GALGAS #3 and later.
  \ifthenelse{\equal{#8}{}}{
  }{
    \newline
    \newline
    \textbf{Discussion:} #8
  }
  \newline
}

%---------------------------------------------------------------------*

%--- Définition d'un reader à 3 arguments

\newcommand \readerTroisArguments[9] {
  \subsection{\texttt{#1} Reader}\label{reader #2 #1}\index{#1!"#2 reader}
  #8
  \newline
  \newline
  \colorbox{\couleurFondAPI}{
    \begin{tabular}{l}
    \texttt{\emph{reader} \nomType{#2} #1}\\
    \texttt{\ \ ?#5}\\
    \texttt{\ \ ?#6}\\
    \texttt{\ \ ?#7}\\
    \texttt{\ \ -> #4 ;}
    \end{tabular}
  }
  \newline
  \newline
  \textbf{Availability:} available in GALGAS #3 and later.
  \ifthenelse{\equal{#9}{}}{
  }{
    \newline
    \newline
    \textbf{Discussion:} #9
  }
  \newline
}

%---------------------------------------------------------------------*

\newcommand \lienConstructeur[2] {\hyperref[constructor #1 #2]{#2 constructor (page \pageref{constructor #1 #2})}}

%---------------------------------------------------------------------*

%--- Définition d'un constructeur sans argument
% Exemple d'appel :
% \constructeurSansArgument{nowhere} % Nom du constructeur
% {@location} % Nom du type
% {1.8.2} % Première version GALGAS qui implémente ce constructeur
% {@uint} % Type renvoyé
%{Returns an \nomType{@location} that does not points out any location.} % Description
%{The returned object responds \motCle{true} to the isNowhere reader.} % Discussion

\newcommand \constructeurSansArgument[6] {
  \subsection{\texttt{#1} Constructor}\label{constructor #2 #1}\index{#1!"#2 constructor}
  #5
  \newline
  \newline
%  \begin{lstlisting}
%    toto
%  \end{lstlisting}
  \colorbox{\couleurFondAPI}{
    \begin{tabular}{l}
    \texttt{\textbf{constructor} \nomType{#2} #1 -> #4 ;}
    \end{tabular}
  }
  \newline
  \newline
  \textbf{Availability:} available in GALGAS #3 and later.
  \ifthenelse{\equal{#6}{}}{
  }{
    \newline
    \newline
    \textbf{Discussion:} #6
  }
  \newline
}

%---------------------------------------------------------------------*

%--- Définition d'un constructeur avec 1 argument

\newcommand \constructeurUnArgument[7] {
  \subsection{\texttt{#1} Constructor}\label{constructor #2 #1}\index{#1!"#2 constructor}
  #6
  \newline
  \newline
  \colorbox{\couleurFondAPI}{
    \begin{tabular}{l}
    \texttt{\textbf{constructor} \nomType{#2} #1}\\
    \texttt{\ \ ?#5}\\
    \texttt{\ \ -> #4 ;}
    \end{tabular}
  }
  \newline
  \newline
  \textbf{Availability:} available in GALGAS #3 and later.
  \ifthenelse{\equal{#7}{}}{
  }{
    \newline
    \newline
    \textbf{Discussion:} #7
  }
  \newline
}

%---------------------------------------------------------------------*

%--- Définition d'un constructeur avec 2 arguments

\newcommand \constructeurDeuxArguments[8] {
  \subsection{\texttt{#1} Constructor}\label{constructor #2 #1}\index{#1!"#2 constructor}
  #7
  \newline
  \newline
  \colorbox{\couleurFondAPI}{
    \begin{tabular}{l}
    \texttt{\textbf{constructor} \nomType{#2} #1}\\
    \texttt{\ \ ?#5}\\
    \texttt{\ \ ?#6}\\
    \texttt{\ \ -> #4 ;}
    \end{tabular}
  }
  \newline
  \newline
  \textbf{Availability:} available in GALGAS #3 and later.
  \ifthenelse{\equal{#8}{}}{
  }{
    \newline
    \newline
    \textbf{Discussion:} #8
  }
  \newline
}

%---------------------------------------------------------------------*

%--- Définition d'un constructeur avec 3 arguments

\newcommand \constructeurTroisArguments[9] {
  \subsection{\texttt{#1} Constructor}\label{constructor #2 #1}\index{#1!"#2 constructor}
  #8
  \newline
  \newline
  \colorbox{\couleurFondAPI}{
    \begin{tabular}{l}
    \texttt{\textbf{constructor} \nomType{#2} #1}\\
    \texttt{\ \ ?#5}\\
    \texttt{\ \ ?#6}\\
    \texttt{\ \ ?#7}\\
    \texttt{\ \ -> #4 ;}
    \end{tabular}
  }
  \newline
  \newline
  \textbf{Availability:} available in GALGAS #3 and later.
  \ifthenelse{\equal{#9}{}}{
  }{
    \newline
    \newline
    \textbf{Discussion:} #9
  }
  \newline
}

%---------------------------------------------------------------------*

%--- Définition d'un modifier à 1 argument

\newcommand \modifierUnArgument[6] {
  \subsection{\texttt{#1} Modifier}\label{modifier #2 #1}\index{#1!"#2 modifier}
  #5
  \newline
  \newline
  \colorbox{\couleurFondAPI}{
    \begin{tabular}{l}
    \texttt{\textbf{modifier} \nomType{#2} #1}\\
    \texttt{\ \ ?#4}\\
    \end{tabular}
  }
  \newline
  \newline
  \textbf{Availability:} available in GALGAS #3 and later.
  \ifthenelse{\equal{#6}{}}{
  }{
    \newline
    \newline
    \textbf{Discussion:} #6
  }
  \newline
}

%---------------------------------------------------------------------*

%--- Exemple un ligne

\newcommand \exempleUneLigne[2] {
  \noindent
  \ifthenelse{\equal{#1}{}}{
    \textbf{Example:}\newline
  }{
    \textbf{Example.} #1\newline
  }
  \texttt{#2}\newline
}

%---------------------------------------------------------------------*

%--- Exemple 2 lignes

\newcommand \exempleDeuxLignes[3] {
  \noindent
  \ifthenelse{\equal{#1}{}}{
    \textbf{Example:}\newline
  }{
    \textbf{Example.} #1\newline
  }
  \texttt{#2}\newline
  \texttt{#3}\newline
}

%---------------------------------------------------------------------*

%--- Exemple 3 lignes

\newcommand \exempleTroisLignes[4] {
  \noindent
  \ifthenelse{\equal{#1}{}}{
    \textbf{Example:}\newline
  }{
    \textbf{Example.} #1\newline
  }
  \texttt{#2}\newline
  \texttt{#3}\newline
  \texttt{#4}\newline
}

%---------------------------------------------------------------------*

%--- Exemple new look
\lstnewenvironment{exemple}%
{\noindent\textbf{Example:}\lstset{language=galgas}}%
{}
