%!TEX encoding = UTF-8 Unicode
%!TEX root = ../galgas-book.tex

%--------------------------------------------------------------
\chapterLabel{Sous-programmes}{sousprgm}\index{Sous-programmes}
%-------------------------------------------------------------

GALGAS définit les sous-programmes suivants :
\begin{itemize}
  \item les \emph{fonctions} (dans ce chapitre, \refSectionPage{declarationFonction}) ;
  \item les \emph{procédures} (dans ce chapitre, \refSectionPage{declarationProcedure}) ;
  \item les \emph{méthodes} (\refSectionPage{categoryMethod}) ;
  \item les \emph{getters} (\refSectionPage{categoryReader}) ;
  \item les \emph{setters} (\refSectionPage{categoryModifier}).
\end{itemize}

En GALGAS, \emph{méthodes}, \emph{getters} et \emph{setters} s'appliquent sur un objet d'un type quelconque (qui n'est donc pas forcément un type \emph{classe}). Pour les types définis par l'utilisateur, \emph{méthodes}, \emph{getters} et \emph{setters} sont toujours déclarés en dehors de la déclaration du type auquel ils s'appliquent.


À chaque nature de sous-programme correspond une construction particulière pour l'appeler (\refTableau{appelSousProgramme}).

\begin{table}[t]
  \centering
    \begin{tabular}{lll}
      \textbf{Sous-programme} & \textbf{Construction}  & \textbf{Référence} \\
      \emph{routine} & Instruction d'appel de routine & \refSectionPage{appelRoutine} \\
      \emph{fonction} & Appel de fonction (dans une expression) & \refSubsectionPage{appelFonction} \\
      \emph{méthode} & Instruction d'appel de méthode & \refSectionPage{methodCallInstruction} \\
      \emph{getter} & Appel de getter (dans une expression) & \refSubsectionPage{appelReader} \\
      \emph{setter} & Instruction d'appel de setter & \refSectionPage{modifierCallInstruction} \\
    \end{tabular}
  \caption{Constructions d'appel de sous programme}
  \labelTableau{appelSousProgramme}
  \ligne
\end{table}








\sectionLabel{Arguments formels et paramètres effectifs}{correspondanceArgFormelsParametresEffectifs}

\subsection{Argument formel en entrée}

Le \refTableau{ArgumentFormelEntree} liste les différentes formes d'un argument formel en entrée. Le paramètre effectif correspondant est une expression précédée par \galgas{\!}.

\begin{table}[t]
  \centering
  \subfloat[Argument formel]{
    \begin{tabular}{ll}
      \textbf{Syntaxe} & \textbf{Remarque} \\
      \galgast{?}\galgas{@T variable} & \galgas{variable} est modifiable localement \\
      \galgast{?}\galgas{@T unused variable} & \galgas{variable} n'est pas utilisée \\
      \galgast{?}\galgas{let @T constante} & \galgas{constante} est une constante \\
      \galgast{?}\galgas{let @T unused constante} & \galgas{constante} est une constante inutilisée \\
    \end{tabular}
  }
  \subfloat[Paramètre effectif]{
    \begin{tabular}{ll}
      \textbf{Syntaxe} \\
      \galgas{\!expression}~~~~~~~~~~~\\
      \\
      \\
      \\
    \end{tabular}
  }
  \caption{Argument formel en entrée, paramètre effectif en sortie}
  \labelTableau{ArgumentFormelEntree}
  \ligne
\end{table}

\subsection{Argument formel en entrée/sortie}

Le \refTableau{ArgumentFormelEntreeSortie} liste les différentes formes d'un argument formel en entrée. Le paramètre effectif correspondant est une \emph{cible} précédée par \galgast{!?}. Une \emph{cible} est soit une variable, soit l'accès à un champ d'une variable de type \galgas{struct}.

\begin{table}[t]
  \centering
  \subfloat[Argument formel]{
    \begin{tabular}{ll}
      \textbf{Syntaxe} & \textbf{Remarque} \\
      \galgast{?!}\galgas{@T variable} & \galgas{variable} est modifiable \\
      \galgast{?!}\galgas{@T unused variable} & \galgas{variable} n'est pas utilisée \\
    \end{tabular}
  }
  \subfloat[Paramètre effectif]{
    \begin{tabular}{l}
      \textbf{Syntaxe} \\
      \galgast{!?}\galgas{cible}~~~~~~~~~~~\\
      \\
    \end{tabular}
  }
  \caption{Argument formel en entrée/sortie, paramètre effectif en sortie/entrée}
  \labelTableau{ArgumentFormelEntreeSortie}
  \ligne
\end{table}

\subsection{Argument formel en sortie}

\begin{table}[t]
  \centering
  \subfloat[Argument formel]{
    \begin{tabular}{ll}
      \textbf{Syntaxe} \\
      \galgas{\!@T var}~~~~~~~~~~~~\\
      \\
      \\
      \\
    \end{tabular}
  }
  \subfloat[Paramètre effectif]{
    \begin{tabular}{ll}
      \textbf{Syntaxe} & \textbf{Remarque} \\
      \galgast{?}\galgas{variable} & Affectation de variable \\
      \galgast{?}\galgas{@T variable} & Déclaration et affectation de variable \\
      \galgast{?}\galgas{*} & Variable anonyme \\
      \galgast{?}\galgas{let @T constante} & Déclaration et affectation de constante \\
    \end{tabular}
  }
  \caption{Argument formel en sortie, paramètre effectif en entrée}
  \labelTableau{ArgumentFormelSortie}
  \ligne
\end{table}






\sectionLabel{Liste d'arguments formels en entrée, en sortie, ou en entrée/sortie}{listeArgumentsFormels}






\sectionLabel{Liste de paramètres effectifs en entrée}{listeParametresEffectifsEntree}



